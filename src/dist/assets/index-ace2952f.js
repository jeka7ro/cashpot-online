import{r as b,a as el,b as fa}from"./vendor-b69f2a9f.js";import{N as va,u as tl,L as hr,a as Ke,b as ra,R as al,c as xe,B as rl}from"./router-d69acf51.js";import{E as Na,a as ke,B as _e,b as fe,M as je,U as $e,G as Se,C as ft,H as Ia,P as Zt,A as Be,T as ut,F as ee,S as At,c as Ye,d as ll,e as sl,f as nl,g as il,L as ol,h as la,i as cl,j as me,k as ue,D as ne,l as Xe,m as De,n as ze,o as Et,p as pr,q as ht,X as dl,r as rt,s as Le,R as at,t as ya,u as Ga,v as wa,w as Va,Z as Dt,x as ot,y as ml,z as Ja,I as se,J as St,K as ul,N as Ae,O as vt,Q as La,V as ja,W as gt,Y as br,_ as hl,$ as pl,a0 as xr,a1 as ka,a2 as He,a3 as _t,a4 as Ha,a5 as et,a6 as bl,a7 as Wa,a8 as xl,a9 as gl,aa as Vt,ab as dt}from"./icons-7613ec70.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var gr={exports:{}},sa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=b,vl=Symbol.for("react.element"),Nl=Symbol.for("react.fragment"),yl=Object.prototype.hasOwnProperty,wl=fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kl={key:!0,ref:!0,__self:!0,__source:!0};function fr(a,l,r){var s,i={},o=null,n=null;r!==void 0&&(o=""+r),l.key!==void 0&&(o=""+l.key),l.ref!==void 0&&(n=l.ref);for(s in l)yl.call(l,s)&&!kl.hasOwnProperty(s)&&(i[s]=l[s]);if(a&&a.defaultProps)for(s in l=a.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:vl,type:a,key:o,ref:n,props:i,_owner:wl.current}}sa.Fragment=Nl;sa.jsx=fr;sa.jsxs=fr;gr.exports=sa;var Pa=gr.exports;const ie=Pa.Fragment,e=Pa.jsx,t=Pa.jsxs;var Ca={},Ya=el;Ca.createRoot=Ya.createRoot,Ca.hydrateRoot=Ya.hydrateRoot;let Cl={data:""},Sl=a=>{if(typeof window=="object"){let l=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(a||document.head).appendChild(l),l.firstChild}return a||Cl},_l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Al=/\/\*[^]*?\*\/|  +/g,Xa=/\n+/g,it=(a,l)=>{let r="",s="",i="";for(let o in a){let n=a[o];o[0]=="@"?o[1]=="i"?r=o+" "+n+";":s+=o[1]=="f"?it(n,o):o+"{"+it(n,o[1]=="k"?"":l)+"}":typeof n=="object"?s+=it(n,l?l.replace(/([^,])+/g,m=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,m):m?m+" "+h:h)):o):n!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=it.p?it.p(o,n):o+":"+n+";")}return r+(l&&i?l+"{"+i+"}":i)+s},Ze={},vr=a=>{if(typeof a=="object"){let l="";for(let r in a)l+=r+vr(a[r]);return l}return a},El=(a,l,r,s,i)=>{let o=vr(a),n=Ze[o]||(Ze[o]=(h=>{let c=0,d=11;for(;c<h.length;)d=101*d+h.charCodeAt(c++)>>>0;return"go"+d})(o));if(!Ze[n]){let h=o!==a?a:(c=>{let d,p,f=[{}];for(;d=_l.exec(c.replace(Al,""));)d[4]?f.shift():d[3]?(p=d[3].replace(Xa," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][d[1]]=d[2].replace(Xa," ").trim();return f[0]})(a);Ze[n]=it(i?{["@keyframes "+n]:h}:h,r?"":"."+n)}let m=r&&Ze.g?Ze.g:null;return r&&(Ze.g=Ze[n]),((h,c,d,p)=>{p?c.data=c.data.replace(p,h):c.data.indexOf(h)===-1&&(c.data=d?h+c.data:c.data+h)})(Ze[n],l,s,m),n},Dl=(a,l,r)=>a.reduce((s,i,o)=>{let n=l[o];if(n&&n.call){let m=n(r),h=m&&m.props&&m.props.className||/^go/.test(m)&&m;n=h?"."+h:m&&typeof m=="object"?m.props?"":it(m,""):m===!1?"":m}return s+i+(n??"")},"");function na(a){let l=this||{},r=a.call?a(l.p):a;return El(r.unshift?r.raw?Dl(r,[].slice.call(arguments,1),l.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(l.p):i),{}):r,Sl(l.target),l.g,l.o,l.k)}let Nr,Sa,_a;na.bind({g:1});let lt=na.bind({k:1});function Tl(a,l,r,s){it.p=l,Nr=a,Sa=r,_a=s}function ct(a,l){let r=this||{};return function(){let s=arguments;function i(o,n){let m=Object.assign({},o),h=m.className||i.className;r.p=Object.assign({theme:Sa&&Sa()},m),r.o=/ *go\d+/.test(h),m.className=na.apply(r,s)+(h?" "+h:""),l&&(m.ref=n);let c=a;return a[0]&&(c=m.as||a,delete m.as),_a&&c[0]&&_a(m),Nr(c,m)}return l?l(i):i}}var zl=a=>typeof a=="function",ea=(a,l)=>zl(a)?a(l):a,Il=(()=>{let a=0;return()=>(++a).toString()})(),yr=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");a=!l||l.matches}return a}})(),Ll=20,Fa="default",wr=(a,l)=>{let{toastLimit:r}=a.settings;switch(l.type){case 0:return{...a,toasts:[l.toast,...a.toasts].slice(0,r)};case 1:return{...a,toasts:a.toasts.map(n=>n.id===l.toast.id?{...n,...l.toast}:n)};case 2:let{toast:s}=l;return wr(a,{type:a.toasts.find(n=>n.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=l;return{...a,toasts:a.toasts.map(n=>n.id===i||i===void 0?{...n,dismissed:!0,visible:!1}:n)};case 4:return l.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(n=>n.id!==l.toastId)};case 5:return{...a,pausedAt:l.time};case 6:let o=l.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+o}))}}},Wt=[],kr={toasts:[],pausedAt:void 0,settings:{toastLimit:Ll}},We={},Cr=(a,l=Fa)=>{We[l]=wr(We[l]||kr,a),Wt.forEach(([r,s])=>{r===l&&s(We[l])})},Sr=a=>Object.keys(We).forEach(l=>Cr(a,l)),jl=a=>Object.keys(We).find(l=>We[l].toasts.some(r=>r.id===a)),ia=(a=Fa)=>l=>{Cr(l,a)},Pl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fl=(a={},l=Fa)=>{let[r,s]=b.useState(We[l]||kr),i=b.useRef(We[l]);b.useEffect(()=>(i.current!==We[l]&&s(We[l]),Wt.push([l,s]),()=>{let n=Wt.findIndex(([m])=>m===l);n>-1&&Wt.splice(n,1)}),[l]);let o=r.toasts.map(n=>{var m,h,c;return{...a,...a[n.type],...n,removeDelay:n.removeDelay||((m=a[n.type])==null?void 0:m.removeDelay)||(a==null?void 0:a.removeDelay),duration:n.duration||((h=a[n.type])==null?void 0:h.duration)||(a==null?void 0:a.duration)||Pl[n.type],style:{...a.style,...(c=a[n.type])==null?void 0:c.style,...n.style}}});return{...r,toasts:o}},Rl=(a,l="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Il()}),Tt=a=>(l,r)=>{let s=Rl(l,a,r);return ia(s.toasterId||jl(s.id))({type:2,toast:s}),s.id},K=(a,l)=>Tt("blank")(a,l);K.error=Tt("error");K.success=Tt("success");K.loading=Tt("loading");K.custom=Tt("custom");K.dismiss=(a,l)=>{let r={type:3,toastId:a};l?ia(l)(r):Sr(r)};K.dismissAll=a=>K.dismiss(void 0,a);K.remove=(a,l)=>{let r={type:4,toastId:a};l?ia(l)(r):Sr(r)};K.removeAll=a=>K.remove(void 0,a);K.promise=(a,l,r)=>{let s=K.loading(l.loading,{...r,...r==null?void 0:r.loading});return typeof a=="function"&&(a=a()),a.then(i=>{let o=l.success?ea(l.success,i):void 0;return o?K.success(o,{id:s,...r,...r==null?void 0:r.success}):K.dismiss(s),i}).catch(i=>{let o=l.error?ea(l.error,i):void 0;o?K.error(o,{id:s,...r,...r==null?void 0:r.error}):K.dismiss(s)}),a};var Ol=1e3,Ml=(a,l="default")=>{let{toasts:r,pausedAt:s}=Fl(a,l),i=b.useRef(new Map).current,o=b.useCallback((p,f=Ol)=>{if(i.has(p))return;let S=setTimeout(()=>{i.delete(p),n({type:4,toastId:p})},f);i.set(p,S)},[]);b.useEffect(()=>{if(s)return;let p=Date.now(),f=r.map(S=>{if(S.duration===1/0)return;let v=(S.duration||0)+S.pauseDuration-(p-S.createdAt);if(v<0){S.visible&&K.dismiss(S.id);return}return setTimeout(()=>K.dismiss(S.id,l),v)});return()=>{f.forEach(S=>S&&clearTimeout(S))}},[r,s,l]);let n=b.useCallback(ia(l),[l]),m=b.useCallback(()=>{n({type:5,time:Date.now()})},[n]),h=b.useCallback((p,f)=>{n({type:1,toast:{id:p,height:f}})},[n]),c=b.useCallback(()=>{s&&n({type:6,time:Date.now()})},[s,n]),d=b.useCallback((p,f)=>{let{reverseOrder:S=!1,gutter:v=8,defaultPosition:N}=f||{},y=r.filter(g=>(g.position||N)===(p.position||N)&&g.height),z=y.findIndex(g=>g.id===p.id),j=y.filter((g,w)=>w<z&&g.visible).length;return y.filter(g=>g.visible).slice(...S?[j+1]:[0,j]).reduce((g,w)=>g+(w.height||0)+v,0)},[r]);return b.useEffect(()=>{r.forEach(p=>{if(p.dismissed)o(p.id,p.removeDelay);else{let f=i.get(p.id);f&&(clearTimeout(f),i.delete(p.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:h,startPause:m,endPause:c,calculateOffset:d}}},$l=lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Bl=lt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ul=lt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ql=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$l} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Bl} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ul} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gl=lt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vl=ct("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${Gl} 1s linear infinite;
`,Jl=lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hl=lt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Wl=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Yl=ct("div")`
  position: absolute;
`,Xl=ct("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kl=lt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ql=ct("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zl=({toast:a})=>{let{icon:l,type:r,iconTheme:s}=a;return l!==void 0?typeof l=="string"?b.createElement(Ql,null,l):l:r==="blank"?null:b.createElement(Xl,null,b.createElement(Vl,{...s}),r!=="loading"&&b.createElement(Yl,null,r==="error"?b.createElement(ql,{...s}):b.createElement(Wl,{...s})))},es=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ts=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,as="0%{opacity:0;} 100%{opacity:1;}",rs="0%{opacity:1;} 100%{opacity:0;}",ls=ct("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ss=ct("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ns=(a,l)=>{let r=a.includes("top")?1:-1,[s,i]=yr()?[as,rs]:[es(r),ts(r)];return{animation:l?`${lt(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},is=b.memo(({toast:a,position:l,style:r,children:s})=>{let i=a.height?ns(a.position||l||"top-center",a.visible):{opacity:0},o=b.createElement(Zl,{toast:a}),n=b.createElement(ss,{...a.ariaProps},ea(a.message,a));return b.createElement(ls,{className:a.className,style:{...i,...r,...a.style}},typeof s=="function"?s({icon:o,message:n}):b.createElement(b.Fragment,null,o,n))});Tl(b.createElement);var os=({id:a,className:l,style:r,onHeightUpdate:s,children:i})=>{let o=b.useCallback(n=>{if(n){let m=()=>{let h=n.getBoundingClientRect().height;s(a,h)};m(),new MutationObserver(m).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[a,s]);return b.createElement("div",{ref:o,className:l,style:r},i)},cs=(a,l)=>{let r=a.includes("top"),s=r?{top:0}:{bottom:0},i=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(r?1:-1)}px)`,...s,...i}},ds=na`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jt=16,ms=({reverseOrder:a,position:l="top-center",toastOptions:r,gutter:s,children:i,toasterId:o,containerStyle:n,containerClassName:m})=>{let{toasts:h,handlers:c}=Ml(r,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Jt,left:Jt,right:Jt,bottom:Jt,pointerEvents:"none",...n},className:m,onMouseEnter:c.startPause,onMouseLeave:c.endPause},h.map(d=>{let p=d.position||l,f=c.calculateOffset(d,{reverseOrder:a,gutter:s,defaultPosition:l}),S=cs(p,f);return b.createElement(os,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?ds:"",style:S},d.type==="custom"?ea(d.message,d):i?i(d):b.createElement(is,{toast:d,position:p}))}))},Re=K;const _r=b.createContext(),us=()=>{const a=b.useContext(_r);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},hs=({children:a})=>{const[l,r]=b.useState(()=>localStorage.getItem("theme")||"light");b.useEffect(()=>{localStorage.setItem("theme",l),l==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const s=()=>{r(i=>i==="light"?"dark":"light")};return e(_r.Provider,{value:{theme:l,setTheme:r,toggleTheme:s},children:a})};function Ar(a,l){return function(){return a.apply(l,arguments)}}const{toString:ps}=Object.prototype,{getPrototypeOf:Ra}=Object,{iterator:oa,toStringTag:Er}=Symbol,ca=(a=>l=>{const r=ps.call(l);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=a=>(a=a.toLowerCase(),l=>ca(l)===a),da=a=>l=>typeof l===a,{isArray:yt}=Array,Nt=da("undefined");function zt(a){return a!==null&&!Nt(a)&&a.constructor!==null&&!Nt(a.constructor)&&Te(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Dr=Ue("ArrayBuffer");function bs(a){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(a):l=a&&a.buffer&&Dr(a.buffer),l}const xs=da("string"),Te=da("function"),Tr=da("number"),It=a=>a!==null&&typeof a=="object",gs=a=>a===!0||a===!1,Yt=a=>{if(ca(a)!=="object")return!1;const l=Ra(a);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Er in a)&&!(oa in a)},fs=a=>{if(!It(a)||zt(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},vs=Ue("Date"),Ns=Ue("File"),ys=Ue("Blob"),ws=Ue("FileList"),ks=a=>It(a)&&Te(a.pipe),Cs=a=>{let l;return a&&(typeof FormData=="function"&&a instanceof FormData||Te(a.append)&&((l=ca(a))==="formdata"||l==="object"&&Te(a.toString)&&a.toString()==="[object FormData]"))},Ss=Ue("URLSearchParams"),[_s,As,Es,Ds]=["ReadableStream","Request","Response","Headers"].map(Ue),Ts=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lt(a,l,{allOwnKeys:r=!1}={}){if(a===null||typeof a>"u")return;let s,i;if(typeof a!="object"&&(a=[a]),yt(a))for(s=0,i=a.length;s<i;s++)l.call(null,a[s],s,a);else{if(zt(a))return;const o=r?Object.getOwnPropertyNames(a):Object.keys(a),n=o.length;let m;for(s=0;s<n;s++)m=o[s],l.call(null,a[m],m,a)}}function zr(a,l){if(zt(a))return null;l=l.toLowerCase();const r=Object.keys(a);let s=r.length,i;for(;s-- >0;)if(i=r[s],l===i.toLowerCase())return i;return null}const mt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ir=a=>!Nt(a)&&a!==mt;function Aa(){const{caseless:a,skipUndefined:l}=Ir(this)&&this||{},r={},s=(i,o)=>{const n=a&&zr(r,o)||o;Yt(r[n])&&Yt(i)?r[n]=Aa(r[n],i):Yt(i)?r[n]=Aa({},i):yt(i)?r[n]=i.slice():(!l||!Nt(i))&&(r[n]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Lt(arguments[i],s);return r}const zs=(a,l,r,{allOwnKeys:s}={})=>(Lt(l,(i,o)=>{r&&Te(i)?a[o]=Ar(i,r):a[o]=i},{allOwnKeys:s}),a),Is=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Ls=(a,l,r,s)=>{a.prototype=Object.create(l.prototype,s),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:l.prototype}),r&&Object.assign(a.prototype,r)},js=(a,l,r,s)=>{let i,o,n;const m={};if(l=l||{},a==null)return l;do{for(i=Object.getOwnPropertyNames(a),o=i.length;o-- >0;)n=i[o],(!s||s(n,a,l))&&!m[n]&&(l[n]=a[n],m[n]=!0);a=r!==!1&&Ra(a)}while(a&&(!r||r(a,l))&&a!==Object.prototype);return l},Ps=(a,l,r)=>{a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=l.length;const s=a.indexOf(l,r);return s!==-1&&s===r},Fs=a=>{if(!a)return null;if(yt(a))return a;let l=a.length;if(!Tr(l))return null;const r=new Array(l);for(;l-- >0;)r[l]=a[l];return r},Rs=(a=>l=>a&&l instanceof a)(typeof Uint8Array<"u"&&Ra(Uint8Array)),Os=(a,l)=>{const s=(a&&a[oa]).call(a);let i;for(;(i=s.next())&&!i.done;){const o=i.value;l.call(a,o[0],o[1])}},Ms=(a,l)=>{let r;const s=[];for(;(r=a.exec(l))!==null;)s.push(r);return s},$s=Ue("HTMLFormElement"),Bs=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),Ka=(({hasOwnProperty:a})=>(l,r)=>a.call(l,r))(Object.prototype),Us=Ue("RegExp"),Lr=(a,l)=>{const r=Object.getOwnPropertyDescriptors(a),s={};Lt(r,(i,o)=>{let n;(n=l(i,o,a))!==!1&&(s[o]=n||i)}),Object.defineProperties(a,s)},qs=a=>{Lr(a,(l,r)=>{if(Te(a)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=a[r];if(Te(s)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Gs=(a,l)=>{const r={},s=i=>{i.forEach(o=>{r[o]=!0})};return yt(a)?s(a):s(String(a).split(l)),r},Vs=()=>{},Js=(a,l)=>a!=null&&Number.isFinite(a=+a)?a:l;function Hs(a){return!!(a&&Te(a.append)&&a[Er]==="FormData"&&a[oa])}const Ws=a=>{const l=new Array(10),r=(s,i)=>{if(It(s)){if(l.indexOf(s)>=0)return;if(zt(s))return s;if(!("toJSON"in s)){l[i]=s;const o=yt(s)?[]:{};return Lt(s,(n,m)=>{const h=r(n,i+1);!Nt(h)&&(o[m]=h)}),l[i]=void 0,o}}return s};return r(a,0)},Ys=Ue("AsyncFunction"),Xs=a=>a&&(It(a)||Te(a))&&Te(a.then)&&Te(a.catch),jr=((a,l)=>a?setImmediate:l?((r,s)=>(mt.addEventListener("message",({source:i,data:o})=>{i===mt&&o===r&&s.length&&s.shift()()},!1),i=>{s.push(i),mt.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Te(mt.postMessage)),Ks=typeof queueMicrotask<"u"?queueMicrotask.bind(mt):typeof process<"u"&&process.nextTick||jr,Qs=a=>a!=null&&Te(a[oa]),F={isArray:yt,isArrayBuffer:Dr,isBuffer:zt,isFormData:Cs,isArrayBufferView:bs,isString:xs,isNumber:Tr,isBoolean:gs,isObject:It,isPlainObject:Yt,isEmptyObject:fs,isReadableStream:_s,isRequest:As,isResponse:Es,isHeaders:Ds,isUndefined:Nt,isDate:vs,isFile:Ns,isBlob:ys,isRegExp:Us,isFunction:Te,isStream:ks,isURLSearchParams:Ss,isTypedArray:Rs,isFileList:ws,forEach:Lt,merge:Aa,extend:zs,trim:Ts,stripBOM:Is,inherits:Ls,toFlatObject:js,kindOf:ca,kindOfTest:Ue,endsWith:Ps,toArray:Fs,forEachEntry:Os,matchAll:Ms,isHTMLForm:$s,hasOwnProperty:Ka,hasOwnProp:Ka,reduceDescriptors:Lr,freezeMethods:qs,toObjectSet:Gs,toCamelCase:Bs,noop:Vs,toFiniteNumber:Js,findKey:zr,global:mt,isContextDefined:Ir,isSpecCompliantForm:Hs,toJSONObject:Ws,isAsyncFn:Ys,isThenable:Xs,setImmediate:jr,asap:Ks,isIterable:Qs};function Z(a,l,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",l&&(this.code=l),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const Pr=Z.prototype,Fr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Fr[a]={value:a}});Object.defineProperties(Z,Fr);Object.defineProperty(Pr,"isAxiosError",{value:!0});Z.from=(a,l,r,s,i,o)=>{const n=Object.create(Pr);F.toFlatObject(a,n,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const m=a&&a.message?a.message:"Error",h=l==null&&a?a.code:l;return Z.call(n,m,h,r,s,i),a&&n.cause==null&&Object.defineProperty(n,"cause",{value:a,configurable:!0}),n.name=a&&a.name||"Error",o&&Object.assign(n,o),n};const Zs=null;function Ea(a){return F.isPlainObject(a)||F.isArray(a)}function Rr(a){return F.endsWith(a,"[]")?a.slice(0,-2):a}function Qa(a,l,r){return a?a.concat(l).map(function(i,o){return i=Rr(i),!r&&o?"["+i+"]":i}).join(r?".":""):l}function en(a){return F.isArray(a)&&!a.some(Ea)}const tn=F.toFlatObject(F,{},null,function(l){return/^is[A-Z]/.test(l)});function ma(a,l,r){if(!F.isObject(a))throw new TypeError("target must be an object");l=l||new FormData,r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,y){return!F.isUndefined(y[N])});const s=r.metaTokens,i=r.visitor||d,o=r.dots,n=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(l);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(F.isDate(v))return v.toISOString();if(F.isBoolean(v))return v.toString();if(!h&&F.isBlob(v))throw new Z("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(v)||F.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,N,y){let z=v;if(v&&!y&&typeof v=="object"){if(F.endsWith(N,"{}"))N=s?N:N.slice(0,-2),v=JSON.stringify(v);else if(F.isArray(v)&&en(v)||(F.isFileList(v)||F.endsWith(N,"[]"))&&(z=F.toArray(v)))return N=Rr(N),z.forEach(function(g,w){!(F.isUndefined(g)||g===null)&&l.append(n===!0?Qa([N],w,o):n===null?N:N+"[]",c(g))}),!1}return Ea(v)?!0:(l.append(Qa(y,N,o),c(v)),!1)}const p=[],f=Object.assign(tn,{defaultVisitor:d,convertValue:c,isVisitable:Ea});function S(v,N){if(!F.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(v),F.forEach(v,function(z,j){(!(F.isUndefined(z)||z===null)&&i.call(l,z,F.isString(j)?j.trim():j,N,f))===!0&&S(z,N?N.concat(j):[j])}),p.pop()}}if(!F.isObject(a))throw new TypeError("data must be an object");return S(a),l}function Za(a){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(s){return l[s]})}function Oa(a,l){this._pairs=[],a&&ma(a,this,l)}const Or=Oa.prototype;Or.append=function(l,r){this._pairs.push([l,r])};Or.toString=function(l){const r=l?function(s){return l.call(this,s,Za)}:Za;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function an(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mr(a,l,r){if(!l)return a;const s=r&&r.encode||an;F.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(l,r):o=F.isURLSearchParams(l)?l.toString():new Oa(l,r).toString(s),o){const n=a.indexOf("#");n!==-1&&(a=a.slice(0,n)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a}class rn{constructor(){this.handlers=[]}use(l,r,s){return this.handlers.push({fulfilled:l,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){F.forEach(this.handlers,function(s){s!==null&&l(s)})}}const er=rn,$r={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln=typeof URLSearchParams<"u"?URLSearchParams:Oa,sn=typeof FormData<"u"?FormData:null,nn=typeof Blob<"u"?Blob:null,on={isBrowser:!0,classes:{URLSearchParams:ln,FormData:sn,Blob:nn},protocols:["http","https","file","blob","url","data"]},Ma=typeof window<"u"&&typeof document<"u",Da=typeof navigator=="object"&&navigator||void 0,cn=Ma&&(!Da||["ReactNative","NativeScript","NS"].indexOf(Da.product)<0),dn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),mn=Ma&&window.location.href||"http://localhost",un=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ma,hasStandardBrowserEnv:cn,hasStandardBrowserWebWorkerEnv:dn,navigator:Da,origin:mn},Symbol.toStringTag,{value:"Module"})),Ce={...un,...on};function hn(a,l){return ma(a,new Ce.classes.URLSearchParams,{visitor:function(r,s,i,o){return Ce.isNode&&F.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...l})}function pn(a){return F.matchAll(/\w+|\[(\w*)]/g,a).map(l=>l[0]==="[]"?"":l[1]||l[0])}function bn(a){const l={},r=Object.keys(a);let s;const i=r.length;let o;for(s=0;s<i;s++)o=r[s],l[o]=a[o];return l}function Br(a){function l(r,s,i,o){let n=r[o++];if(n==="__proto__")return!0;const m=Number.isFinite(+n),h=o>=r.length;return n=!n&&F.isArray(i)?i.length:n,h?(F.hasOwnProp(i,n)?i[n]=[i[n],s]:i[n]=s,!m):((!i[n]||!F.isObject(i[n]))&&(i[n]=[]),l(r,s,i[n],o)&&F.isArray(i[n])&&(i[n]=bn(i[n])),!m)}if(F.isFormData(a)&&F.isFunction(a.entries)){const r={};return F.forEachEntry(a,(s,i)=>{l(pn(s),i,r,0)}),r}return null}function xn(a,l,r){if(F.isString(a))try{return(l||JSON.parse)(a),F.trim(a)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(a)}const $a={transitional:$r,adapter:["xhr","http","fetch"],transformRequest:[function(l,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,o=F.isObject(l);if(o&&F.isHTMLForm(l)&&(l=new FormData(l)),F.isFormData(l))return i?JSON.stringify(Br(l)):l;if(F.isArrayBuffer(l)||F.isBuffer(l)||F.isStream(l)||F.isFile(l)||F.isBlob(l)||F.isReadableStream(l))return l;if(F.isArrayBufferView(l))return l.buffer;if(F.isURLSearchParams(l))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let m;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return hn(l,this.formSerializer).toString();if((m=F.isFileList(l))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ma(m?{"files[]":l}:l,h&&new h,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),xn(l)):l}],transformResponse:[function(l){const r=this.transitional||$a.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(l)||F.isReadableStream(l))return l;if(l&&F.isString(l)&&(s&&!this.responseType||i)){const n=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(l,this.parseReviver)}catch(m){if(n)throw m.name==="SyntaxError"?Z.from(m,Z.ERR_BAD_RESPONSE,this,null,this.response):m}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],a=>{$a.headers[a]={}});const Ba=$a,gn=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fn=a=>{const l={};let r,s,i;return a&&a.split(`
`).forEach(function(n){i=n.indexOf(":"),r=n.substring(0,i).trim().toLowerCase(),s=n.substring(i+1).trim(),!(!r||l[r]&&gn[r])&&(r==="set-cookie"?l[r]?l[r].push(s):l[r]=[s]:l[r]=l[r]?l[r]+", "+s:s)}),l},tr=Symbol("internals");function Ct(a){return a&&String(a).trim().toLowerCase()}function Xt(a){return a===!1||a==null?a:F.isArray(a)?a.map(Xt):String(a)}function vn(a){const l=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(a);)l[s[1]]=s[2];return l}const Nn=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ba(a,l,r,s,i){if(F.isFunction(s))return s.call(this,l,r);if(i&&(l=r),!!F.isString(l)){if(F.isString(s))return l.indexOf(s)!==-1;if(F.isRegExp(s))return s.test(l)}}function yn(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,r,s)=>r.toUpperCase()+s)}function wn(a,l){const r=F.toCamelCase(" "+l);["get","set","has"].forEach(s=>{Object.defineProperty(a,s+r,{value:function(i,o,n){return this[s].call(this,l,i,o,n)},configurable:!0})})}class ua{constructor(l){l&&this.set(l)}set(l,r,s){const i=this;function o(m,h,c){const d=Ct(h);if(!d)throw new Error("header name must be a non-empty string");const p=F.findKey(i,d);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||h]=Xt(m))}const n=(m,h)=>F.forEach(m,(c,d)=>o(c,d,h));if(F.isPlainObject(l)||l instanceof this.constructor)n(l,r);else if(F.isString(l)&&(l=l.trim())&&!Nn(l))n(fn(l),r);else if(F.isObject(l)&&F.isIterable(l)){let m={},h,c;for(const d of l){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");m[c=d[0]]=(h=m[c])?F.isArray(h)?[...h,d[1]]:[h,d[1]]:d[1]}n(m,r)}else l!=null&&o(r,l,s);return this}get(l,r){if(l=Ct(l),l){const s=F.findKey(this,l);if(s){const i=this[s];if(!r)return i;if(r===!0)return vn(i);if(F.isFunction(r))return r.call(this,i,s);if(F.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,r){if(l=Ct(l),l){const s=F.findKey(this,l);return!!(s&&this[s]!==void 0&&(!r||ba(this,this[s],s,r)))}return!1}delete(l,r){const s=this;let i=!1;function o(n){if(n=Ct(n),n){const m=F.findKey(s,n);m&&(!r||ba(s,s[m],m,r))&&(delete s[m],i=!0)}}return F.isArray(l)?l.forEach(o):o(l),i}clear(l){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const o=r[s];(!l||ba(this,this[o],o,l,!0))&&(delete this[o],i=!0)}return i}normalize(l){const r=this,s={};return F.forEach(this,(i,o)=>{const n=F.findKey(s,o);if(n){r[n]=Xt(i),delete r[o];return}const m=l?yn(o):String(o).trim();m!==o&&delete r[o],r[m]=Xt(i),s[m]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const r=Object.create(null);return F.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=l&&F.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,r])=>l+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...r){const s=new this(l);return r.forEach(i=>s.set(i)),s}static accessor(l){const s=(this[tr]=this[tr]={accessors:{}}).accessors,i=this.prototype;function o(n){const m=Ct(n);s[m]||(wn(i,n),s[m]=!0)}return F.isArray(l)?l.forEach(o):o(l),this}}ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(ua.prototype,({value:a},l)=>{let r=l[0].toUpperCase()+l.slice(1);return{get:()=>a,set(s){this[r]=s}}});F.freezeMethods(ua);const Me=ua;function xa(a,l){const r=this||Ba,s=l||r,i=Me.from(s.headers);let o=s.data;return F.forEach(a,function(m){o=m.call(r,o,i.normalize(),l?l.status:void 0)}),i.normalize(),o}function Ur(a){return!!(a&&a.__CANCEL__)}function wt(a,l,r){Z.call(this,a??"canceled",Z.ERR_CANCELED,l,r),this.name="CanceledError"}F.inherits(wt,Z,{__CANCEL__:!0});function qr(a,l,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?a(r):l(new Z("Request failed with status code "+r.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kn(a){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return l&&l[1]||""}function Cn(a,l){a=a||10;const r=new Array(a),s=new Array(a);let i=0,o=0,n;return l=l!==void 0?l:1e3,function(h){const c=Date.now(),d=s[o];n||(n=c),r[i]=h,s[i]=c;let p=o,f=0;for(;p!==i;)f+=r[p++],p=p%a;if(i=(i+1)%a,i===o&&(o=(o+1)%a),c-n<l)return;const S=d&&c-d;return S?Math.round(f*1e3/S):void 0}}function Sn(a,l){let r=0,s=1e3/l,i,o;const n=(c,d=Date.now())=>{r=d,i=null,o&&(clearTimeout(o),o=null),a(...c)};return[(...c)=>{const d=Date.now(),p=d-r;p>=s?n(c,d):(i=c,o||(o=setTimeout(()=>{o=null,n(i)},s-p)))},()=>i&&n(i)]}const ta=(a,l,r=3)=>{let s=0;const i=Cn(50,250);return Sn(o=>{const n=o.loaded,m=o.lengthComputable?o.total:void 0,h=n-s,c=i(h),d=n<=m;s=n;const p={loaded:n,total:m,progress:m?n/m:void 0,bytes:h,rate:c||void 0,estimated:c&&m&&d?(m-n)/c:void 0,event:o,lengthComputable:m!=null,[l?"download":"upload"]:!0};a(p)},r)},ar=(a,l)=>{const r=a!=null;return[s=>l[0]({lengthComputable:r,total:a,loaded:s}),l[1]]},rr=a=>(...l)=>F.asap(()=>a(...l)),_n=Ce.hasStandardBrowserEnv?((a,l)=>r=>(r=new URL(r,Ce.origin),a.protocol===r.protocol&&a.host===r.host&&(l||a.port===r.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,An=Ce.hasStandardBrowserEnv?{write(a,l,r,s,i,o){const n=[a+"="+encodeURIComponent(l)];F.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),F.isString(s)&&n.push("path="+s),F.isString(i)&&n.push("domain="+i),o===!0&&n.push("secure"),document.cookie=n.join("; ")},read(a){const l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function En(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Dn(a,l){return l?a.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):a}function Gr(a,l,r){let s=!En(l);return a&&(s||r==!1)?Dn(a,l):l}const lr=a=>a instanceof Me?{...a}:a;function pt(a,l){l=l||{};const r={};function s(c,d,p,f){return F.isPlainObject(c)&&F.isPlainObject(d)?F.merge.call({caseless:f},c,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function i(c,d,p,f){if(F.isUndefined(d)){if(!F.isUndefined(c))return s(void 0,c,p,f)}else return s(c,d,p,f)}function o(c,d){if(!F.isUndefined(d))return s(void 0,d)}function n(c,d){if(F.isUndefined(d)){if(!F.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function m(c,d,p){if(p in l)return s(c,d);if(p in a)return s(void 0,c)}const h={url:o,method:o,data:o,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:m,headers:(c,d,p)=>i(lr(c),lr(d),p,!0)};return F.forEach(Object.keys({...a,...l}),function(d){const p=h[d]||i,f=p(a[d],l[d],d);F.isUndefined(f)&&p!==m||(r[d]=f)}),r}const Vr=a=>{const l=pt({},a);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:n,auth:m}=l;if(l.headers=n=Me.from(n),l.url=Mr(Gr(l.baseURL,l.url,l.allowAbsoluteUrls),a.params,a.paramsSerializer),m&&n.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),F.isFormData(r)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if(F.isFunction(r.getHeaders)){const h=r.getHeaders(),c=["content-type","content-length"];Object.entries(h).forEach(([d,p])=>{c.includes(d.toLowerCase())&&n.set(d,p)})}}if(Ce.hasStandardBrowserEnv&&(s&&F.isFunction(s)&&(s=s(l)),s||s!==!1&&_n(l.url))){const h=i&&o&&An.read(o);h&&n.set(i,h)}return l},Tn=typeof XMLHttpRequest<"u",zn=Tn&&function(a){return new Promise(function(r,s){const i=Vr(a);let o=i.data;const n=Me.from(i.headers).normalize();let{responseType:m,onUploadProgress:h,onDownloadProgress:c}=i,d,p,f,S,v;function N(){S&&S(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function z(){if(!y)return;const g=Me.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),L={data:!m||m==="text"||m==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:a,request:y};qr(function(q){r(q),N()},function(q){s(q),N()},L),y=null}"onloadend"in y?y.onloadend=z:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(z)},y.onabort=function(){y&&(s(new Z("Request aborted",Z.ECONNABORTED,a,y)),y=null)},y.onerror=function(w){const L=w&&w.message?w.message:"Network Error",_=new Z(L,Z.ERR_NETWORK,a,y);_.event=w||null,s(_),y=null},y.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||$r;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),s(new Z(w,L.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,a,y)),y=null},o===void 0&&n.setContentType(null),"setRequestHeader"in y&&F.forEach(n.toJSON(),function(w,L){y.setRequestHeader(L,w)}),F.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),m&&m!=="json"&&(y.responseType=i.responseType),c&&([f,v]=ta(c,!0),y.addEventListener("progress",f)),h&&y.upload&&([p,S]=ta(h),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(d=g=>{y&&(s(!g||g.type?new wt(null,a,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const j=kn(i.url);if(j&&Ce.protocols.indexOf(j)===-1){s(new Z("Unsupported protocol "+j+":",Z.ERR_BAD_REQUEST,a));return}y.send(o||null)})},In=(a,l)=>{const{length:r}=a=a?a.filter(Boolean):[];if(l||r){let s=new AbortController,i;const o=function(c){if(!i){i=!0,m();const d=c instanceof Error?c:this.reason;s.abort(d instanceof Z?d:new wt(d instanceof Error?d.message:d))}};let n=l&&setTimeout(()=>{n=null,o(new Z(`timeout ${l} of ms exceeded`,Z.ETIMEDOUT))},l);const m=()=>{a&&(n&&clearTimeout(n),n=null,a.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),a=null)};a.forEach(c=>c.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>F.asap(m),h}},Ln=In,jn=function*(a,l){let r=a.byteLength;if(!l||r<l){yield a;return}let s=0,i;for(;s<r;)i=s+l,yield a.slice(s,i),s=i},Pn=async function*(a,l){for await(const r of Fn(a))yield*jn(r,l)},Fn=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const l=a.getReader();try{for(;;){const{done:r,value:s}=await l.read();if(r)break;yield s}}finally{await l.cancel()}},sr=(a,l,r,s)=>{const i=Pn(a,l);let o=0,n,m=h=>{n||(n=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:c,value:d}=await i.next();if(c){m(),h.close();return}let p=d.byteLength;if(r){let f=o+=p;r(f)}h.enqueue(new Uint8Array(d))}catch(c){throw m(c),c}},cancel(h){return m(h),i.return()}},{highWaterMark:2})},nr=64*1024,{isFunction:Ht}=F,Rn=(({Request:a,Response:l})=>({Request:a,Response:l}))(F.global),{ReadableStream:ir,TextEncoder:or}=F.global,cr=(a,...l)=>{try{return!!a(...l)}catch{return!1}},On=a=>{a=F.merge.call({skipUndefined:!0},Rn,a);const{fetch:l,Request:r,Response:s}=a,i=l?Ht(l):typeof fetch=="function",o=Ht(r),n=Ht(s);if(!i)return!1;const m=i&&Ht(ir),h=i&&(typeof or=="function"?(v=>N=>v.encode(N))(new or):async v=>new Uint8Array(await new r(v).arrayBuffer())),c=o&&m&&cr(()=>{let v=!1;const N=new r(Ce.origin,{body:new ir,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),d=n&&m&&cr(()=>F.isReadableStream(new s("").body)),p={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!p[v]&&(p[v]=(N,y)=>{let z=N&&N[v];if(z)return z.call(N);throw new Z(`Response type '${v}' is not supported`,Z.ERR_NOT_SUPPORT,y)})});const f=async v=>{if(v==null)return 0;if(F.isBlob(v))return v.size;if(F.isSpecCompliantForm(v))return(await new r(Ce.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(F.isArrayBufferView(v)||F.isArrayBuffer(v))return v.byteLength;if(F.isURLSearchParams(v)&&(v=v+""),F.isString(v))return(await h(v)).byteLength},S=async(v,N)=>{const y=F.toFiniteNumber(v.getContentLength());return y??f(N)};return async v=>{let{url:N,method:y,data:z,signal:j,cancelToken:g,timeout:w,onDownloadProgress:L,onUploadProgress:_,responseType:q,headers:I,withCredentials:k="same-origin",fetchOptions:O}=Vr(v),x=l||fetch;q=q?(q+"").toLowerCase():"text";let D=Ln([j,g&&g.toAbortSignal()],w),C=null;const u=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let E;try{if(_&&c&&y!=="get"&&y!=="head"&&(E=await S(I,z))!==0){let X=new r(N,{method:"POST",body:z,duplex:"half"}),re;if(F.isFormData(z)&&(re=X.headers.get("content-type"))&&I.setContentType(re),X.body){const[M,G]=ar(E,ta(rr(_)));z=sr(X.body,nr,M,G)}}F.isString(k)||(k=k?"include":"omit");const T=o&&"credentials"in r.prototype,R={...O,signal:D,method:y.toUpperCase(),headers:I.normalize().toJSON(),body:z,duplex:"half",credentials:T?k:void 0};C=o&&new r(N,R);let $=await(o?x(C,O):x(N,R));const J=d&&(q==="stream"||q==="response");if(d&&(L||J&&u)){const X={};["status","statusText","headers"].forEach(A=>{X[A]=$[A]});const re=F.toFiniteNumber($.headers.get("content-length")),[M,G]=L&&ar(re,ta(rr(L),!0))||[];$=new s(sr($.body,nr,M,()=>{G&&G(),u&&u()}),X)}q=q||"text";let H=await p[F.findKey(p,q)||"text"]($,v);return!J&&u&&u(),await new Promise((X,re)=>{qr(X,re,{data:H,headers:Me.from($.headers),status:$.status,statusText:$.statusText,config:v,request:C})})}catch(T){throw u&&u(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,v,C),{cause:T.cause||T}):Z.from(T,T&&T.code,v,C)}}},Mn=new Map,Jr=a=>{let l=a?a.env:{};const{fetch:r,Request:s,Response:i}=l,o=[s,i,r];let n=o.length,m=n,h,c,d=Mn;for(;m--;)h=o[m],c=d.get(h),c===void 0&&d.set(h,c=m?new Map:On(l)),d=c;return c};Jr();const Ta={http:Zs,xhr:zn,fetch:{get:Jr}};F.forEach(Ta,(a,l)=>{if(a){try{Object.defineProperty(a,"name",{value:l})}catch{}Object.defineProperty(a,"adapterName",{value:l})}});const dr=a=>`- ${a}`,$n=a=>F.isFunction(a)||a===null||a===!1,Hr={getAdapter:(a,l)=>{a=F.isArray(a)?a:[a];const{length:r}=a;let s,i;const o={};for(let n=0;n<r;n++){s=a[n];let m;if(i=s,!$n(s)&&(i=Ta[(m=String(s)).toLowerCase()],i===void 0))throw new Z(`Unknown adapter '${m}'`);if(i&&(F.isFunction(i)||(i=i.get(l))))break;o[m||"#"+n]=i}if(!i){const n=Object.entries(o).map(([h,c])=>`adapter ${h} `+(c===!1?"is not supported by the environment":"is not available in the build"));let m=r?n.length>1?`since :
`+n.map(dr).join(`
`):" "+dr(n[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return i},adapters:Ta};function ga(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new wt(null,a)}function mr(a){return ga(a),a.headers=Me.from(a.headers),a.data=xa.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Hr.getAdapter(a.adapter||Ba.adapter,a)(a).then(function(s){return ga(a),s.data=xa.call(a,a.transformResponse,s),s.headers=Me.from(s.headers),s},function(s){return Ur(s)||(ga(a),s&&s.response&&(s.response.data=xa.call(a,a.transformResponse,s.response),s.response.headers=Me.from(s.response.headers))),Promise.reject(s)})}const Wr="1.12.2",ha={};["object","boolean","number","function","string","symbol"].forEach((a,l)=>{ha[a]=function(s){return typeof s===a||"a"+(l<1?"n ":" ")+a}});const ur={};ha.transitional=function(l,r,s){function i(o,n){return"[Axios v"+Wr+"] Transitional option '"+o+"'"+n+(s?". "+s:"")}return(o,n,m)=>{if(l===!1)throw new Z(i(n," has been removed"+(r?" in "+r:"")),Z.ERR_DEPRECATED);return r&&!ur[n]&&(ur[n]=!0,console.warn(i(n," has been deprecated since v"+r+" and will be removed in the near future"))),l?l(o,n,m):!0}};ha.spelling=function(l){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${l}`),!0)};function Bn(a,l,r){if(typeof a!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const s=Object.keys(a);let i=s.length;for(;i-- >0;){const o=s[i],n=l[o];if(n){const m=a[o],h=m===void 0||n(m,o,a);if(h!==!0)throw new Z("option "+o+" must be "+h,Z.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}}const Kt={assertOptions:Bn,validators:ha},Je=Kt.validators;class aa{constructor(l){this.defaults=l||{},this.interceptors={request:new er,response:new er}}async request(l,r){try{return await this._request(l,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(l,r){typeof l=="string"?(r=r||{},r.url=l):r=l||{},r=pt(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:o}=r;s!==void 0&&Kt.assertOptions(s,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean)},!1),i!=null&&(F.isFunction(i)?r.paramsSerializer={serialize:i}:Kt.assertOptions(i,{encode:Je.function,serialize:Je.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Kt.assertOptions(r,{baseUrl:Je.spelling("baseURL"),withXsrfToken:Je.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=o&&F.merge(o.common,o[r.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),r.headers=Me.concat(n,o);const m=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(h=h&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let d,p=0,f;if(!h){const v=[mr.bind(this),void 0];for(v.unshift(...m),v.push(...c),f=v.length,d=Promise.resolve(r);p<f;)d=d.then(v[p++],v[p++]);return d}f=m.length;let S=r;for(;p<f;){const v=m[p++],N=m[p++];try{S=v(S)}catch(y){N.call(this,y);break}}try{d=mr.call(this,S)}catch(v){return Promise.reject(v)}for(p=0,f=c.length;p<f;)d=d.then(c[p++],c[p++]);return d}getUri(l){l=pt(this.defaults,l);const r=Gr(l.baseURL,l.url,l.allowAbsoluteUrls);return Mr(r,l.params,l.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(l){aa.prototype[l]=function(r,s){return this.request(pt(s||{},{method:l,url:r,data:(s||{}).data}))}});F.forEach(["post","put","patch"],function(l){function r(s){return function(o,n,m){return this.request(pt(m||{},{method:l,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:n}))}}aa.prototype[l]=r(),aa.prototype[l+"Form"]=r(!0)});const Qt=aa;class Ua{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const n=new Promise(m=>{s.subscribe(m),o=m}).then(i);return n.cancel=function(){s.unsubscribe(o)},n},l(function(o,n,m){s.reason||(s.reason=new wt(o,n,m),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const r=this._listeners.indexOf(l);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const l=new AbortController,r=s=>{l.abort(s)};return this.subscribe(r),l.signal.unsubscribe=()=>this.unsubscribe(r),l.signal}static source(){let l;return{token:new Ua(function(i){l=i}),cancel:l}}}const Un=Ua;function qn(a){return function(r){return a.apply(null,r)}}function Gn(a){return F.isObject(a)&&a.isAxiosError===!0}const za={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(za).forEach(([a,l])=>{za[l]=a});const Vn=za;function Yr(a){const l=new Qt(a),r=Ar(Qt.prototype.request,l);return F.extend(r,Qt.prototype,l,{allOwnKeys:!0}),F.extend(r,l,null,{allOwnKeys:!0}),r.create=function(i){return Yr(pt(a,i))},r}const ge=Yr(Ba);ge.Axios=Qt;ge.CanceledError=wt;ge.CancelToken=Un;ge.isCancel=Ur;ge.VERSION=Wr;ge.toFormData=ma;ge.AxiosError=Z;ge.Cancel=ge.CanceledError;ge.all=function(l){return Promise.all(l)};ge.spread=qn;ge.isAxiosError=Gn;ge.mergeConfig=pt;ge.AxiosHeaders=Me;ge.formToJSON=a=>Br(F.isHTMLForm(a)?new FormData(a):a);ge.getAdapter=Hr.getAdapter;ge.HttpStatusCode=Vn;ge.default=ge;const Oe=ge,Xr=b.createContext(),qa=()=>{const a=b.useContext(Xr);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},Jn=({children:a})=>{const[l,r]=b.useState(null),[s,i]=b.useState(!0),[o,n]=b.useState(localStorage.getItem("token"));b.useEffect(()=>{o?Oe.defaults.headers.common.Authorization=`Bearer ${o}`:delete Oe.defaults.headers.common.Authorization},[o]),b.useEffect(()=>{(async()=>{if(o)try{const S=(await Oe.get("/api/users")).data,v=S.find(N=>N.username==="admin")||S[0];if(v)r({id:v.id.toString(),username:v.username,email:v.email,fullName:v.full_name||v.username,role:v.role,avatar:v.avatar,status:"active",lastLogin:new Date().toISOString()});else{const N={id:"1",username:"admin",email:"admin@cashpot-v7.com",fullName:"Administrator Sistem",role:"admin",avatar:null,status:"active",lastLogin:new Date().toISOString()};r(N)}}catch(f){console.error("Auth verification failed:",f),localStorage.removeItem("token"),n(null),r(null),window.location.href="/login"}else window.location.pathname!=="/login"&&(window.location.href="/login");i(!1)})()},[o]);const d={user:l,token:o,loading:s,login:async(p,f)=>{var S,v;try{i(!0);const N=await Oe.post("/api/auth/login",{username:p,password:f}),{token:y,user:z}=N.data;return localStorage.setItem("token",y),n(y),r(z),Re.success(`Bun venit, ${z.fullName}!`),{success:!0}}catch(N){const y=((v=(S=N.response)==null?void 0:S.data)==null?void 0:v.message)||"Eroare la autentificare";return Re.error(y),{success:!1,error:y}}finally{i(!1)}},logout:()=>{localStorage.removeItem("token"),n(null),r(null),delete Oe.defaults.headers.common.Authorization,Re.success("V-ați deconectat cu succes!")},updateUser:p=>{r(p)},isAuthenticated:!!l};return e(Xr.Provider,{value:d,children:a})},Kr=b.createContext(),te=()=>{const a=b.useContext(Kr);if(!a)throw new Error("useData must be used within DataProvider");return a},Hn=({children:a})=>{const[l,r]=b.useState([]),[s,i]=b.useState([]),[o,n]=b.useState([]),[m,h]=b.useState([]),[c,d]=b.useState([]),[p,f]=b.useState([]),[S,v]=b.useState([]),[N,y]=b.useState([]),[z,j]=b.useState([]),[g,w]=b.useState([]),[L,_]=b.useState([]),[q,I]=b.useState([]),[k,O]=b.useState([]),[x,D]=b.useState([]),[C,u]=b.useState([]),[E,T]=b.useState(!1),R={totalCompanies:l.length,totalLocations:s.length,totalProviders:o.length,totalCabinets:c.length,totalGameMixes:p.length,totalSlots:S.length,totalWarehouse:N.length,totalMetrology:z.length,totalJackpots:g.length,totalInvoices:L.length,totalOnjnReports:q.length,totalLegalDocuments:k.length,totalUsers:x.length,totalGames:C.length},$={companies:{state:l,setState:r},locations:{state:s,setState:i},providers:{state:o,setState:n},platforms:{state:m,setState:h},cabinets:{state:c,setState:d},gameMixes:{state:p,setState:f},slots:{state:S,setState:v},warehouse:{state:N,setState:y},metrology:{state:z,setState:j},jackpots:{state:g,setState:w},invoices:{state:L,setState:_},onjnReports:{state:q,setState:I},legalDocuments:{state:k,setState:O},users:{state:x,setState:D},games:{state:C,setState:u}},J=async()=>{console.log("🔄 Starting to fetch all data..."),T(!0);try{const A=Object.keys($),V=3,W=[];for(let Y=0;Y<A.length;Y+=V)W.push(A.slice(Y,Y+V));for(const Y of W){console.log(`🔄 Fetching batch: ${Y.join(", ")}`);const be=Y.map(ve=>Oe.get(`/api/${ve}`,{timeout:1e4}).catch(Pe=>(console.error(`❌ Error fetching ${ve}:`,Pe),{data:[]})));(await Promise.all(be)).forEach((ve,Pe)=>{const qe=Y[Pe],Ge=Array.isArray(ve.data)?ve.data:[];console.log(`✅ ${qe}: ${Ge.length} items`),$[qe].setState(Ge)}),W.indexOf(Y)<W.length-1&&await new Promise(ve=>setTimeout(ve,100))}}catch(A){console.error("Error fetching data:",A),Re.error("Eroare la încărcarea datelor")}finally{console.log("✅ Data fetching completed"),T(!1)}};b.useEffect(()=>{console.log("🚀 DataContext useEffect triggered"),J()},[]);const G={companies:l,locations:s,providers:o,platforms:m,cabinets:c,gameMixes:p,slots:S,warehouse:N,metrology:z,jackpots:g,invoices:L,onjnReports:q,legalDocuments:k,users:x,games:C,loading:E,statistics:R,createItem:async(A,V)=>{try{const W=await Oe.post(`/api/${A}`,V);if(W.data){const Y=W.data;return $[A].setState(be=>[Y,...be]),Re.success("Adăugat cu succes!"),{success:!0,data:Y}}}catch(W){return console.error(`Error creating ${A}:`,W),Re.error("Eroare la adăugare!"),{success:!1,error:W.message}}},updateItem:async(A,V,W)=>{try{const Y=await Oe.put(`/api/${A}/${V}`,W);if(Y.data){const be=Y.data;return $[A].setState(Ee=>Ee.map(ve=>ve.id===V?{...ve,...be}:ve)),Re.success("Actualizat cu succes!"),{success:!0,data:be}}}catch(Y){return console.error(`Error updating ${A}:`,Y),Re.error("Eroare la actualizare!"),{success:!1,error:Y.message}}},deleteItem:async(A,V)=>{try{return await Oe.delete(`/api/${A}/${V}`),$[A].setState(W=>W.filter(Y=>Y.id!==V)),Re.success("Șters cu succes!"),{success:!0}}catch(W){return console.error(`Error deleting ${A}:`,W),Re.error("Eroare la ștergere!"),{success:!1,error:W.message}}},exportData:A=>{const V=$[A].state,W=JSON.stringify(V,null,2),Y=new Blob([W],{type:"application/json"}),be=URL.createObjectURL(Y),Ee=document.createElement("a");Ee.href=be,Ee.download=`${A}-${new Date().toISOString().split("T")[0]}.json`,Ee.click(),Re.success("Exportat cu succes!")},refreshData:J};return e(Kr.Provider,{value:G,children:a})},Wn=()=>{var w,L,_,q,I,k,O,x,D,C,u,E,T,R;const{login:a,isAuthenticated:l,loading:r}=qa(),[s,i]=b.useState({username:"",password:""}),[o,n]=b.useState(!1),[m,h]=b.useState(!1),[c,d]=b.useState(!1),[p,f]=b.useState({logo:{type:"upload",url:"",file:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},loginTexts:{title:"Welcome Back",emailLabel:"Email Address",passwordLabel:"Password",buttonText:"Sign In to CASHPOT",forgotPassword:"Forgot your password?",termsText:"By signing in, you agree to our Terms of Service and Privacy Policy",joinText:"New to CASHPOT? Create Account",supportText:"Need assistance? Contact our support team"}});b.useEffect(()=>{const $=localStorage.getItem("appSettings");if($){const H=JSON.parse($);f({logo:H.logo||p.logo,loginImage:H.loginImage||p.loginImage,loginButtonColor:H.loginButtonColor||p.loginButtonColor,loginPageColor:H.loginPageColor||p.loginPageColor,loginCardColor:H.loginCardColor||p.loginCardColor,loginTextColor:H.loginTextColor||p.loginTextColor,loginTexts:H.loginTexts||p.loginTexts})}const J=localStorage.getItem("savedCredentials");if(J){const H=JSON.parse(J);i({username:H.username||"",password:H.password||""}),d(!0)}},[]),b.useEffect(()=>{l&&(window.location.href="/dashboard")},[l]);const S=$=>{i({...s,[$.target.name]:$.target.value})},v=async $=>{$.preventDefault(),h(!0),(await a(s.username,s.password)).success&&(c?localStorage.setItem("savedCredentials",JSON.stringify({username:s.username,password:s.password})):localStorage.removeItem("savedCredentials"),window.location.href="/dashboard"),h(!1)};if(l)return e(va,{to:"/dashboard",replace:!0});const N=p.logo.file||p.logo.url||"/favicon.svg",y=p.loginImage.file||p.loginImage.url||"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200&q=80",z=p.loginButtonColor.useGradient?{background:`linear-gradient(to right, ${p.loginButtonColor.primary}, ${p.loginButtonColor.secondary})`}:{backgroundColor:p.loginButtonColor.primary},j=p.loginPageColor.useGradient?{background:`linear-gradient(to right, ${p.loginPageColor.primary}, ${p.loginPageColor.secondary})`}:{backgroundColor:p.loginPageColor.primary},g=(w=p.loginCardColor)!=null&&w.useGradient?{background:`linear-gradient(to right, ${p.loginCardColor.primary}, ${p.loginCardColor.secondary})`}:{backgroundColor:((L=p.loginCardColor)==null?void 0:L.primary)||"#8B5CF6"};return t("div",{className:"min-h-screen flex",children:[e("div",{className:"w-full lg:w-1/2 flex items-center justify-center pt-16",style:j,children:t("div",{className:"w-full max-w-lg px-8 lg:px-16",children:[t("div",{className:"rounded-2xl shadow-2xl p-16",style:g,children:[t("div",{className:"flex flex-col items-center mb-12",children:[e("img",{src:N,alt:"Logo",className:"h-20 md:h-24 object-contain mb-4",onError:$=>{$.target.src="/favicon.svg"}}),e("h1",{className:"text-2xl md:text-3xl font-bold text-white text-center",children:((_=p.loginTexts)==null?void 0:_.title)||"Welcome Back"}),e("p",{className:"text-white/80 text-center mt-2",children:"Access your CASHPOT dashboard"})]}),t("form",{onSubmit:v,className:"space-y-6",children:[t("div",{className:"space-y-2",children:[t("label",{className:"block text-sm font-semibold text-white",children:[((q=p.loginTexts)==null?void 0:q.emailLabel)||"Email",e("span",{className:"text-red-300",children:"*"})]}),e("input",{type:"text",name:"username",value:s.username,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your@email.com",required:!0,disabled:m})]}),t("div",{className:"space-y-2",children:[t("label",{className:"block text-sm font-semibold text-white",children:[((I=p.loginTexts)==null?void 0:I.passwordLabel)||"Password",e("span",{className:"text-red-300",children:"*"})]}),t("div",{className:"relative",children:[e("input",{type:o?"text":"password",name:"password",value:s.password,onChange:S,className:"w-full px-4 py-3 pr-12 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••",required:!0,disabled:m}),e("button",{type:"button",onClick:()=>n(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",disabled:m,children:o?e(Na,{size:20}):e(ke,{size:20})})]})]}),e("div",{className:"flex items-center justify-between",children:t("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:c,onChange:$=>d($.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",disabled:m}),e("span",{className:"text-sm text-white font-medium",children:"Remember Password"})]})}),e("button",{type:"submit",disabled:m||r,className:"w-full py-3 rounded-lg text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:z,children:m||r?t("div",{className:"flex items-center justify-center space-x-2",children:[e("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("span",{children:((k=p.loginTexts)==null?void 0:k.buttonText)||"Log In"})]}):((O=p.loginTexts)==null?void 0:O.buttonText)||"Log In"})]})]}),e("div",{className:"mt-8 text-center",children:e("a",{href:"#",className:"text-sm text-orange-500 hover:text-orange-600 font-medium hover:underline",children:((x=p.loginTexts)==null?void 0:x.forgotPassword)||"Forgot Password?"})}),e("div",{className:"mt-6 text-xs text-center",style:{color:((D=p.loginTextColor)==null?void 0:D.text)||"#64748b"},children:((C=p.loginTexts)==null?void 0:C.termsText)||"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement"}),e("div",{className:"mt-4 text-center text-sm",style:{color:((u=p.loginTextColor)==null?void 0:u.text)||"#64748b"},children:e("span",{dangerouslySetInnerHTML:{__html:(((E=p.loginTexts)==null?void 0:E.joinText)||"New to CASHPOT? Create Account").replace(/Create Account/g,'<a href="#" class="text-orange-500 hover:text-orange-600 font-semibold hover:underline">Create Account</a>')}})}),e("div",{className:"mt-4 text-xs text-center",style:{color:((T=p.loginTextColor)==null?void 0:T.text)||"#64748b"},children:((R=p.loginTexts)==null?void 0:R.supportText)||"Need help? Contact us at login-support@in.group"})]})}),e("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-8",style:j,children:e("div",{className:"w-full h-full rounded-3xl overflow-hidden shadow-2xl",children:e("img",{src:y,alt:"Login Background",className:"w-full h-full object-cover",onError:$=>{$.target.src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200&q=80"}})})})]})},oe=({children:a})=>{const[l,r]=b.useState(!0),[s,i]=b.useState(new Date),{user:o,logout:n}=qa(),{companies:m,locations:h,providers:c,platforms:d,cabinets:p,gameMixes:f,slots:S,warehouse:v,metrology:N,jackpots:y,invoices:z,onjnReports:j,legalDocuments:g,users:w}=te(),{theme:L,toggleTheme:_}=us(),q=tl(),[I,k]=fa.useState({logo:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System"});fa.useEffect(()=>{const D=localStorage.getItem("appSettings");if(D){const C=JSON.parse(D);k({logo:C.logo||I.logo,headerColor:C.headerColor||I.headerColor,appTitle:C.appTitle||I.appTitle,appSubtitle:C.appSubtitle||I.appSubtitle})}},[]),b.useEffect(()=>{const D=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(D)},[]);const O=[{id:"dashboard",label:"Dashboard",icon:_e,path:"/dashboard",count:null},{id:"companies",label:"Companii",icon:fe,path:"/companies",count:m.length},{id:"locations",label:"Locații",icon:je,path:"/locations",count:h.length},{id:"providers",label:"Furnizori",icon:$e,path:"/providers",count:c.length},{id:"cabinets",label:"Cabinete",icon:Se,path:"/cabinets",count:p.length},{id:"game-mixes",label:"Game Mixes",icon:ft,path:"/game-mixes",count:f.length},{id:"slots",label:"Sloturi",icon:_e,path:"/slots",count:S.length},{id:"slots-history",label:"Istoric Sloturi",icon:Ia,path:"/slots/history",count:null},{id:"warehouse",label:"Depozit",icon:Zt,path:"/warehouse",count:v.length},{id:"metrology",label:"Metrologie CVT",icon:Be,path:"/metrology",count:N.length},{id:"jackpots",label:"Jackpots",icon:ut,path:"/jackpots",count:y.length},{id:"invoices",label:"Facturi",icon:ee,path:"/invoices",count:z.length},{id:"onjn-reports",label:"Rapoarte ONJN",icon:At,path:"/onjn-reports",count:j.length},{id:"legal-documents",label:"Documente Legale",icon:ee,path:"/legal-documents",count:g.length},{id:"users",label:"Utilizatori",icon:$e,path:"/users",count:w.length},{id:"settings",label:"Setări",icon:Ye,path:"/settings",count:null}];O.find(D=>D.path===q.pathname);const x=L==="dark"?{background:"linear-gradient(to right, #1e293b, #0f172a)"}:I.headerColor.useGradient?{background:`linear-gradient(to right, ${I.headerColor.primary}, ${I.headerColor.secondary})`}:{backgroundColor:I.headerColor.primary};return t("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e("div",{className:`fixed top-0 left-0 right-0 backdrop-blur-xl border-b text-white px-4 md:px-6 py-2 md:py-3 z-30 shadow-2xl ${L==="dark"?"border-slate-700/50 shadow-slate-900/20":"border-white/20 shadow-blue-500/10"}`,style:x,children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e("button",{onClick:()=>r(!l),className:`p-2 rounded-xl transition-all duration-200 hover:shadow-lg ${L==="dark"?"hover:bg-slate-700/80":"hover:bg-slate-100/80"}`,children:e(ll,{size:20})}),t("div",{className:"flex items-center",children:[I.logo.file||I.logo.url?e("img",{src:I.logo.file||I.logo.url,alt:"Logo",className:"h-8 md:h-12 object-contain",onError:D=>{D.target.style.display="none",D.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl flex items-center justify-center shadow-xl shadow-orange-500/30 ring-2 ring-orange-200/50",style:{display:I.logo.file||I.logo.url?"none":"flex"},children:e("span",{className:"text-white font-bold text-base md:text-xl",children:"C"})})]})]}),t("div",{className:"flex items-center space-x-2 md:space-x-4",children:[t("div",{className:"hidden md:block text-right",children:[e("div",{className:"text-white font-semibold text-sm",children:s.toLocaleString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e("div",{className:"text-white/70 text-xs",children:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"🖥️ Local":"☁️ Online"})]}),e("button",{onClick:_,className:"p-2 rounded-xl hover:bg-white/20 transition-all duration-200 hover:shadow-lg group",title:L==="dark"?"Light Mode":"Dark Mode",children:L==="dark"?e(sl,{size:18,className:"group-hover:scale-110 transition-transform text-white"}):e(nl,{size:18,className:"group-hover:scale-110 transition-transform text-white"})}),t("button",{className:"p-2 rounded-xl hover:bg-white/20 transition-all duration-200 hover:shadow-lg relative hidden sm:block group",children:[e(il,{size:18,className:"group-hover:scale-110 transition-transform text-white"}),e("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-full shadow-lg animate-pulse"})]}),t("div",{className:"flex items-center space-x-3 md:space-x-4",children:[o!=null&&o.avatar?e("img",{src:o.avatar,alt:(o==null?void 0:o.fullName)||(o==null?void 0:o.username)||"Admin",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-white/50 dark:border-slate-500/50 shadow-xl object-cover"}):e("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-semibold text-base md:text-lg border-2 border-white/50 dark:border-slate-500/50 shadow-xl",children:((o==null?void 0:o.fullName)||(o==null?void 0:o.username)||"A").charAt(0).toUpperCase()}),e("div",{className:"text-sm md:text-base hidden sm:block",children:e("div",{className:"font-semibold text-white",children:(o==null?void 0:o.fullName)||(o==null?void 0:o.username)||"Admin"})})]}),e("button",{onClick:n,className:"p-2 bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-red-500/25 group",children:e(ol,{size:16,className:"group-hover:scale-110 transition-transform"})})]})]})}),e("div",{className:`${l?"w-64 md:w-72":"w-0 md:w-20"} bg-white/70 dark:bg-slate-800/90 backdrop-blur-xl border-r border-white/30 dark:border-slate-700/50 transition-all duration-300 flex flex-col mt-14 md:mt-20 shadow-2xl shadow-slate-500/10 dark:shadow-slate-900/20 fixed md:relative z-20 h-full ${l?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:e("div",{className:"flex-1 sidebar-scroll p-2 md:p-3",style:{maxHeight:"calc(100vh - 5rem)"},children:e("nav",{className:"space-y-1",children:O.map(D=>{const C=q.pathname===D.path;return t(hr,{to:D.path,onDoubleClick:()=>r(!l),className:`w-full flex items-center ${l?"justify-between":"justify-center"} p-2 md:p-3 rounded-2xl text-left transition-all duration-200 group ${C?"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-600 text-white shadow-xl shadow-blue-500/25 ring-2 ring-blue-200/50":"text-slate-700 dark:text-slate-300 hover:bg-white/60 dark:hover:bg-slate-700/60 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"}`,title:l?"":D.label,children:[t("div",{className:`flex items-center ${l?"space-x-3":"justify-center"}`,children:[e(D.icon,{className:`text-lg md:text-xl transition-transform group-hover:scale-110 ${C?"drop-shadow-lg":""}`}),l&&e("span",{className:`font-semibold text-sm md:text-base transition-colors ${C?"text-white":"text-slate-700 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-white"}`,children:D.label})]}),l&&D.count!==null&&e("span",{className:`text-xs px-3 md:px-4 py-1.5 md:py-2 rounded-full font-bold transition-all duration-200 ${C?"bg-white/20 text-white backdrop-blur-sm border border-white/30":"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-slate-600 dark:to-slate-700 text-blue-700 dark:text-slate-300 group-hover:from-blue-200 group-hover:to-indigo-200 dark:group-hover:from-slate-500 dark:group-hover:to-slate-600"}`,children:D.count})]},D.id)})})})}),l&&e("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-10 md:hidden",onClick:()=>r(!1)}),e("div",{className:"flex-1 flex flex-col overflow-hidden mt-14 md:mt-20 bg-white dark:bg-slate-900",children:e("div",{className:"flex-1 overflow-auto p-6 md:p-8 bg-slate-50 dark:bg-slate-900",children:a})})]})},tt=({title:a,value:l,icon:r,color:s,change:i,changeType:o,loading:n,size:m="medium"})=>{const h={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",indigo:"from-indigo-500 to-blue-500",emerald:"from-emerald-500 to-green-500",slate:"from-slate-500 to-gray-500",cyan:"from-cyan-500 to-blue-500",yellow:"from-yellow-500 to-orange-500",red:"from-red-500 to-pink-500",gray:"from-gray-500 to-slate-500"},c={xs:{container:"p-3",icon:"w-6 h-6",title:"text-xs",value:"text-lg",change:"text-xs"},small:{container:"p-4",icon:"w-8 h-8",title:"text-sm",value:"text-xl",change:"text-xs"},medium:{container:"p-6",icon:"w-12 h-12",title:"text-base",value:"text-3xl",change:"text-sm"},large:{container:"p-8",icon:"w-16 h-16",title:"text-lg",value:"text-4xl",change:"text-base"},"extra-large":{container:"p-10",icon:"w-20 h-20",title:"text-xl",value:"text-5xl",change:"text-lg"}},d=c[m]||c.medium,p={blue:"shadow-blue-500/25",green:"shadow-green-500/25",purple:"shadow-purple-500/25",orange:"shadow-orange-500/25",indigo:"shadow-indigo-500/25",emerald:"shadow-emerald-500/25",slate:"shadow-slate-500/25",cyan:"shadow-cyan-500/25",yellow:"shadow-yellow-500/25",red:"shadow-red-500/25",gray:"shadow-gray-500/25"};return n?t("div",{className:`card ${d.container} animate-pulse`,children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-24"}),e("div",{className:`${d.icon} bg-slate-200 dark:bg-slate-700 rounded-2xl`})]}),t("div",{className:"space-y-2",children:[e("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded w-16"}),e("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-20"})]})]}):t("div",{className:`card ${d.container} hover:shadow-2xl transition-all duration-300 hover:scale-105 group`,children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:`${d.title} font-bold text-slate-600 dark:text-slate-300 uppercase tracking-wider`,children:a}),e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${h[s]} shadow-lg ${p[s]}`,children:e(r,{className:`${d.icon} text-white`})})]}),t("div",{className:"space-y-2",children:[e("div",{className:`${d.value} font-bold text-slate-800 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors`,children:(l==null?void 0:l.toLocaleString())||0}),i&&t("div",{className:`flex items-center space-x-1 ${d.change} font-semibold ${o==="positive"?"text-green-600":"text-red-600"}`,children:[o==="positive"?e(la,{className:"w-4 h-4"}):e(cl,{className:"w-4 h-4"}),e("span",{children:i}),e("span",{className:"text-slate-500 dark:text-slate-400",children:"vs. luna trecută"})]})]})]})},Yn=()=>{const a=[{title:"Adaugă Companie",description:"Creează o companie nouă",icon:fe,path:"/companies",color:"blue",action:"add"},{title:"Adaugă Furnizor",description:"Creează un furnizor nou",icon:$e,path:"/providers",color:"green",action:"add"},{title:"Adaugă Cabinet",description:"Creează un cabinet nou",icon:Se,path:"/cabinets",color:"purple",action:"add"},{title:"Generează Raport",description:"Creează un raport ONJN",icon:ee,path:"/onjn-reports",color:"orange",action:"report"},{title:"Importă Date",description:"Importă date din Excel/CSV",icon:ue,path:"/dashboard",color:"indigo",action:"import"},{title:"Exportă Date",description:"Exportă date în Excel/CSV",icon:ne,path:"/dashboard",color:"emerald",action:"export"}],l={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",indigo:"from-indigo-500 to-blue-500",emerald:"from-emerald-500 to-green-500"},r={blue:"shadow-blue-500/25",green:"shadow-green-500/25",purple:"shadow-purple-500/25",orange:"shadow-orange-500/25",indigo:"shadow-indigo-500/25",emerald:"shadow-emerald-500/25"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Acțiuni Rapide"}),e(Ye,{className:"w-6 h-6 text-slate-500 dark:text-slate-400"})]}),e("div",{className:"space-y-3",children:a.map((s,i)=>e(hr,{to:s.path,className:"block p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 hover:shadow-lg group",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${l[s.color]} shadow-lg ${r[s.color]} group-hover:scale-110 transition-transform`,children:e(s.icon,{className:"w-5 h-5 text-white"})}),t("div",{className:"flex-1",children:[e("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:s.title}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.description})]}),e(me,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors"})]})},i))})]})},Xn=()=>{const{companies:a,locations:l,providers:r,cabinets:s,slots:i,warehouse:o,metrology:n,jackpots:m,invoices:h,onjnReports:c,legalDocuments:d}=te(),p=()=>{const j=[];return a.slice(0,2).forEach(g=>{j.push({id:`company-${g.id}`,type:"create",entity:"Companie",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:fe,color:"blue"})}),l.slice(0,2).forEach(g=>{j.push({id:`location-${g.id}`,type:"create",entity:"Locație",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:je,color:"green"})}),r.slice(0,1).forEach(g=>{j.push({id:`provider-${g.id}`,type:"update",entity:"Furnizor",name:g.name,user:g.updated_by||"Admin",time:f(g.updated_at||g.created_at),icon:$e,color:"purple"})}),d.slice(0,2).forEach(g=>{j.push({id:`legal-${g.id}`,type:"create",entity:"Document Legal",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:ee,color:"orange"})}),i.slice(0,1).forEach(g=>{j.push({id:`slot-${g.id}`,type:"create",entity:"Slot",name:g.name||g.serial_number,user:g.created_by||"Admin",time:f(g.created_at),icon:_e,color:"emerald"})}),j.sort((g,w)=>new Date(w.time)-new Date(g.time)).slice(0,6)},f=j=>{if(!j)return"Acum câteva minute";const g=new Date,w=new Date(j),L=Math.floor((g-w)/(1e3*60));if(L<1)return"Acum câteva secunde";if(L<60)return`Acum ${L} minute`;const _=Math.floor(L/60);if(_<24)return`Acum ${_} ore`;const q=Math.floor(_/24);return q<7?`Acum ${q} zile`:w.toLocaleDateString("ro-RO")},S=p(),v=j=>{switch(j){case"create":return me;case"update":return ze;case"delete":return De;case"report":return ee;case"jackpot":return ut;default:return Be}},N=j=>{switch(j){case"create":return"Creat";case"update":return"Actualizat";case"delete":return"Șters";case"report":return"Generat";case"jackpot":return"Câștigat";default:return"Modificat"}},y=j=>{switch(j){case"create":return"text-green-600 bg-green-100";case"update":return"text-blue-600 bg-blue-100";case"delete":return"text-red-600 bg-red-100";case"report":return"text-orange-600 bg-orange-100";case"jackpot":return"text-yellow-600 bg-yellow-100";default:return"text-slate-600 bg-slate-100"}},z={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",yellow:"from-yellow-500 to-orange-500",red:"from-red-500 to-pink-500"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Activitate Recentă"}),e(Be,{className:"w-6 h-6 text-blue-500 dark:text-blue-400"})]}),e("div",{className:"space-y-4",children:S.map(j=>{const g=v(j.type),w=j.icon;return t("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 group",children:[t("div",{className:"relative",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${z[j.color]} shadow-lg`,children:e(w,{className:"w-5 h-5 text-white"})}),e("div",{className:`absolute -top-1 -right-1 p-1 rounded-full ${y(j.type)}`,children:e(g,{className:"w-3 h-3"})})]}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center space-x-2 mb-1",children:[e("span",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:j.name}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y(j.type)}`,children:N(j.type)})]}),t("div",{className:"flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e("span",{children:j.entity}),e("span",{children:"•"}),t("span",{children:["de ",j.user]}),e("span",{children:"•"}),t("div",{className:"flex items-center space-x-1",children:[e(Xe,{className:"w-3 h-3"}),e("span",{children:j.time})]})]})]})]},j.id)})}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:e("button",{className:"w-full py-3 text-blue-600 dark:text-blue-400 font-semibold hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"Vezi toată activitatea →"})})]})},Kn=()=>{const{loading:a,companies:l,locations:r,providers:s,legalDocuments:i}=te(),o=()=>{const f=[],S=l.length>0||r.length>0||s.length>0;f.push({name:"Baza de Date AWS RDS",status:S?"healthy":"warning",description:S?`Conectivitate optimă la PostgreSQL - ${l.length+r.length+s.length} înregistrări`:"Conectare în curs...",icon:Et,color:S?"green":"yellow"}),f.push({name:"API Backend",status:"healthy",description:"Toate endpoint-urile sunt disponibile",icon:Be,color:"green"}),f.push({name:"Sistem Principal",status:"healthy",description:"Toate serviciile funcționează normal",icon:pr,color:"green"});const v=l.length+r.length+s.length+i.length;f.push({name:"Integritate Date",status:v>0?"healthy":"warning",description:v>0?`${v} înregistrări active în sistem`:"Nu există date în sistem",icon:At,color:v>0?"green":"yellow"});const N=n();return f.push({name:"Ultima Activitate",status:"healthy",description:N,icon:Xe,color:"green"}),f},n=()=>{const f=[...l,...r,...s,...i];if(f.length===0)return"Sistem nou - fără activitate";const S=f.filter(g=>g.created_at||g.updated_at).sort((g,w)=>{const L=new Date(g.updated_at||g.created_at);return new Date(w.updated_at||w.created_at)-L});if(S.length===0)return"Sistem nou - fără activitate";const v=S[0],N=new Date(v.updated_at||v.created_at),z=Math.floor((new Date-N)/(1e3*60));if(z<1)return"Acum câteva secunde";if(z<60)return`Acum ${z} minute`;const j=Math.floor(z/60);return j<24?`Acum ${j} ore`:N.toLocaleDateString("ro-RO")},m=o(),h=f=>{switch(f){case"healthy":return ht;case"warning":return rt;case"error":return dl;default:return ht}},c=f=>{switch(f){case"healthy":return"text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30";case"warning":return"text-yellow-700 dark:text-yellow-300 bg-yellow-100 dark:bg-yellow-900/30";case"error":return"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30";default:return"text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-700"}},d=f=>{switch(f){case"healthy":return"Funcțional";case"warning":return"Atenție";case"error":return"Eroare";default:return"Necunoscut"}},p=f=>{switch(f){case"green":return"from-green-500 to-emerald-500 shadow-green-500/25";case"yellow":return"from-yellow-500 to-orange-500 shadow-yellow-500/25";case"red":return"from-red-500 to-pink-500 shadow-red-500/25";default:return"from-slate-500 to-gray-500 shadow-slate-500/25"}};return t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Starea Sistemului"}),t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:"Operațional"})]})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((f,S)=>{const v=h(f.status),N=f.icon;return e("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 group",children:t("div",{className:"flex items-start space-x-3",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${p(f.color)} shadow-lg`,children:e(N,{className:"w-5 h-5 text-white"})}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center space-x-2 mb-2",children:[e("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:f.name}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${c(f.status)}`,children:d(f.status)})]}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:f.description})]}),e(v,{className:`w-5 h-5 ${c(f.status).split(" ")[0]}`})]})},S)})}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e("span",{className:"font-semibold",children:"Uptime:"})," 99.9% (Ultimele 30 zile)"]}),t("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e("span",{className:"font-semibold",children:"Ultima verificare:"})," ",new Date().toLocaleTimeString("ro-RO")]})]})})]})},Qn=()=>{const[a,l]=b.useState([]),[r,s]=b.useState(!1),[i,o]=b.useState(null),[n,m]=b.useState(new Date().getMonth()),[h,c]=b.useState(new Date().getFullYear()),d=[{id:1,title:"Comitetul de Supraveghere",date:"2025-10-16",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 16 octombrie 2025 (joi)"},{id:2,title:"Comitetul de Supraveghere",date:"2025-10-29",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 29 octombrie 2025 (miercuri)"},{id:3,title:"Comitetul de Supraveghere",date:"2025-11-13",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 13 noiembrie 2025 (joi)"},{id:4,title:"Comitetul de Supraveghere",date:"2025-11-27",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 27 noiembrie 2025 (joi)"},{id:5,title:"Comitetul de Supraveghere",date:"2025-12-11",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 11 decembrie 2025 (joi)"},{id:6,title:"Comitetul de Supraveghere",date:"2025-12-18",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 18 decembrie 2025 (joi)"},{id:7,title:"Comitetul de Supraveghere",date:"2026-01-15",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 15 ianuarie 2026 (joi)"},{id:8,title:"Comitetul de Supraveghere",date:"2026-01-29",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 29 ianuarie 2026 (joi)"}];b.useEffect(()=>{p()},[]);const p=async()=>{s(!0),o(null);try{await new Promise(k=>setTimeout(k,1e3));const _=new Date,q=new Date(_.getTime()+90*24*60*60*1e3),I=d.filter(k=>{const O=new Date(k.date);return O>=_&&O<=q});l(I)}catch(_){o("Eroare la încărcarea calendarului ONJN"),console.error("Error loading ONJN calendar:",_)}finally{s(!1)}},f=_=>{switch(_){case"Programată":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"În desfășurare":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"Finalizată":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"Anulată":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}},S=_=>{switch(_){case"Supraveghere":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"Autorizare":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"Metrologie":return"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300";case"Control":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}},v=_=>new Date(_).toLocaleDateString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric"}),N=_=>_,y=()=>{n===0?(m(11),c(h-1)):m(n-1)},z=()=>{n===11?(m(0),c(h+1)):m(n+1)},j=()=>{m(new Date().getMonth()),c(new Date().getFullYear())},g=()=>{const _=new Date(h,n,1),I=new Date(h,n+1,0).getDate(),k=_.getDay();return{daysInMonth:I,startingDayOfWeek:k,year:h,month:n}},w=_=>{const{year:q,month:I}=g(),k=`${q}-${String(I+1).padStart(2,"0")}-${String(_).padStart(2,"0")}`;return d.some(O=>O.date===k)},L=_=>{const{year:q,month:I}=g(),k=`${q}-${String(I+1).padStart(2,"0")}-${String(_).padStart(2,"0")}`;return d.find(O=>O.date===k)};return t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg",children:e(Le,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Ședințe ONJN"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Următoarele 3 luni"})]})]}),e("button",{onClick:p,disabled:r,className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",title:"Actualizează calendarul",children:e(at,{className:`w-4 h-4 ${r?"animate-spin":""}`})})]}),r?e("div",{className:"flex items-center justify-center py-8",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i?e("div",{className:"flex items-center justify-center py-8",children:t("div",{className:"text-center",children:[e(rt,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),e("p",{className:"text-red-600 font-medium",children:i})]})}):a.length===0?t("div",{className:"text-center py-8",children:[e(Le,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e("p",{className:"text-slate-500",children:"Nu există ședințe ale Comitetului de Supraveghere în următoarele 3 luni"})]}):t("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[a.slice(0,3).map(_=>e("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800/50 dark:to-blue-900/20 border border-slate-200 dark:border-slate-700 rounded-xl p-4 hover:shadow-md transition-shadow",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center space-x-2 mb-2",children:[e("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm",children:_.title}),e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(_.type)}`,children:_.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(_.status)}`,children:_.status})]}),e("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:_.description}),t("div",{className:"grid grid-cols-1 gap-2",children:[t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(Le,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium",children:v(_.date)})]}),t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(Xe,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium",children:N(_.time)})]}),t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(je,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium truncate",children:_.location})]})]})]}),e("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"ml-2 p-1 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Vezi pe site-ul ONJN",children:e(ya,{className:"w-4 h-4"})})]})},_.id)),a.length>3&&e("div",{className:"text-center pt-2",children:t("button",{onClick:()=>window.open("/metrology","_blank"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:["Vezi toate ședințele (",a.length,")"]})})]})]}),t("div",{className:"card p-6",children:[e("div",{className:"mb-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg",children:e(Le,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Calendar Evenimente"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(h,n).toLocaleDateString("ro-RO",{month:"long",year:"numeric"})})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:y,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Luna anterioară",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e("button",{onClick:j,className:"px-3 py-1 text-xs font-medium text-indigo-600 hover:text-white hover:bg-indigo-600 border border-indigo-200 rounded-lg transition-colors",title:"Azi",children:"Azi"}),e("button",{onClick:z,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Luna următoare",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),t("div",{className:"space-y-2",children:[e("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["D","L","M","M","J","V","S"].map((_,q)=>e("div",{className:"text-center text-xs font-bold text-slate-600 dark:text-slate-400 py-2",children:_},q))}),e("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const{daysInMonth:_,startingDayOfWeek:q,year:I,month:k}=g(),O=[],x=new Date().getDate(),D=new Date().getMonth(),C=new Date().getFullYear();for(let u=0;u<q;u++)O.push(e("div",{className:"aspect-square"},`empty-${u}`));for(let u=1;u<=_;u++){const E=u===x&&k===D&&I===C,T=w(u),R=L(u);O.push(e("div",{className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-all ${E?"bg-blue-600 text-white font-bold":T?"bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/40 dark:to-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-semibold hover:shadow-md cursor-pointer":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:R?`${R.title} - ${R.time}`:"",children:u},u))}return O})()}),e("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs",children:[t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-4 h-4 bg-blue-600 rounded"}),e("span",{className:"text-slate-600 dark:text-slate-400",children:"Astăzi"})]}),t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-4 h-4 bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/40 dark:to-indigo-900/40 rounded"}),e("span",{className:"text-slate-600 dark:text-slate-400",children:"Ședință ONJN"})]})]})})]})]})]})},Qr=({compact:a=!1})=>{const[l,r]=b.useState(null),[s,i]=b.useState(null),[o,n]=b.useState(!1),[m,h]=b.useState(!1),[c,d]=b.useState({type:"",text:""});b.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const N=await(await fetch("/api/backup/status")).json();N.success&&r(N.data);const z=await(await fetch("/api/backup/stats")).json();z.success&&i(z.data)}catch(v){console.error("Error loading backup info:",v),d({type:"error",text:"Eroare la încărcarea informațiilor despre backup"})}finally{n(!1)}},f=async()=>{h(!0),d({type:"",text:""});try{const N=await(await fetch("/api/backup/create",{method:"POST",headers:{"Content-Type":"application/json"}})).json();N.success?(d({type:"success",text:"Backup creat cu succes!"}),p()):d({type:"error",text:N.message||"Eroare la crearea backup-ului"})}catch(v){console.error("Error creating backup:",v),d({type:"error",text:"Eroare la crearea backup-ului"})}finally{h(!1)}},S=async()=>{try{const N=await(await fetch("/api/backup/export")).blob(),y=window.URL.createObjectURL(N),z=document.createElement("a");z.href=y,z.download=`cashpot_backup_${new Date().toISOString().split("T")[0]}.sql`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(y),document.body.removeChild(z),d({type:"success",text:"Backup descărcat cu succes!"})}catch(v){console.error("Error downloading backup:",v),d({type:"error",text:"Eroare la descărcarea backup-ului"})}};return o&&!l?e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-center py-8",children:[e(at,{className:"w-6 h-6 text-blue-500 dark:text-blue-400 animate-spin"}),e("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:"Se încarcă informațiile..."})]})}):a?t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:e(Et,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),t("div",{children:[e("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Backup Bază de Date"}),t("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(s==null?void 0:s.totalRecords)||0," înregistrări • ",(s==null?void 0:s.databaseSize)||"N/A"]})]})]}),e("button",{onClick:p,className:"p-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e(at,{className:`w-5 h-5 ${o?"animate-spin":""}`})})]}),t("div",{className:"space-y-3 mb-6",children:[t("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[t("div",{className:"flex items-center space-x-2",children:[l!=null&&l.s3Enabled?e(Ga,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):e(wa,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Stocare"})]}),e("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:(l==null?void 0:l.storageLocation)||"Local"})]}),t("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[t("div",{className:"flex items-center space-x-2",children:[e(Xe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Auto Backup"})]}),e("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:l!=null&&l.autoBackupEnabled?`La ${l==null?void 0:l.backupIntervalHours}h`:"Dezactivat"})]})]}),c.text&&t("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${c.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[c.type==="success"?e(ht,{className:"w-4 h-4"}):e(rt,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:c.text})]}),t("div",{className:"grid grid-cols-2 gap-3",children:[e("button",{onClick:f,disabled:m,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:m?t(ie,{children:[e(at,{className:"w-4 h-4 animate-spin"}),e("span",{className:"text-sm",children:"Creare..."})]}):t(ie,{children:[e(ue,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:"Creează Backup"})]})}),t("button",{onClick:S,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(ne,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:"Descarcă"})]})]})]}):t("div",{className:"space-y-6",children:[t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Backup Bază de Date"}),e("p",{className:"text-slate-600",children:"Gestionează backup-urile bazei de date și exportă datele"})]}),e("button",{onClick:p,className:"p-3 text-slate-400 hover:text-slate-600 transition-colors",children:e(at,{className:`w-6 h-6 ${o?"animate-spin":""}`})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[e(Et,{className:"w-8 h-8 text-blue-600"}),t("div",{children:[e("p",{className:"text-sm text-blue-600 font-medium",children:"Total Înregistrări"}),e("p",{className:"text-2xl font-bold text-blue-800",children:(s==null?void 0:s.totalRecords)||0})]})]})}),e("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[e(pr,{className:"w-8 h-8 text-green-600"}),t("div",{children:[e("p",{className:"text-sm text-green-600 font-medium",children:"Dimensiune BD"}),e("p",{className:"text-2xl font-bold text-green-800",children:(s==null?void 0:s.databaseSize)||"N/A"})]})]})}),e("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[l!=null&&l.s3Enabled?e(Ga,{className:"w-8 h-8 text-purple-600"}):e(wa,{className:"w-8 h-8 text-purple-600"}),t("div",{children:[e("p",{className:"text-sm text-purple-600 font-medium",children:"Stocare"}),e("p",{className:"text-lg font-bold text-purple-800",children:(l==null?void 0:l.storageLocation)||"Local"})]})]})})]}),t("div",{className:"p-6 bg-slate-50 rounded-xl mb-8",children:[e("h3",{className:"font-bold text-slate-800 mb-4",children:"Configurare Backup"}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Auto Backup:"}),e("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l!=null&&l.autoBackupEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:l!=null&&l.autoBackupEnabled?"Activ":"Inactiv"})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Interval Backup:"}),t("span",{className:"font-medium text-slate-800",children:[(l==null?void 0:l.backupIntervalHours)||6," ore"]})]}),(l==null?void 0:l.s3Enabled)&&t(ie,{children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"S3 Bucket:"}),e("span",{className:"font-medium text-slate-800",children:l==null?void 0:l.bucketName})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Regiune:"}),e("span",{className:"font-medium text-slate-800",children:l==null?void 0:l.region})]})]})]})]}),c.text&&t("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-3 ${c.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[c.type==="success"?e(ht,{className:"w-5 h-5"}):e(rt,{className:"w-5 h-5"}),e("span",{children:c.text})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("button",{onClick:f,disabled:m,className:"flex items-center justify-center space-x-2 px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?t(ie,{children:[e(at,{className:"w-5 h-5 animate-spin"}),e("span",{children:"Se creează backup..."})]}):t(ie,{children:[e(ue,{className:"w-5 h-5"}),e("span",{children:"Creează Backup Manual"})]})}),t("button",{onClick:S,className:"flex items-center justify-center space-x-2 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(ne,{className:"w-5 h-5"}),e("span",{children:"Descarcă Backup SQL"})]})]})]}),(s==null?void 0:s.tableStats)&&t("div",{className:"card p-8",children:[e("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"Statistici pe Tabele"}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(s.tableStats).map(([v,N])=>t("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e("p",{className:"text-sm text-slate-600 capitalize",children:v.replace("_"," ")}),e("p",{className:"text-2xl font-bold text-slate-800",children:N})]},v))})]})]})},Zn=()=>{const[a,l]=b.useState(!1),r={EUR_2024_OCT:4.9759,EUR_2025_OCT:5.082,lastUpdated_2024:"2024-10-01",lastUpdated_2025:"2025-10-01",source:"JOUE/BNR"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl",children:e(la,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),t("div",{children:[e("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Curs Valutar ONJN"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cursuri de referință"})]})]}),e("button",{onClick:()=>{l(!0),setTimeout(()=>{l(!1)},1e3)},className:"p-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e(at,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl border border-blue-100 dark:border-blue-800/50",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-blue-600 rounded-lg",children:e(Va,{className:"w-4 h-4 text-white"})}),t("div",{children:[e("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"EUR - Oct 2024"}),e("p",{className:"text-xs text-blue-500 dark:text-blue-300",children:"Prima zi lucrătoare"})]})]}),t("div",{className:"text-right",children:[e("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:r.EUR_2024_OCT.toFixed(4)}),e("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"RON"})]})]})}),e("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl border border-green-100 dark:border-green-800/50",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-green-600 rounded-lg",children:e(Va,{className:"w-4 h-4 text-white"})}),t("div",{children:[e("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"EUR - 1 Oct 2025"}),e("p",{className:"text-xs text-green-500 dark:text-green-300",children:"1 Octombrie 2025"})]})]}),t("div",{className:"text-right",children:[e("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:r.EUR_2025_OCT.toFixed(4)}),e("p",{className:"text-xs text-green-600 dark:text-green-400",children:"RON"})]})]})})]}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[t("div",{className:"flex items-center space-x-2",children:[e(Le,{className:"w-4 h-4"}),e("span",{children:"Cursuri oficiale JOUE/BNR"})]}),t("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-slate-600 dark:text-slate-300 font-medium",children:["Sursa: ",r.source]})]})})]})},ei=()=>{const a=Ke(),[l,r]=b.useState([]),[s,i]=b.useState(!0),[o,n]=b.useState({total:0,providers:0,topGames:[]});b.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const c=await fetch("/api/games");if(c.ok){const d=await c.json();r(d);const p=[...new Set(d.map(S=>S.provider))],f=d.slice(0,5);n({total:d.length,providers:p.length,topGames:f})}}catch(c){console.error("Error loading games:",c)}finally{i(!1)}},h=c=>{switch(c){case"low":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"low - medium":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"medium":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"high":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}};return s?e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-3 mb-6",children:[e("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl shadow-lg",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Jocuri din Librărie"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Se încarcă..."})]})]})}):t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl shadow-lg shadow-pink-500/25",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Jocuri din Librărie"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Top jocuri disponibile"})]})]}),t("button",{onClick:()=>a("/game-mixes/games-library"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-xl hover:shadow-lg hover:shadow-pink-500/25 transition-all",children:[e(ke,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:"Vezi Tot"})]})]}),t("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Jocuri"}),e(la,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),e("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:o.total})]}),t("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl border border-purple-200 dark:border-purple-800",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Furnizori"}),e(Dt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})]}),e("div",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:o.providers})]})]}),t("div",{className:"space-y-3",children:[e("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Top 5 Jocuri"}),o.topGames.map((c,d)=>t("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all cursor-pointer",onClick:()=>a(`/game-mixes/games-library/${c.game_id}`),children:[t("div",{className:"flex items-center space-x-3 flex-1",children:[t("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg",children:["#",d+1]}),c.image_url?e("img",{src:c.image_url,alt:c.name,className:"w-12 h-12 rounded-lg object-cover border-2 border-white dark:border-slate-600 shadow-sm",onError:p=>{p.target.style.display="none"}}):null,t("div",{className:"flex-1 min-w-0",children:[e("div",{className:"font-semibold text-slate-800 dark:text-slate-100 truncate",children:c.name}),e("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:c.provider})]})]}),c.volatility&&c.volatility!=="n/a"&&e("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${h(c.volatility)}`,children:c.volatility})]},c.game_id))]}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs text-slate-600 dark:text-slate-400",children:[e("span",{children:"Ultima actualizare: acum"}),t("span",{className:"font-medium text-pink-600 dark:text-pink-400",children:[o.total," jocuri disponibile"]})]})})]})},ti=()=>{const{statistics:a,loading:l}=te(),{user:r}=qa(),[s,i]=b.useState(!1),[o,n]=b.useState(null),[m,h]=b.useState([]),[c,d]=b.useState([]),[p,f]=b.useState(()=>{const M=localStorage.getItem("cardSizes");return M?JSON.parse(M):{companies:"medium",locations:"medium",providers:"medium",cabinets:"medium",gameMixes:"medium",slots:"medium",games:"medium",warehouse:"medium",metrology:"medium",jackpots:"medium",invoices:"medium",onjnReports:"medium",legalDocuments:"medium",users:"medium"}}),[S,v]=b.useState(()=>{const M=localStorage.getItem("widgetSizes");return M?JSON.parse(M):{quickActions:"medium",recentActivity:"medium",databaseBackup:"medium",currencyRate:"small",onjnCalendar:"large",systemHealth:"large",gamesLibrary:"large",performanceCharts:"extra-large"}}),N={statCards:[{id:"companies",title:"Companii",visible:!0,order:1},{id:"locations",title:"Locații",visible:!0,order:2},{id:"providers",title:"Furnizori",visible:!0,order:3},{id:"cabinets",title:"Cabinete",visible:!0,order:4},{id:"gameMixes",title:"Game Mixes",visible:!0,order:5},{id:"slots",title:"Sloturi",visible:!0,order:6},{id:"games",title:"Librărie Jocuri",visible:!0,order:7},{id:"warehouse",title:"Depozit",visible:!0,order:8},{id:"metrology",title:"Metrologie",visible:!0,order:9},{id:"jackpots",title:"Jackpots",visible:!0,order:10},{id:"invoices",title:"Facturi",visible:!0,order:11},{id:"onjnReports",title:"Rapoarte ONJN",visible:!0,order:12},{id:"legalDocuments",title:"Documente Legale",visible:!0,order:13},{id:"users",title:"Utilizatori",visible:!0,order:14}],widgets:[{id:"quickActions",title:"Acțiuni Rapide",visible:!0,order:1},{id:"recentActivity",title:"Activitate Recentă",visible:!0,order:2},{id:"databaseBackup",title:"Backup Bază de Date",visible:!0,order:3},{id:"currencyRate",title:"Curs Valutar ONJN",visible:!0,order:4},{id:"onjnCalendar",title:"Calendar ONJN",visible:!0,order:5},{id:"systemHealth",title:"Sănătate Sistem",visible:!0,order:6},{id:"gamesLibrary",title:"Jocuri din Librărie",visible:!0,order:7},{id:"performanceCharts",title:"Grafice Performanță",visible:!0,order:8}]};b.useEffect(()=>{const M=localStorage.getItem("dashboardConfig");if(M){const G=JSON.parse(M),A={statCards:G.statCards||N.statCards,widgets:N.widgets.map(V=>{var Y;return((Y=G.widgets)==null?void 0:Y.find(be=>be.id===V.id))||V})};n(A)}else n(N)},[]);const y=()=>{localStorage.setItem("dashboardConfig",JSON.stringify(o)),i(!1),h([]),d([])},z=()=>{n(N),localStorage.removeItem("dashboardConfig"),h([]),d([]),f({companies:"medium",locations:"medium",providers:"medium",cabinets:"medium",gameMixes:"medium",slots:"medium",warehouse:"medium",metrology:"medium",jackpots:"medium",invoices:"medium",onjnReports:"medium",legalDocuments:"medium",users:"medium"}),localStorage.removeItem("cardSizes"),i(!1)},j=M=>{n(G=>({...G,statCards:G.statCards.map(A=>A.id===M?{...A,visible:!A.visible}:A)}))},g=M=>{n(G=>({...G,widgets:G.widgets.map(A=>A.id===M?{...A,visible:!A.visible}:A)}))},w=M=>{n(G=>{const A=[...G.statCards],V=A.findIndex(W=>W.id===M);return V>0&&([A[V],A[V-1]]=[A[V-1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,statCards:A}})},L=M=>{n(G=>{const A=[...G.statCards],V=A.findIndex(W=>W.id===M);return V<A.length-1&&([A[V],A[V+1]]=[A[V+1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,statCards:A}})},_=M=>{n(G=>{const A=[...G.widgets],V=A.findIndex(W=>W.id===M);return V>0&&([A[V],A[V-1]]=[A[V-1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,widgets:A}})},q=M=>{n(G=>{const A=[...G.widgets],V=A.findIndex(W=>W.id===M);return V<A.length-1&&([A[V],A[V+1]]=[A[V+1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,widgets:A}})},I=(M,G)=>{f(A=>{const V={...A,[M]:G};return localStorage.setItem("cardSizes",JSON.stringify(V)),V})},k=(M,G)=>{v(A=>{const V={...A,[M]:G};return localStorage.setItem("widgetSizes",JSON.stringify(V)),V})},O=M=>{h(G=>G.includes(M)?G.filter(A=>A!==M):[...G,M])},x=M=>{d(G=>G.includes(M)?G.filter(A=>A!==M):[...G,M])},D=()=>{h(o.statCards.map(M=>M.id))},C=()=>{h([])},u=M=>{f(G=>{const A={...G};return m.forEach(V=>{A[V]=M}),localStorage.setItem("cardSizes",JSON.stringify(A)),A})},E=()=>{n(M=>{const G=M.statCards.map(A=>m.includes(A.id)?{...A,visible:!A.visible}:A);return{...M,statCards:G}})},T=()=>{d(o.widgets.map(M=>M.id))},R=()=>{d([])},$=M=>{v(G=>{const A={...G};return c.forEach(V=>{A[V]=M}),localStorage.setItem("widgetSizes",JSON.stringify(A)),A})},J=()=>{n(M=>{const G=M.widgets.map(A=>c.includes(A.id)?{...A,visible:!A.visible}:A);return{...M,widgets:G}})},H=M=>{switch(M){case"xs":return"dashboard-card-xs";case"small":return"dashboard-card-small";case"medium":return"dashboard-card-medium";case"large":return"dashboard-card-large";case"extra-large":return"dashboard-card-xl";default:return"dashboard-card-medium"}},X=M=>{switch(M){case"xs":return"dashboard-widget-xs";case"small":return"dashboard-widget-small";case"medium":return"dashboard-widget-medium";case"large":return"dashboard-widget-large";case"extra-large":return"dashboard-widget-xl";default:return"dashboard-widget-medium"}},re={companies:{title:"Companii",value:(a==null?void 0:a.totalCompanies)||0,icon:fe,color:"blue",change:"+12%",changeType:"positive"},locations:{title:"Locații",value:(a==null?void 0:a.totalLocations)||0,icon:je,color:"green",change:"+8%",changeType:"positive"},providers:{title:"Furnizori",value:(a==null?void 0:a.totalProviders)||0,icon:$e,color:"purple",change:"+5%",changeType:"positive"},cabinets:{title:"Cabinete",value:(a==null?void 0:a.totalCabinets)||0,icon:Se,color:"orange",change:"+15%",changeType:"positive"},gameMixes:{title:"Game Mixes",value:(a==null?void 0:a.totalGameMixes)||0,icon:Ye,color:"indigo",change:"+3%",changeType:"positive"},slots:{title:"Sloturi",value:(a==null?void 0:a.totalSlots)||0,icon:_e,color:"emerald",change:"+22%",changeType:"positive"},warehouse:{title:"Depozit",value:(a==null?void 0:a.totalWarehouse)||0,icon:Zt,color:"slate",change:"+7%",changeType:"positive"},metrology:{title:"Metrologie",value:(a==null?void 0:a.totalMetrology)||0,icon:Be,color:"cyan",change:"+2%",changeType:"positive"},jackpots:{title:"Jackpots",value:(a==null?void 0:a.totalJackpots)||0,icon:ut,color:"yellow",change:"+18%",changeType:"positive"},invoices:{title:"Facturi",value:(a==null?void 0:a.totalInvoices)||0,icon:ee,color:"red",change:"+9%",changeType:"positive"},onjnReports:{title:"Rapoarte ONJN",value:(a==null?void 0:a.totalOnjnReports)||0,icon:At,color:"blue",change:"+4%",changeType:"positive"},legalDocuments:{title:"Documente Legale",value:(a==null?void 0:a.totalLegalDocuments)||0,icon:ee,color:"gray",change:"+6%",changeType:"positive"},users:{title:"Utilizatori",value:(a==null?void 0:a.totalUsers)||0,icon:$e,color:"purple",change:"+1%",changeType:"positive"},games:{title:"Librărie Jocuri",value:(a==null?void 0:a.totalGames)||0,icon:Se,color:"pink",change:"+18%",changeType:"positive"}};return o?e(oe,{children:t("div",{className:"space-y-8",children:[e("div",{className:"card p-8",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent mb-2",children:["Bun venit, ",(r==null?void 0:r.fullName)||"Administrator","!"]}),e("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"Panoul principal al sistemului CASHPOT V7"}),t("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:["Ultima actualizare: ",new Date().toLocaleString("ro-RO")]})]}),t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"flex items-center space-x-2",children:s?o&&t("div",{className:"flex items-center space-x-2",children:[t("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:"Salvează"})]}),t("button",{onClick:z,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[e(ml,{className:"w-4 h-4"}),e("span",{children:"Resetează"})]}),e("button",{onClick:()=>{i(!1),h([]),d([])},className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:e("span",{children:"Anulează"})})]}):t("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e(Ye,{className:"w-4 h-4"}),e("span",{children:"Configurează Dashboard"})]})}),t("div",{className:"text-right",children:[e("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"v7.0.1"}),e("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Build: 29.09.2025, 11:15"})]})]})]})}),o&&t("div",{className:"space-y-6",children:[s&&o&&t("div",{className:"card p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Configurează Cardurile de Statistici"}),t("div",{className:"flex items-center space-x-2",children:[m.length>0&&t(ie,{children:[t("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:[m.length," selectate"]}),t("select",{onChange:M=>{M.target.value&&(u(M.target.value),M.target.value="")},className:"px-3 py-1 text-xs border border-blue-300 dark:border-blue-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"",children:"Mărime pentru toate"}),e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:E,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Toggle Vizibilitate"}),e("button",{onClick:C,className:"px-3 py-1 text-xs bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Deselectează Tot"})]}),e("button",{onClick:m.length===o.statCards.length?C:D,className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:m.length===o.statCards.length?"Deselectează Tot":"Selectează Tot"})]})]}),e("div",{className:"space-y-2",children:o.statCards.sort((M,G)=>M.order-G.order).map((M,G)=>t("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${m.includes(M.id)?"bg-blue-100 dark:bg-blue-900/40 border-blue-400 dark:border-blue-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",checked:m.includes(M.id),onChange:()=>O(M.id),className:"w-4 h-4 text-blue-600 bg-white dark:bg-slate-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),e(Ja,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:M.title})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>w(M.id),disabled:G===0,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în sus",children:"↑"}),e("button",{onClick:()=>L(M.id),disabled:G===o.statCards.length-1,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în jos",children:"↓"}),t("select",{value:p[M.id],onChange:A=>I(M.id,A.target.value),className:"px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Mărimea cardului",children:[e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:()=>j(M.id),className:`p-2 rounded-lg transition-colors ${M.visible?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:M.visible?"Ascunde cardul":"Afișează cardul",children:M.visible?e(ke,{className:"w-4 h-4"}):e(Na,{className:"w-4 h-4"})})]})]},M.id))})]}),e("div",{className:"dashboard-grid-stats",children:o.statCards.filter(M=>M.visible).sort((M,G)=>M.order-G.order).map(M=>{const G=re[M.id],A=p[M.id]||"medium",V=H(A);return e("div",{className:V,children:e(tt,{title:G.title,value:G.value,icon:G.icon,color:G.color,change:G.change,changeType:G.changeType,loading:l.companies,size:A})},M.id)})}),s&&o&&t("div",{className:"card p-6 bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:"text-lg font-semibold text-purple-800 dark:text-purple-300",children:"Configurează Widget-urile"}),t("div",{className:"flex items-center space-x-2",children:[c.length>0&&t(ie,{children:[t("span",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:[c.length," selectate"]}),t("select",{onChange:M=>{M.target.value&&($(M.target.value),M.target.value="")},className:"px-3 py-1 text-xs border border-purple-300 dark:border-purple-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e("option",{value:"",children:"Mărime pentru toate"}),e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:J,className:"px-3 py-1 text-xs bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Toggle Vizibilitate"}),e("button",{onClick:R,className:"px-3 py-1 text-xs bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Deselectează Tot"})]}),e("button",{onClick:c.length===o.widgets.length?R:T,className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:c.length===o.widgets.length?"Deselectează Tot":"Selectează Tot"})]})]}),e("div",{className:"space-y-2",children:o.widgets.sort((M,G)=>M.order-G.order).map((M,G)=>t("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${c.includes(M.id)?"bg-purple-100 dark:bg-purple-900/40 border-purple-400 dark:border-purple-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",checked:c.includes(M.id),onChange:()=>x(M.id),className:"w-4 h-4 text-purple-600 bg-white dark:bg-slate-700 border-gray-300 dark:border-gray-600 rounded focus:ring-purple-500 focus:ring-2"}),e(Ja,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:M.title})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>_(M.id),disabled:G===0,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în sus",children:"↑"}),e("button",{onClick:()=>q(M.id),disabled:G===o.widgets.length-1,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în jos",children:"↓"}),t("select",{value:S[M.id]||"medium",onChange:A=>k(M.id,A.target.value),className:"px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Mărimea widget-ului",children:[e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:()=>g(M.id),className:`p-2 rounded-lg transition-colors ${M.visible?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:M.visible?"Ascunde widgetul":"Afișează widgetul",children:M.visible?e(ke,{className:"w-4 h-4"}):e(Na,{className:"w-4 h-4"})})]})]},M.id))})]}),e("div",{className:"dashboard-grid-widgets",children:o&&o.widgets.filter(M=>M.visible).sort((M,G)=>M.order-G.order).map(M=>{const G=S[M.id]||"medium",A=X(G);return e("div",{className:A,children:(()=>{switch(M.id){case"quickActions":return e(Yn,{});case"recentActivity":return e(Xn,{});case"databaseBackup":return e(Qr,{compact:!0});case"currencyRate":return e(Zn,{});case"onjnCalendar":return e(Qn,{});case"systemHealth":return e(Kn,{});case"gamesLibrary":return e(ei,{});default:return null}})()},M.id)})}),o&&o.widgets.find(M=>M.id==="performanceCharts"&&M.visible)&&t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Performanță Sistem"}),e(la,{className:"w-6 h-6 text-green-500"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"CPU Usage"}),e("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"23%"})]}),t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Memory Usage"}),e("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"67%"})]}),t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/30 dark:to-orange-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Disk Usage"}),e("span",{className:"text-yellow-600 dark:text-yellow-400 font-bold",children:"45%"})]})]})]}),t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Activitate Recentă"}),e(Be,{className:"w-6 h-6 text-blue-500"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Sistem pornit"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 2 minute"})]})]}),t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Backup completat"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 1 oră"})]})]}),t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Actualizare disponibilă"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 3 ore"})]})]})]})]})]})]})]})}):e("div",{children:"Loading..."})},we=({data:a,columns:l,onEdit:r,onDelete:s,onView:i,onViewContracts:o,onViewProprietari:n,loading:m=!1,searchTerm:h="",onSearchChange:c,itemsPerPage:d=15,selectedItems:p=[],onSelectAll:f,onSelectItem:S})=>{const[v,N]=b.useState(1),[y,z]=b.useState(""),[j,g]=b.useState("asc"),w=Math.ceil(a.length/d),L=(v-1)*d,_=a.slice(L,L+d),q=k=>{y===k?g(j==="asc"?"desc":"asc"):(z(k),g("asc"))},I=[..._].sort((k,O)=>{if(!y)return 0;const x=k[y]||"",D=O[y]||"";return j==="asc"?x.toString().localeCompare(D.toString()):D.toString().localeCompare(x.toString())});return m?e("div",{className:"card p-8",children:t("div",{className:"animate-pulse space-y-4",children:[e("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),e("div",{className:"space-y-3",children:[...Array(5)].map((k,O)=>e("div",{className:"h-16 bg-slate-200 rounded"},O))})]})}):t("div",{className:"card overflow-hidden",children:[e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full min-w-[800px] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700",children:[e("thead",{className:"table-header bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:t("tr",{children:[e("th",{className:"p-6 w-12",children:e("div",{className:"flex items-center justify-center",children:e("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-slate-100 dark:bg-slate-700 border-slate-300 dark:border-slate-600 rounded focus:ring-blue-500 focus:ring-2",checked:_.length>0&&_.every(k=>p.includes(k.id)),onChange:k=>f&&f(k.target.checked)})})}),e("th",{className:"text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider w-16",children:"#"}),l.map(k=>e("th",{className:`text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider ${k.sortable?"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors":""}`,onClick:()=>k.sortable&&q(k.key),children:t("div",{className:"flex items-center space-x-2",children:[e("span",{children:k.label}),k.sortable&&y===k.key&&e("span",{className:"text-blue-600",children:j==="asc"?"↑":"↓"})]})},k.key)),e("th",{className:"text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider",children:"Acțiuni"})]})}),e("tbody",{className:"divide-y divide-slate-200/50 dark:divide-slate-700/50",children:I.map((k,O)=>t("tr",{className:"table-row hover:bg-slate-50 dark:hover:bg-slate-750 transition-colors",children:[e("td",{className:"p-6",children:e("div",{className:"flex items-center justify-center",children:e("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-slate-100 dark:bg-slate-700 border-slate-300 dark:border-slate-600 rounded focus:ring-blue-500 focus:ring-2 group-hover:bg-blue-50 dark:group-hover:bg-slate-600",checked:p.includes(k.id),onChange:x=>S&&S(k.id,x.target.checked)})})}),e("td",{className:"p-6 text-slate-600 dark:text-slate-400 font-semibold text-sm",children:L+O+1}),l.map(x=>e("td",{className:"p-6",children:x.render?x.render(k):k[x.key]},x.key)),(r||s||i||o||n)&&e("td",{className:"p-6",children:t("div",{className:"flex space-x-2",children:[i&&e("button",{onClick:()=>i(k),className:"p-3 text-blue-600 dark:text-blue-400 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/40 dark:hover:to-indigo-800/40 rounded-2xl shadow-lg hover:shadow-blue-500/25 transition-all duration-200 group/btn",title:"Previzualizează",children:e(ke,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),o&&e("button",{onClick:()=>o(k),className:"p-3 text-green-600 dark:text-green-400 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-800/40 dark:hover:to-emerald-800/40 rounded-2xl shadow-lg hover:shadow-green-500/25 transition-all duration-200 group/btn",title:"Vezi contracte",children:e(ee,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),n&&e("button",{onClick:()=>n(k),className:"p-3 text-purple-600 dark:text-purple-400 bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/30 hover:from-purple-100 hover:to-violet-100 dark:hover:from-purple-800/40 dark:hover:to-violet-800/40 rounded-2xl shadow-lg hover:shadow-purple-500/25 transition-all duration-200 group/btn",title:"Vezi proprietari",children:e(fe,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),r&&e("button",{onClick:()=>r(k),className:"p-3 text-emerald-600 dark:text-emerald-400 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30 hover:from-emerald-100 hover:to-green-100 dark:hover:from-emerald-800/40 dark:hover:to-green-800/40 rounded-2xl shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 group/btn",title:"Editează",children:e(ze,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),s&&e("button",{onClick:()=>s(k),className:"p-3 text-red-600 dark:text-red-400 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/30 dark:to-pink-900/30 hover:from-red-100 hover:to-pink-100 dark:hover:from-red-800/40 dark:hover:to-pink-800/40 rounded-2xl shadow-lg hover:shadow-red-500/25 transition-all duration-200 group/btn",title:"Șterge",children:e(De,{size:16,className:"group-hover/btn:scale-110 transition-transform"})})]})})]},k._id||k.id))})]})}),t("div",{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-700 dark:via-slate-800 dark:to-slate-700 px-6 md:px-8 py-4 md:py-6 border-t border-slate-200/50 dark:border-slate-600/50 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t("div",{className:"flex flex-wrap items-center gap-4 md:gap-6",children:[e("span",{className:"text-sm md:text-base font-semibold text-slate-700 dark:text-slate-200",children:"Înregistrări:"}),t("select",{value:d,onChange:k=>{setItemsPerPage(Number(k.target.value)),N(1)},className:"border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-2 text-sm font-medium bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all duration-200 shadow-lg text-slate-900 dark:text-slate-100",children:[e("option",{value:15,children:"15"}),e("option",{value:25,children:"25"}),e("option",{value:50,children:"50"})]}),t("span",{className:"text-sm md:text-base text-slate-600 dark:text-slate-300 font-medium",children:[L+1,"-",Math.min(L+d,a.length)," din ",a.length]})]}),t("div",{className:"flex items-center justify-between sm:justify-start gap-3",children:[e("button",{onClick:()=>N(Math.max(1,v-1)),disabled:v===1,className:"px-4 md:px-6 py-2 md:py-3 border-2 border-slate-200 dark:border-slate-600 rounded-2xl text-sm md:text-base font-bold hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl group text-slate-700 dark:text-slate-200",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Înapoi"})}),e("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-sm md:text-base text-slate-600 dark:text-slate-200 font-bold bg-white/80 dark:bg-slate-800/80 px-4 py-2 rounded-2xl shadow-lg",children:["Pag ",v,"/",w||1]})}),e("button",{onClick:()=>N(Math.min(w,v+1)),disabled:v===w,className:"px-4 md:px-6 py-2 md:py-3 border-2 border-slate-200 dark:border-slate-600 rounded-2xl text-sm md:text-base font-bold hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl group text-slate-700 dark:text-slate-200",children:e("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:"Înainte"})})]})]})]})},bt=({pdfUrl:a,title:l="Document PDF",placeholder:r="Nu există document de afișat",placeholderSubtext:s="Atașează un document PDF pentru vizualizare"})=>a?t("div",{className:"space-y-4",children:[e("div",{className:"aspect-[3/4] bg-white dark:bg-slate-800 rounded-lg border-2 border-slate-200 dark:border-slate-600 overflow-hidden",children:e("iframe",{src:a,className:"w-full h-full",title:l})}),t("div",{className:"flex space-x-3",children:[t("button",{onClick:()=>window.open(a,"_blank"),className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[e(ke,{className:"w-4 h-4"}),e("span",{children:"Vizualizează"})]}),t("button",{onClick:()=>window.open(a,"_blank"),className:"flex-1 btn-secondary flex items-center justify-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Descarcă"})]})]})]}):e("div",{className:"aspect-[3/4] bg-slate-100 dark:bg-slate-700 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 flex items-center justify-center",children:t("div",{className:"text-center text-slate-500 dark:text-slate-400",children:[e(ee,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e("p",{className:"text-sm font-medium",children:r}),e("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:s})]})}),ai=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"Furnizor",license:"",email:"",phone:"",address:"",contactPerson:"",status:"Activ",notes:"",cui:"",cuiFile:null,cuiPreview:null});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"Furnizor",license:a.license||"",email:a.email||"",phone:a.phone||"",address:a.address||"",contactPerson:a.contact_person||"",status:a.status||"Activ",notes:a.notes||"",cui:a.cui||"",cuiFile:a.cuiFile||null,cuiPreview:a.cuiFile||null})},[a]);const o=d=>{i({...s,[d.target.name]:d.target.value})},n=d=>{const p=d.target.files[0];if(p){const f=new FileReader;f.onload=S=>{const v=S.target.result;i(N=>({...N,cuiFile:v,cuiPreview:v}))},f.readAsDataURL(p)}},m=()=>{window.confirm("Sigur doriți să ștergeți documentul CUI?")&&i(d=>({...d,cuiFile:null,cuiPreview:null}))},h=d=>d?d.includes("data:image")?e(St,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"});return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Companie":"Adaugă Companie"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre companie"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:d=>{d.preventDefault();const p={...s,contact_person:s.contactPerson};delete p.contactPerson,r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Tip Companie *"}),t("select",{name:"type",value:s.type,onChange:o,className:"input-field",required:!0,children:[e("option",{value:"Operator",children:"Operator (Proprietar)"}),e("option",{value:"Furnizor",children:"Furnizor (pentru contracte)"})]}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Operator = compania ta de bază | Furnizor = companii externe pentru contracte"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Nume Companie *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"input-field",placeholder:"ex: BRML Industries SRL",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Număr Licență *"}),e("input",{type:"text",name:"license",value:s.license,onChange:o,className:"input-field",placeholder:"ex: L-2024-001",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Persoană de Contact *"}),e("input",{type:"text",name:"contactPerson",value:s.contactPerson,onChange:o,className:"input-field",placeholder:"ex: Ion Popescu",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Email *"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"input-field",placeholder:"ex: contact@brml.ro",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Telefon *"}),e("input",{type:"tel",name:"phone",value:s.phone,onChange:o,className:"input-field",placeholder:"ex: +40 21 123 4567",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"CUI (Certificat Unic de Înregistrare)"}),e("input",{type:"text",name:"cui",value:s.cui,onChange:o,className:"input-field",placeholder:"ex: RO12345678"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Suspendat",children:"Suspendat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Adresă Completă *"}),e("textarea",{name:"address",value:s.address,onChange:o,className:"input-field min-h-[100px] resize-none",placeholder:"ex: Str. Centrală nr. 1, București, România",required:!0})]}),t("div",{className:"space-y-4",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Document CUI (PDF sau JPG)"}),t("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-6 text-center hover:border-blue-400 dark:hover:border-blue-500 transition-colors",children:[e("input",{type:"file",id:"cuiFile",accept:".pdf,.jpg,.jpeg,.png",onChange:n,className:"hidden"}),t("label",{htmlFor:"cuiFile",className:"cursor-pointer flex flex-col items-center space-y-3",children:[e("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white",children:e(ue,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:s.cuiFile?"Schimbă documentul":"Încarcă document CUI"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF, JPG, PNG (max 10MB)"})]})]})]}),s.cuiPreview&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-2",children:[h(s.cuiFile),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Document CUI"})]}),e("button",{type:"button",onClick:m,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge documentul",children:e(se,{className:"w-4 h-4"})})]}),s.cuiFile.includes("data:image")?e("div",{className:"aspect-[3/4] bg-white rounded-lg border-2 border-slate-200 overflow-hidden",children:e("img",{src:s.cuiPreview,alt:"CUI Preview",className:"w-full h-full object-contain"})}):e(bt,{pdfUrl:s.cuiPreview,title:`CUI Document ${s.name}`,placeholder:"Documentul CUI nu este disponibil",placeholderSubtext:"Atașează documentul CUI pentru vizualizare"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Note Adiționale"}),e("textarea",{name:"notes",value:s.notes,onChange:o,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre companie..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 dark:border-slate-700/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Companie"]})})]})]})})]})})},ri=({isOpen:a,onClose:l,onConfirm:r,title:s="Confirmare",message:i,confirmText:o="Confirmă",cancelText:n="Anulează",type:m="danger"})=>{if(!a)return null;const c=(()=>{switch(m){case"danger":return{icon:"text-red-500",button:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-100"};case"warning":return{icon:"text-yellow-500",button:"bg-yellow-600 hover:bg-yellow-700 text-white",iconBg:"bg-yellow-100"};case"info":return{icon:"text-blue-500",button:"bg-blue-600 hover:bg-blue-700 text-white",iconBg:"bg-blue-100"};default:return{icon:"text-red-500",button:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-100"}}})();return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all",children:[t("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:`p-2 rounded-full ${c.iconBg}`,children:e(ul,{className:`w-6 h-6 ${c.icon}`})}),e("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:s})]}),e("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e(se,{className:"w-5 h-5 text-slate-500"})})]}),e("div",{className:"p-6",children:e("p",{className:"text-slate-600 dark:text-slate-300 text-base leading-relaxed",children:i})}),t("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[e("button",{onClick:l,className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors font-medium",children:n}),e("button",{onClick:()=>{r(),l()},className:`px-6 py-2 rounded-lg font-medium transition-colors ${c.button}`,children:o})]})]})})},li=()=>{const[a,l]=b.useState({isOpen:!1,title:"",message:"",confirmText:"Confirmă",cancelText:"Anulează",type:"danger",onConfirm:null});return{confirmState:a,confirm:i=>new Promise(o=>{l({isOpen:!0,title:i.title||"Confirmare",message:i.message||"Ești sigur?",confirmText:i.confirmText||"Confirmă",cancelText:i.cancelText||"Anulează",type:i.type||"danger",onConfirm:()=>{o(!0)}})}),close:()=>{l(i=>({...i,isOpen:!1,onConfirm:null}))}}},si=()=>{const a=Ke(),{companies:l,createItem:r,updateItem:s,deleteItem:i,exportData:o,loading:n}=te(),{confirmState:m,confirm:h,close:c}=li(),[d,p]=b.useState(!1),[f,S]=b.useState(null),[v,N]=b.useState(""),[y,z]=b.useState([]),[j,g]=b.useState(!1);b.useEffect(()=>{g(y.length>0)},[y]);const w=l.filter(T=>{var R,$,J,H;return((R=T.name)==null?void 0:R.toLowerCase().includes(v.toLowerCase()))||(($=T.license)==null?void 0:$.toLowerCase().includes(v.toLowerCase()))||((J=T.email)==null?void 0:J.toLowerCase().includes(v.toLowerCase()))||((H=T.contact_person)==null?void 0:H.toLowerCase().includes(v.toLowerCase()))}),L=[{key:"companyInfo",label:"Companie & CUI",sortable:!0,render:T=>t("div",{className:"space-y-2",children:[t("div",{className:"flex items-center space-x-2",children:[e(fe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e("button",{onClick:()=>a(`/companies/${T.id}`),className:"font-bold text-slate-900 dark:text-slate-100 hover:text-blue-700 dark:hover:text-blue-400 transition-colors text-left",children:T.name})]}),T.license&&e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:T.license})}),T.cui&&t("div",{className:"flex items-center space-x-2",children:[t("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:["CUI: ",T.cui]}),T.cuiFile&&t("div",{className:"flex items-center space-x-1",children:[e("button",{onClick:()=>window.open(T.cuiFile,"_blank"),className:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Previzualizează CUI",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>{const R=document.createElement("a");R.href=T.cuiFile,R.download=`CUI_${T.name||"company"}.${T.cuiFile.includes("data:image")?"jpg":"pdf"}`,R.click()},className:"p-1 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"Descarcă CUI",children:e(ne,{className:"w-4 h-4"})})]})]})]})},{key:"contactInfo",label:"Contact",sortable:!0,render:T=>t("div",{className:"space-y-2",children:[T.contact_person&&t("div",{className:"flex items-center space-x-2",children:[e(vt,{className:"w-4 h-4 text-slate-500 dark:text-slate-400 flex-shrink-0"}),e("div",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:T.contact_person})]}),T.phone&&t("div",{className:"flex items-center space-x-2",children:[e(La,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:T.phone})]}),T.email&&t("div",{className:"flex items-center space-x-2",children:[e(ja,{className:"w-4 h-4 text-purple-600 dark:text-purple-400 flex-shrink-0"}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:T.email})]})]})},{key:"status",label:"Status",sortable:!0,render:T=>{var H;const R=((H=T.status)==null?void 0:H.toLowerCase())||"",$=R==="activ"||R==="active",J=R==="suspendat"||R==="suspended";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${$?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":J?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-yellow-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:$?"Activ":J?"Suspendat":"Inactiv"})}},{key:"created_at",label:"Data Creare",sortable:!0,render:T=>e("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(T.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:T=>{var R,$;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:(($=(R=T.created_by)==null?void 0:R.charAt(0))==null?void 0:$.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:T.created_by||"Sistem"})]})}}],_=()=>{S(null),p(!0)},q=T=>{S(T),p(!0)},I=async T=>{await h({title:"Șterge Companie",message:`Sigur doriți să ștergeți compania "${T.name}"?`,type:"danger"})&&await i("companies",T.id)},k=T=>{z(T?w.map(R=>R.id):[])},O=(T,R)=>{z(R?[...y,T]:y.filter($=>$!==T))},x=async()=>{if(y.length===0)return;if(await h({title:"Șterge Companiile",message:`Ești sigur că vrei să ștergi ${y.length} companii?`,type:"danger"}))try{for(const R of y)await i("companies",R);z([]),g(!1)}catch(R){console.error("Error bulk deleting companies:",R)}},D=()=>{y.length!==0&&console.log("Bulk edit for companies:",y)},C=async T=>{f?await s("companies",f.id,T):await r("companies",T),p(!1),S(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Management Companii"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Gestionează companiile de gaming din sistem"})]})]}),t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută companii...",value:v,onChange:T=>N(T.target.value),className:"input-field pl-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:border-blue-500 dark:focus:border-blue-400"})]}),t("button",{onClick:()=>{console.log("Import functionality to be implemented")},className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:async()=>{await o("companies","excel")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{size:16}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[j&&t(ie,{children:[t("button",{onClick:D,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:x,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:_,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Companie"})]})]})]})]})}),e(we,{data:w,columns:L,onEdit:q,onDelete:I,loading:n.companies,searchTerm:v,onSearchChange:N,selectedItems:y,onSelectAll:k,onSelectItem:O}),d&&e(ai,{item:f,onClose:()=>{p(!1),S(null)},onSave:C}),e(ri,{isOpen:m.isOpen,onClose:c,onConfirm:m.onConfirm,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,type:m.type})]})})},ni=({item:a,onClose:l,onSave:r})=>{const{companies:s,users:i}=te(),[o,n]=b.useState({name:"",address:"",company:"",capacity:"",surface:"",planFile:null,status:"Activ",coordinates:"",contact_person:"",notes:""});b.useEffect(()=>{a&&n({name:a.name||"",address:a.address||"",company:a.company||"",capacity:a.capacity||"",surface:a.surface||"",planFile:a.planFile||null,status:a.status||"Activ",coordinates:a.coordinates||"",contact_person:a.contact_person||"",notes:a.notes||""})},[a]);const m=d=>{n({...o,[d.target.name]:d.target.value})},h=d=>{const p=d.target.files[0];p&&n({...o,planFile:p})};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-green-800 to-emerald-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:e(je,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Locație":"Adaugă Locație"}),e("p",{className:"text-green-100 text-sm font-medium",children:"Completează informațiile despre locație"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:d=>{d.preventDefault(),r(o)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Locație *"}),e("input",{type:"text",name:"name",value:o.name,onChange:m,className:"input-field",placeholder:"ex: Locația Centru",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Companie *"}),t("select",{name:"company",value:o.company,onChange:m,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează o companie"}),s.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Persoană de Contact"}),t("select",{name:"contact_person",value:o.contact_person,onChange:m,className:"input-field",children:[e("option",{value:"",children:"Selectează o persoană de contact"}),i.map(d=>t("option",{value:d.full_name||d.username,children:[d.full_name||d.username," (@",d.username,")"]},d.id))]}),e("p",{className:"text-xs text-slate-500",children:"Persoana responsabilă pentru această locație"})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Adresă Completă *"}),e("textarea",{name:"address",value:o.address,onChange:m,className:"input-field min-h-[100px] resize-none",placeholder:"ex: Str. Centrală nr. 1, București, România",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Suprafață (m²) *"}),e("input",{type:"number",name:"surface",value:o.surface,onChange:m,className:"input-field",placeholder:"ex: 150",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Capacitate (calculată din sloturi)"}),t("div",{className:"input-field bg-slate-50 text-slate-600 cursor-not-allowed",children:[o.capacity||0," sloturi"]}),e("p",{className:"text-xs text-slate-500",children:"Capacitatea se calculează automat din numărul de sloturi alocate acestei locații"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status"}),t("select",{name:"status",value:o.status,onChange:m,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Mentenanță",children:"Mentenanță"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Coordonate (lat, lng)"}),e("input",{type:"text",name:"coordinates",value:o.coordinates,onChange:m,className:"input-field",placeholder:"ex: 44.4268, 26.1025"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Plan Locație"}),t("div",{className:"relative",children:[e("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",onChange:h,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),o.planFile&&t("div",{className:"mt-2 text-sm text-green-600 font-medium",children:["✓ Fișier selectat: ",o.planFile.name]})]}),e("p",{className:"text-xs text-slate-500",children:"Formate acceptate: PDF, JPG, PNG, DWG, DXF"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:o.notes,onChange:m,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre locație..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Locație"]})})]})]})})]})})},ii=({item:a,onClose:l,onSave:r,locationId:s})=>{const{locations:i,proprietari:o}=te(),[n,m]=b.useState({contract_number:"",title:"",location_id:s||"",proprietar_id:"",type:"Chirie Locație",status:"Active",start_date:"",end_date:"",monthly_rent:"",currency:"RON",deposit:"",payment_terms:"",description:"",contractFile:null,contractPreview:null}),h=()=>{const v=new Date,N=v.getFullYear(),y=String(v.getMonth()+1).padStart(2,"0"),z=String(v.getDate()).padStart(2,"0"),j=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`CT-CH-${N}${y}${z}-${j}`};b.useEffect(()=>{m(a?{contract_number:a.contract_number||"",title:a.title||"",location_id:a.location_id||s||"",proprietar_id:a.proprietar_id||"",type:a.type||"Chirie Locație",status:a.status||"Active",start_date:a.start_date?a.start_date.split("T")[0]:"",end_date:a.end_date?a.end_date.split("T")[0]:"",monthly_rent:a.monthly_rent||"",currency:a.currency||"RON",deposit:a.deposit||"",payment_terms:a.payment_terms||"",description:a.description||"",contractFile:a.contractFile||null,contractPreview:a.contractFile||null}:v=>({...v,contract_number:h()}))},[a,s]);const c=v=>{const{name:N,value:y}=v.target;m(z=>({...z,[N]:y}))},d=v=>{const N=v.target.files[0];if(N){const y=new FileReader;y.onload=z=>{const j=z.target.result;m(g=>({...g,contractFile:j,contractPreview:j}))},y.readAsDataURL(N)}},p=()=>{window.confirm("Sigur doriți să ștergeți fișierul contractului?")&&m(v=>({...v,contractFile:null,contractPreview:null}))},f=v=>v?e(ee,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"});return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-green-800 to-emerald-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Contract":"Adaugă Contract Nou"}),e("p",{className:"text-green-100 text-sm font-medium",children:"Completează informațiile despre contract"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:v=>{v.preventDefault(),r(n)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Număr Contract *"}),t("div",{className:"flex space-x-2",children:[e("input",{type:"text",name:"contract_number",value:n.contract_number,onChange:c,required:!0,className:"flex-1 px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: CT-CH-2024-001"}),!a&&e("button",{type:"button",onClick:()=>m(v=>({...v,contract_number:h()})),className:"px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-colors",title:"Generează număr nou",children:"🔄"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Titlu Contract *"}),e("input",{type:"text",name:"title",value:n.title,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: Contract Chirie Locație București"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Locație *"}),t("select",{name:"location_id",value:n.location_id,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"",children:"Selectează locația"}),i==null?void 0:i.map(v=>e("option",{value:v.id,children:v.name},v.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Proprietar *"}),t("select",{name:"proprietar_id",value:n.proprietar_id,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"",children:"Selectează proprietarul"}),o==null?void 0:o.map(v=>e("option",{value:v.id,children:v.name},v.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Tip Contract *"}),t("select",{name:"type",value:n.type,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"Chirie Locație",children:"Chirie Locație"}),e("option",{value:"Chirie Comercială",children:"Chirie Comercială"}),e("option",{value:"Chirie Industrială",children:"Chirie Industrială"}),e("option",{value:"Chirie Oficiu",children:"Chirie Oficiu"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Status *"}),t("select",{name:"status",value:n.status,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Inactive",children:"Inactiv"}),e("option",{value:"Expired",children:"Expirat"}),e("option",{value:"Pending",children:"În așteptare"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Data Început *"}),e("input",{type:"date",name:"start_date",value:n.start_date,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Data Sfârșit *"}),e("input",{type:"date",name:"end_date",value:n.end_date,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Chiria Lunară *"}),e("input",{type:"number",name:"monthly_rent",value:n.monthly_rent,onChange:c,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"0.00"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Depozit Garantie"}),e("input",{type:"number",name:"deposit",value:n.deposit,onChange:c,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"0.00"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Monedă *"}),t("select",{name:"currency",value:n.currency,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"RON",children:"RON"}),e("option",{value:"EUR",children:"EUR"}),e("option",{value:"USD",children:"USD"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Termeni de Plată"}),e("input",{type:"text",name:"payment_terms",value:n.payment_terms,onChange:c,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: Lunar, până în data de 5"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Descriere"}),e("textarea",{name:"description",value:n.description,onChange:c,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:"Descrierea contractului..."})]}),t("div",{className:"space-y-4",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Fișier Contract (PDF)"}),t("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-6 text-center hover:border-green-400 dark:hover:border-green-500 transition-colors",children:[e("input",{type:"file",id:"contractFile",accept:".pdf",onChange:d,className:"hidden"}),t("label",{htmlFor:"contractFile",className:"cursor-pointer flex flex-col items-center space-y-3",children:[e("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white",children:e(ue,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:n.contractFile?"Schimbă contractul":"Încarcă fișier contract"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF (max 10MB)"})]})]})]}),n.contractPreview&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-2",children:[f(n.contractFile),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Fișier Contract"})]}),e("button",{type:"button",onClick:p,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge fișierul",children:e(se,{className:"w-4 h-4"})})]}),e(bt,{pdfUrl:n.contractPreview,title:`Contract ${n.contract_number||n.title}`,placeholder:"Contractul nu este disponibil",placeholderSubtext:"Atașează fișierul contractului pentru vizualizare"})]})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ee,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Contract"]})]})]})]})})]})})},oi=({locationId:a,locationName:l})=>{const{contracts:r,createItem:s,updateItem:i,deleteItem:o,loading:n}=te(),[m,h]=b.useState(!1),[c,d]=b.useState(null),[p,f]=b.useState([]);b.useEffect(()=>{if(r)if(a){const g=r.filter(w=>w.location_id==a);f(g)}else f(r);else f([])},[r,a]);const S=()=>{d(null),h(!0)},v=g=>{console.log("View contract:",g)},N=g=>{console.log("Download contract:",g)},y=g=>{d(g),h(!0)},z=async g=>{window.confirm(`Sigur doriți să ștergeți contractul "${g.contract_number}"?`)&&await o("contracts",g.id)},j=async g=>{c?await i("contracts",c.id,g):await s("contracts",g),h(!1),d(null)};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("h3",{className:"text-xl font-bold text-slate-800",children:["Contracte - ",l]}),e("p",{className:"text-slate-600",children:"Gestionează contractele asociate acestei locații"})]}),t("button",{onClick:S,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Contract"})]})]}),e("div",{className:"card overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Nr. Contract"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Tip Contract"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Perioadă"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Chiria Lunară"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Proprietar"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Acțiuni"})]})}),e("tbody",{className:"divide-y divide-slate-200",children:p.map(g=>t("tr",{className:"table-row hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"font-bold text-slate-900",children:g.contract_number})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-slate-700 font-medium",children:g.title}),e("div",{className:"text-slate-500 text-sm",children:g.type})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"text-slate-600 text-sm",children:[new Date(g.start_date).toLocaleDateString("ro-RO")," - ",new Date(g.end_date).toLocaleDateString("ro-RO")]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-slate-700 font-sans",children:[parseFloat(g.monthly_rent||0).toLocaleString("ro-RO")," ",g.currency]}),g.deposit&&t("div",{className:"text-slate-500 text-xs",children:["Depozit: ",parseFloat(g.deposit).toLocaleString("ro-RO")," ",g.currency]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-slate-700 font-medium",children:g.proprietar_name||"N/A"}),g.proprietar_contact&&e("div",{className:"text-slate-500 text-xs",children:g.proprietar_contact})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${g.status==="Active"?"bg-green-100 text-green-800":g.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:g.status==="Active"?"Activ":g.status==="Inactive"?"Inactiv":g.status==="Expired"?"Expirat":g.status==="Pending"?"În așteptare":g.status})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v(g),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-50 transition-colors",title:"Vezi contract",children:e(ke,{size:16})}),e("button",{onClick:()=>N(g),className:"text-green-600 hover:text-green-900 p-1 rounded-lg hover:bg-green-50 transition-colors",title:"Descarcă contract",children:e(ne,{size:16})}),e("button",{onClick:()=>y(g),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded-lg hover:bg-yellow-50 transition-colors",title:"Editează contract",children:e(ze,{size:16})}),e("button",{onClick:()=>z(g),className:"text-red-600 hover:text-red-900 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"Șterge contract",children:e(De,{size:16})})]})})]},g.id))})]})})}),p.length===0&&t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(ee,{className:"w-16 h-16 text-blue-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există contracte"}),e("p",{className:"text-slate-600 mb-6",children:"Adaugă primul contract pentru această locație"}),t("button",{onClick:S,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Contract"})]})]}),m&&e(ii,{item:c,onClose:()=>{h(!1),d(null)},onSave:j,locationId:a})]})},ci=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",contact_person:"",email:"",phone:"",address:"",cnp_cui:"",type:"Persoana Fizica",status:"Activ",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",contact_person:a.contact_person||"",email:a.email||"",phone:a.phone||"",address:a.address||"",cnp_cui:a.cnp_cui||"",type:a.type||"Persoana Fizica",status:a.status||"Activ",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-purple-800 to-violet-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-violet-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Proprietar":"Adaugă Proprietar Nou"}),e("p",{className:"text-purple-100 text-sm font-medium",children:"Completează informațiile despre proprietar"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Nume Proprietar *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Ion Popescu sau SC Imobiliare SRL"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Persoană de Contact"}),e("input",{type:"text",name:"contact_person",value:s.contact_person,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Maria Ionescu"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Email"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: ion.popescu@email.com"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Telefon"}),e("input",{type:"tel",name:"phone",value:s.phone,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: +40712345678"})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Adresă"}),e("input",{type:"text",name:"address",value:s.address,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Str. Mihai Viteazu nr. 10, București"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"CNP / CUI"}),e("input",{type:"text",name:"cnp_cui",value:s.cnp_cui,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: 1234567890123 sau RO12345678"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e("option",{value:"Persoana Fizica",children:"Persoană Fizică"}),e("option",{value:"Persoana Juridica",children:"Persoană Juridică"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"})]})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:3,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Note suplimentare despre proprietar..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(fe,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Proprietar"]})]})]})]})})]})})},di=({locationId:a,locationName:l})=>{const{proprietari:r,createItem:s,updateItem:i,deleteItem:o}=te(),[n,m]=b.useState(!1),[h,c]=b.useState(null),[d,p]=b.useState(""),f=(r||[]).filter(w=>{var L,_,q,I;return((L=w.name)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))||((_=w.contact_person)==null?void 0:_.toLowerCase().includes(d.toLowerCase()))||((q=w.email)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||((I=w.phone)==null?void 0:I.toLowerCase().includes(d.toLowerCase()))}),S=()=>{c(null),m(!0)},v=w=>{console.log("View proprietar:",w)},N=w=>{c(w),m(!0)},y=async w=>{if(window.confirm(`Sigur doriți să ștergeți proprietarul "${w.name}"?`))try{await o("proprietari",w.id)}catch(L){console.error("Error deleting proprietar:",L)}},z=async w=>{try{h?await i("proprietari",h.id,w):await s("proprietari",w),m(!1),c(null)}catch(L){console.error("Error saving proprietar:",L)}},j=w=>{switch(w){case"Persoana Fizica":return"bg-blue-100 text-blue-800";case"Persoana Juridica":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=w=>{switch(w){case"Activ":return"bg-green-100 text-green-800";case"Inactiv":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Proprietari"}),t("p",{className:"text-slate-600",children:["Gestionează proprietarii pentru ",l]})]}),t("button",{onClick:S,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Proprietar"})]})]}),t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută proprietari...",value:d,onChange:w=>p(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),f.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(w=>t("div",{className:"card p-6 hover:shadow-lg transition-all duration-200 group",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl",children:e(fe,{className:"w-8 h-8 text-white"})}),t("div",{children:[e("h3",{className:"font-bold text-slate-800 group-hover:text-blue-700 transition-colors",children:w.name}),e("p",{className:"text-slate-600 text-sm",children:w.contact_person})]})]}),t("div",{className:"flex space-x-1",children:[e("button",{onClick:()=>v(w),className:"p-2 text-slate-400 hover:text-blue-500 transition-colors",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>N(w),className:"p-2 text-slate-400 hover:text-green-500 transition-colors",children:e(ze,{className:"w-4 h-4"})}),e("button",{onClick:()=>y(w),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:e(De,{className:"w-4 h-4"})})]})]}),t("div",{className:"space-y-3",children:[t("div",{className:"space-y-2",children:[w.email&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(ja,{className:"w-4 h-4"}),e("span",{children:w.email})]}),w.phone&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(La,{className:"w-4 h-4"}),e("span",{children:w.phone})]}),w.address&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(je,{className:"w-4 h-4"}),e("span",{className:"truncate",children:w.address})]})]}),t("div",{className:"flex space-x-2",children:[e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${j(w.type)}`,children:w.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g(w.status)}`,children:w.status})]}),w.cnp_cui&&t("div",{className:"text-xs text-slate-500",children:[w.type==="Persoana Fizica"?"CNP:":"CUI:"," ",w.cnp_cui]}),w.notes&&e("div",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-lg",children:w.notes})]})]},w.id))}):t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(fe,{className:"w-20 h-20 text-blue-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există proprietari"}),e("p",{className:"text-slate-600 mb-6",children:"Adaugă primul proprietar pentru această locație"}),t("button",{onClick:S,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Proprietar"})]})]}),n&&e(ci,{item:h,onClose:()=>{m(!1),c(null)},onSave:z})]})},mi=()=>{const{locations:a,createItem:l,updateItem:r,deleteItem:s,exportData:i,loading:o}=te(),[n,m]=b.useState(!1),[h,c]=b.useState(null),[d,p]=b.useState(""),[f,S]=b.useState([]),[v,N]=b.useState(!1);b.useEffect(()=>{N(f.length>0)},[f]);const y=A=>{S(A?D.map(V=>V.id):[])},z=(A,V)=>{S(V?[...f,A]:f.filter(W=>W!==A))},j=async()=>{if(f.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${f.length} elemente?`))try{for(const A of f)await s("locations",A);S([]),N(!1)}catch(A){console.error("Error bulk deleting:",A)}},g=()=>{f.length!==0&&console.log("Bulk edit for:",f)},[w,L]=b.useState("locations"),[_,q]=b.useState(null),[I,k]=b.useState(null),[O,x]=b.useState(!1),D=a.filter(A=>{var V,W,Y,be;return((V=A.name)==null?void 0:V.toLowerCase().includes(d.toLowerCase()))||((W=A.address)==null?void 0:W.toLowerCase().includes(d.toLowerCase()))||((Y=A.company)==null?void 0:Y.toLowerCase().includes(d.toLowerCase()))||((be=A.contact_person)==null?void 0:be.toLowerCase().includes(d.toLowerCase()))}),C=[{key:"name",label:"Nume Locație",sortable:!0,render:A=>t("div",{className:"space-y-1",children:[e("div",{className:"font-bold text-slate-900 dark:text-slate-100 group-hover:text-green-700 dark:group-hover:text-green-400 transition-colors",children:A.name}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:A.address})]})},{key:"company",label:"Companie",sortable:!0,render:A=>t("div",{className:"space-y-1",children:[e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:A.company}),e("div",{className:"flex items-center space-x-2",children:A.contact_person?t(ie,{children:[e("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:A.contact_person.charAt(0).toUpperCase()}),e("span",{className:"text-xs font-medium text-slate-700",children:A.contact_person})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-xs italic",children:"Nu este setată"})})]})},{key:"surface",label:"Suprafață (m²)",sortable:!0,render:A=>e("div",{className:"text-slate-600 text-sm font-sans",children:A.surface?`${A.surface} m²`:"N/A"})},{key:"capacity",label:"Capacitate (Sloturi)",sortable:!0,render:A=>t("div",{className:"text-slate-600 text-sm font-sans",children:[A.capacity||0," sloturi"]})},{key:"plan_file",label:"Plan Locație",sortable:!1,render:A=>e("div",{className:"flex items-center space-x-2",children:A.plan_file?t(ie,{children:[e("button",{onClick:()=>re(A),className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Vizualizează planul",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>G(A),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",title:"Descarcă planul",children:e(ne,{className:"w-4 h-4"})}),e("button",{onClick:()=>M(A),className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",title:"Șterge planul",children:e(se,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-sm italic",children:"Nu există plan"})})},{key:"created_at",label:"Data Creare",sortable:!0,render:A=>e("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(A.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:A=>{var V,W;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((W=(V=A.created_by)==null?void 0:V.charAt(0))==null?void 0:W.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:A.created_by||"Sistem"})]})}}],u=()=>{c(null),m(!0)},E=A=>{c(A),m(!0)},T=async A=>{window.confirm(`Sigur doriți să ștergeți locația "${A.name}"?`)&&await s("locations",A.id)},R=async A=>{h?await r("locations",h.id,A):await l("locations",A),m(!1),c(null)},$=async()=>{await i("locations","excel")},J=()=>{console.log("Import functionality to be implemented")},H=A=>{q(A),L("contracts")},X=A=>{q(A),L("proprietari")},re=A=>{A.plan_file&&(k(A.plan_file),x(!0))},M=async A=>{if(window.confirm(`Sigur doriți să ștergeți planul locației "${A.name}"?`))try{await r("locations",A.id,{plan_file:null})}catch(V){console.error("Error deleting document:",V)}},G=A=>{if(A.plan_file){const V=document.createElement("a");V.href=A.plan_file,V.download=`Plan_${A.name||"location"}.pdf`,V.click()}};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>L("locations"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${w==="locations"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(je,{size:20}),e("span",{children:"Locații"})]})}),e("button",{onClick:()=>L("contracts"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${w==="contracts"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(ee,{size:20}),e("span",{children:"Contracte"})]})}),e("button",{onClick:()=>L("proprietari"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${w==="proprietari"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(fe,{size:20}),e("span",{children:"Proprietari"})]})})]})}),w==="locations"?t(ie,{children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută locații...",value:d,onChange:A=>p(A.target.value),className:"input-field pl-12 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400"})]}),t("button",{onClick:J,className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:$,className:"btn-secondary flex items-center space-x-2",children:[e(ne,{size:16}),e("span",{children:"Exportă"})]}),v&&t(ie,{children:[t("button",{onClick:g,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:j,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:u,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Locație"})]})]})}),e(we,{data:D,columns:C,onEdit:E,onDelete:T,onViewContracts:H,onViewProprietari:X,loading:o.locations,searchTerm:d,onSearchChange:p,selectedItems:f,onSelectAll:y,onSelectItem:z}),n&&e(ni,{item:h,onClose:()=>{m(!1),c(null)},onSave:R}),O&&I&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-3xl w-full max-w-6xl h-[90vh] overflow-hidden shadow-2xl",children:[t("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 px-6 py-4 flex justify-between items-center",children:[t("h3",{className:"text-xl font-bold text-white flex items-center",children:[e(ee,{className:"w-6 h-6 mr-2"}),"Vizualizare Plan Locație"]}),e("button",{onClick:()=>{x(!1),k(null)},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e(se,{className:"w-6 h-6"})})]}),e("div",{className:"h-full p-6",children:e(bt,{pdfUrl:I,title:"Plan Locație",placeholder:"Planul locației nu este disponibil",placeholderSubtext:"Atașează planul locației pentru vizualizare"})})]})})]}):w==="contracts"?e(oi,{locationId:(_==null?void 0:_.id)||null,locationName:(_==null?void 0:_.name)||"Toate Contractele"}):e(di,{locationId:_==null?void 0:_.id,locationName:(_==null?void 0:_.name)||"Selectați o locație"})]})})},ui=({item:a,onClose:l,onSave:r})=>{te();const[s,i]=b.useState({name:"",contact_person:"",contact:"",phone:"",company:"",status:"Activ",notes:"",logo:{type:"upload",url:"",file:null}});b.useEffect(()=>{a&&i({name:a.name||"",contact_person:a.contact_person||"",contact:a.contact||"",phone:a.phone||"",company:a.company||"",status:a.status||"Activ",notes:a.notes||"",logo:a.logo?typeof a.logo=="object"?a.logo:{type:"upload",url:"",file:null}:{type:"upload",url:"",file:null}})},[a]);const o=d=>{i({...s,[d.target.name]:d.target.value})},n=d=>{i({...s,logo:{...s.logo,type:d}})},m=d=>{i({...s,logo:{...s.logo,url:d}})},h=d=>{const p=d.target.files[0];if(p){const f=new FileReader;f.onloadend=()=>{i({...s,logo:{...s.logo,file:f.result}})},f.readAsDataURL(p)}};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-purple-800 to-violet-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-violet-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg",children:e($e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Furnizor":"Adaugă Furnizor"}),e("p",{className:"text-purple-100 text-sm font-medium",children:"Completează informațiile despre furnizor"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:d=>{d.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Furnizor *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"input-field",placeholder:"ex: EGT Digital",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Persoana de Contact *"}),e("input",{type:"text",name:"contact_person",value:s.contact_person,onChange:o,className:"input-field",placeholder:"ex: Ion Popescu",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Companie Furnizor *"}),e("input",{type:"text",name:"company",value:s.company,onChange:o,className:"input-field",placeholder:"Introdu numele companiei",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Compania care deține furnizorul (pentru facturi și contracte)"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Email Contact *"}),e("input",{type:"email",name:"contact",value:s.contact,onChange:o,className:"input-field",placeholder:"ex: contact@egt-digital.com",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Telefon *"}),e("input",{type:"text",name:"phone",value:s.phone,onChange:o,className:"input-field",placeholder:"ex: +40 21 555 1234",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Suspendat",children:"Suspendat"})]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Logo Furnizor"}),t("div",{className:"flex space-x-4 mb-4",children:[e("button",{type:"button",onClick:()=>n("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${s.logo.type==="upload"?"bg-purple-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Upload Logo"}),e("button",{type:"button",onClick:()=>n("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${s.logo.type==="link"?"bg-purple-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Link URL"})]}),s.logo.type==="upload"?t("div",{children:[e("input",{type:"file",accept:"image/*",onChange:h,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),s.logo.file&&t("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg flex items-center space-x-4",children:[e("img",{src:s.logo.file,alt:"Logo Preview",className:"h-9 w-9 object-contain rounded"}),e("span",{className:"text-sm text-green-600 font-medium",children:"✓ Logo încărcat"})]})]}):t("div",{children:[e("input",{type:"text",value:s.logo.url,onChange:d=>m(d.target.value),className:"input-field",placeholder:"https://example.com/logo.png"}),s.logo.url&&t("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg flex items-center space-x-4",children:[e("img",{src:s.logo.url,alt:"Logo Preview",className:"h-9 w-9 object-contain rounded"}),e("span",{className:"text-sm text-green-600 font-medium",children:"✓ Logo settat"})]})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:s.notes,onChange:o,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre furnizor..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Furnizor"]})})]})]})})]})})},hi=()=>{const{providers:a,games:l,createItem:r,updateItem:s,deleteItem:i,exportData:o,loading:n}=te(),[m,h]=b.useState(!1),[c,d]=b.useState(null),[p,f]=b.useState(""),[S,v]=b.useState([]),[N,y]=b.useState(!1),z=u=>!l||!u?0:l.filter(E=>E.provider&&E.provider.toLowerCase()===u.toLowerCase()).length;b.useEffect(()=>{y(S.length>0)},[S]);const j=u=>{v(u?_.map(E=>E.id):[])},g=(u,E)=>{v(E?[...S,u]:S.filter(T=>T!==u))},w=async()=>{if(S.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${S.length} elemente?`))try{for(const u of S)await i("providers",u);v([]),y(!1)}catch(u){console.error("Error bulk deleting:",u)}},L=()=>{S.length!==0&&console.log("Bulk edit for:",S)},_=a.filter(u=>{var E,T,R;return((E=u.name)==null?void 0:E.toLowerCase().includes(p.toLowerCase()))||((T=u.contact)==null?void 0:T.toLowerCase().includes(p.toLowerCase()))||((R=u.contractType)==null?void 0:R.toLowerCase().includes(p.toLowerCase()))}),q=[{key:"name",label:"Nume Furnizor",sortable:!0,render:u=>{var T,R,$;const E=((T=u.logo)==null?void 0:T.file)||((R=u.logo)==null?void 0:R.url);return t("div",{className:"flex items-center space-x-3",children:[E?e("img",{src:E,alt:u.name,className:"w-9 h-9 rounded-full object-cover border-2 border-slate-200 bg-white shadow-md",onError:J=>{J.target.style.display="none",J.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center text-white font-bold shadow-lg",style:{display:E?"none":"flex"},children:(($=u.name)==null?void 0:$.charAt(0))||"F"}),e("div",{className:"font-bold text-slate-900 dark:text-slate-100 group-hover:text-purple-700 dark:group-hover:text-purple-400 transition-colors",children:u.name})]})}},{key:"company",label:"Companie",sortable:!0,render:u=>e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:u.company||"N/A"})},{key:"contact",label:"Contact",sortable:!0,render:u=>t("div",{className:"space-y-1",children:[e("div",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:u.contact}),e("div",{className:"text-slate-500 dark:text-slate-400 text-xs font-sans",children:u.phone})]})},{key:"games_count",label:"Nr. Jocuri",sortable:!0,render:u=>{const E=z(u.name);return t("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:[E," jocuri"]})}},{key:"status",label:"Status",sortable:!0,render:u=>{var R;const E=((R=u.status)==null?void 0:R.toLowerCase())||"",T=E==="activ"||E==="active";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${T?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:T?"Activ":"Inactiv"})}},{key:"created_by",label:"CREAT DE",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.created_at?new Date(u.created_at).toLocaleDateString("ro-RO"):"N/A"})}],I=()=>{d(null),h(!0)},k=u=>{d(u),h(!0)},O=async u=>{window.confirm(`Sigur doriți să ștergeți furnizorul "${u.name}"?`)&&await i("providers",u.id)},x=async u=>{c?await s("providers",c.id,u):await r("providers",u),h(!1),d(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută furnizori...",value:p,onChange:u=>f(u.target.value),className:"input-field pl-12"})]}),t("button",{onClick:()=>{console.log("Import functionality to be implemented")},className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:async()=>{await o("providers","excel")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{size:16}),e("span",{children:"Exportă"})]}),N&&t(ie,{children:[t("button",{onClick:L,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:w,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Furnizor"})]})]})}),e(we,{data:_,columns:q,loading:n.providers,searchTerm:p,onSearchChange:f,onEdit:k,onDelete:O,selectedItems:S,onSelectAll:j,onSelectItem:g}),m&&e(ui,{item:c,onClose:()=>{h(!1),d(null)},onSave:x})]})})},pi=({item:a,onClose:l,onSave:r})=>{const{providers:s,platforms:i}=te(),[o,n]=b.useState({provider:"",name:"",model:"",platform:"",status:"Activ",notes:""});b.useEffect(()=>{a&&n({provider:a.provider||"",name:a.name||"",model:a.model||"",platform:a.platform||"",status:a.status||"Activ",notes:a.notes||""})},[a]);const m=c=>{c.preventDefault(),r(o)},h=c=>{const{name:d,value:p}=c.target;n(f=>({...f,[d]:p}))};return e("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-purple-700 to-violet-600 text-white px-8 py-6 flex items-center justify-between rounded-t-3xl shadow-lg",children:[e("h2",{className:"text-2xl font-bold flex items-center",children:a?"Editează Cabinet":"Adaugă Cabinet Nou"}),e("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110",children:e(se,{size:24})})]}),t("form",{onSubmit:m,className:"p-8 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:o.provider,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează furnizor"}),s==null?void 0:s.map(c=>e("option",{value:c.name,children:c.name},c.id))]}),e("p",{className:"text-xs text-slate-500",children:"Furnizorul cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Cabinet *"}),e("input",{type:"text",name:"name",value:o.name,onChange:h,className:"input-field",placeholder:"Ex: Cabinet Premium 01",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Numele cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Model"}),e("input",{type:"text",name:"model",value:o.model,onChange:h,className:"input-field",placeholder:"Ex: Deluxe 2024"}),e("p",{className:"text-xs text-slate-500",children:"Modelul cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Platformă *"}),t("select",{name:"platform",value:o.platform,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează platformă"}),i==null?void 0:i.map(c=>e("option",{value:c.name,children:c.name},c.id))]}),e("p",{className:"text-xs text-slate-500",children:"Platforma tehnică a cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status *"}),t("select",{name:"status",value:o.status,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Mentenanță",children:"Mentenanță"})]}),e("p",{className:"text-xs text-slate-500",children:"Statusul actual"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:o.notes,onChange:h,className:"input-field min-h-[100px] resize-none",placeholder:"Informații suplimentare despre cabinet..."}),e("p",{className:"text-xs text-slate-500",children:"Observații și detalii adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary px-8",children:"Anulează"}),e("button",{type:"submit",className:"btn-primary px-8",children:a?"Actualizează Cabinet":"Adaugă Cabinet"})]})]})]})})},Zr=({item:a,onClose:l,onSave:r})=>{const{providers:s}=te(),[i,o]=b.useState({name:"",serial_numbers:"",provider_id:"",avatar_url:"",avatar_file:"",status:"Active",notes:""}),[n,m]=b.useState(null);b.useEffect(()=>{a&&(o({name:a.name||"",serial_numbers:a.serial_numbers||"",provider_id:a.provider_id||"",avatar_url:a.avatar_url||"",avatar_file:a.avatar_file||"",status:a.status||"Active",notes:a.notes||""}),a.avatar_url?m(a.avatar_url):a.avatar_file&&a.avatar_file!=="{}"?m(a.avatar_file):m(null))},[a]);const h=f=>{f.preventDefault(),r(i)},c=f=>{const{name:S,value:v}=f.target;o(N=>({...N,[S]:v}))},d=f=>{const S=f.target.files[0];if(S){const v=new FileReader;v.onload=N=>{const y=N.target.result;o(z=>({...z,avatar_file:y,avatar_url:""})),m(y)},v.readAsDataURL(S)}},p=f=>{o(S=>({...S,avatar_url:f.target.value,avatar_file:""})),f.target.value?m(f.target.value):m(null)};return e("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:t("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white px-8 py-6 flex items-center justify-between rounded-t-3xl shadow-lg",children:[e("h2",{className:"text-2xl font-bold flex items-center",children:a?"Editează Platformă":"Adaugă Platformă Nouă"}),e("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110",children:e(se,{size:24})})]}),t("form",{onSubmit:h,className:"p-6",children:[t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Platformă *"}),e("input",{type:"text",name:"name",value:i.name,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",placeholder:"Ex: Android 10 Pro",required:!0})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor"}),t("select",{name:"provider_id",value:i.provider_id,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",children:[e("option",{value:"",children:"Selectează furnizor"}),s.map(f=>e("option",{value:f.id,children:f.name},f.id))]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Avatar Platformă"}),t("div",{className:"space-y-3",children:[n&&e("div",{className:"flex justify-center",children:e("img",{src:n,alt:"Preview",className:"w-20 h-20 rounded-xl object-cover border-2 border-slate-200 shadow-sm"})}),e("input",{type:"url",name:"avatar_url",value:i.avatar_url,onChange:p,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",placeholder:"https://example.com/avatar.png"}),e("div",{className:"relative",children:e("input",{type:"file",name:"avatar_file",onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100",accept:"image/*"})})]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:i.status,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",required:!0,children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:i.notes,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm resize-none",placeholder:"Informații adiționale despre platformă...",rows:3})]})]}),t("div",{className:"mt-6 space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numere Seriale *"}),e("textarea",{name:"serial_numbers",value:i.serial_numbers,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm text-sm resize-none",placeholder:`Introdu numerele seriale, separate prin virgulă sau pe rânduri diferite:
SN001, SN002, SN003
sau:
SN001
SN002
SN003`,rows:4,required:!0}),t("div",{className:"flex items-center space-x-2 text-xs text-slate-500",children:[e("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-blue-50 text-blue-700",children:"💡 Exemplu: SN12345, SN12346, SN12347"}),e("span",{children:"sau pe rânduri separate"})]})]}),t("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-2.5 text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-xl transition-all duration-200 font-medium",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl hover:from-cyan-600 hover:to-blue-600 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:a?"Actualizează":"Adaugă Platformă"})]})]})]})})},bi=({locationId:a,locationName:l,hideSearchAndAdd:r=!1})=>{const{platforms:s,createItem:i,updateItem:o,deleteItem:n}=te(),[m,h]=b.useState(!1),[c,d]=b.useState(null),[p,f]=b.useState(""),S=s.filter(_=>{var q,I,k,O;return((q=_.name)==null?void 0:q.toLowerCase().includes(p.toLowerCase()))||((I=_.type)==null?void 0:I.toLowerCase().includes(p.toLowerCase()))||((k=_.status)==null?void 0:k.toLowerCase().includes(p.toLowerCase()))||((O=_.description)==null?void 0:O.toLowerCase().includes(p.toLowerCase()))}),v=()=>{d(null),h(!0)},N=_=>{console.log("View platform:",_)},y=_=>{d(_),h(!0)},z=async _=>{if(window.confirm(`Sigur doriți să ștergeți platforma "${_.name}"?`))try{await n("platforms",_.id)}catch(q){console.error("Error deleting platform:",q)}},j=async _=>{try{c?await o("platforms",c.id,_):await i("platforms",_),h(!1),d(null)}catch(q){console.error("Error saving platform:",q)}},g=_=>{switch(_){case"Gaming":return"bg-purple-100 text-purple-800";case"Server":return"bg-blue-100 text-blue-800";case"Workstation":return"bg-green-100 text-green-800";case"Terminal":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},w=_=>{switch(_){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},L=_=>{switch(_){case"Gaming":return e(gt,{className:"w-6 h-6 text-white"});case"Server":return e(wa,{className:"w-6 h-6 text-white"});case"Workstation":return e(br,{className:"w-6 h-6 text-white"});case"Terminal":return e(gt,{className:"w-6 h-6 text-white"});default:return e(gt,{className:"w-6 h-6 text-white"})}};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Platforme"}),e("p",{className:"text-slate-600",children:a?`Gestionează platformele pentru ${l}`:"Toate platformele din sistem"})]}),!r&&t("button",{onClick:v,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Platformă"})]})]}),!r&&t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută platforme...",value:p,onChange:_=>f(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),S.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(_=>t("div",{className:"card p-6 hover:shadow-lg transition-all duration-200 group",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl",children:L(_.type)}),t("div",{children:[e("h3",{className:"font-bold text-slate-800 group-hover:text-purple-700 transition-colors",children:_.name}),e("p",{className:"text-slate-600 text-sm",children:_.type})]})]}),t("div",{className:"flex space-x-1",children:[e("button",{onClick:()=>N(_),className:"p-2 text-slate-400 hover:text-blue-500 transition-colors",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>y(_),className:"p-2 text-slate-400 hover:text-green-500 transition-colors",children:e(ze,{className:"w-4 h-4"})}),e("button",{onClick:()=>z(_),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:e(De,{className:"w-4 h-4"})})]})]}),t("div",{className:"space-y-3",children:[t("div",{className:"space-y-2",children:[_.description&&e("div",{className:"text-sm text-slate-600",children:_.description}),_.specifications&&t("div",{className:"text-xs text-slate-500",children:[e("strong",{children:"Specs:"})," ",_.specifications]}),_.location&&t("div",{className:"text-xs text-slate-500",children:[e("strong",{children:"Locație:"})," ",_.location]})]}),t("div",{className:"flex space-x-2",children:[e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g(_.type)}`,children:_.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${w(_.status)}`,children:_.status==="Active"?"Activ":_.status==="Inactive"?"Inactiv":_.status==="Maintenance"?"În mentenanță":_.status==="Offline"?"Offline":_.status})]}),_.notes&&e("div",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-lg",children:_.notes})]})]},_.id))}):t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(gt,{className:"w-16 h-16 text-purple-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există platforme"}),e("p",{className:"text-slate-600 mb-6",children:a?"Adaugă prima platformă pentru această locație":"Nu există platforme în sistem"}),!r&&t("button",{onClick:v,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Platformă"})]})]}),m&&e(Zr,{item:c,onClose:()=>{h(!1),d(null)},onSave:j})]})},xi=()=>{const{cabinets:a,platforms:l,providers:r,createItem:s,updateItem:i,deleteItem:o,exportData:n,loading:m}=te(),[h,c]=b.useState(!1),[d,p]=b.useState(!1),[f,S]=b.useState(null),[v,N]=b.useState(""),[y,z]=b.useState([]),[j,g]=b.useState(!1);b.useEffect(()=>{g(y.length>0)},[y]);const w=R=>{z(R?O.map($=>$.id):[])},L=(R,$)=>{z($?[...y,R]:y.filter(J=>J!==R))},_=async()=>{if(y.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${y.length} elemente?`))try{for(const R of y)await o("cabinets",R);z([]),g(!1)}catch(R){console.error("Error bulk deleting:",R)}},q=()=>{y.length!==0&&console.log("Bulk edit for:",y)},[I,k]=b.useState("cabinets"),O=a.filter(R=>{var $,J,H,X;return(($=R.name)==null?void 0:$.toLowerCase().includes(v.toLowerCase()))||((J=R.provider)==null?void 0:J.toLowerCase().includes(v.toLowerCase()))||((H=R.model)==null?void 0:H.toLowerCase().includes(v.toLowerCase()))||((X=R.platform)==null?void 0:X.toLowerCase().includes(v.toLowerCase()))});l!=null&&l.filter(R=>{var $,J;return(($=R.name)==null?void 0:$.toLowerCase().includes(v.toLowerCase()))||((J=R.serial_numbers)==null?void 0:J.toLowerCase().includes(v.toLowerCase()))});const x=[{key:"name",label:"Nume Cabinet",sortable:!0,render:R=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold shadow-lg",children:e(Se,{className:"w-4 h-4 text-white"})}),e("div",{className:"font-bold text-slate-900",children:R.name})]})},{key:"provider",label:"Furnizor",sortable:!0,render:R=>{var H;const J=(X=>{if(X.provider_logo)try{const re=typeof X.provider_logo=="string"?JSON.parse(X.provider_logo):X.provider_logo;return re.file||re.url||re}catch{return X.provider_logo}return null})(R);return t("div",{className:"flex items-center space-x-3",children:[J?e("img",{src:J,alt:R.provider_name||R.provider,className:"w-8 h-8 rounded-full object-cover border-2 border-slate-200 bg-white shadow-md",onError:X=>{X.target.style.display="none",X.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center text-white font-bold shadow-lg",style:{display:J?"none":"flex"},children:((H=R.provider_name||R.provider)==null?void 0:H.charAt(0))||"F"}),e("span",{className:"text-purple-800 dark:text-purple-300 text-xs font-bold",children:R.provider_name||R.provider||"N/A"})]})}},{key:"model",label:"Model",sortable:!0},{key:"platform",label:"Platformă",sortable:!0,render:R=>{const J=(H=>H.platform_avatar_url&&H.platform_avatar_url.trim()!==""?H.platform_avatar_url:H.platform_avatar_file&&H.platform_avatar_file!=="{}"&&H.platform_avatar_file.trim()!==""?H.platform_avatar_file:null)(R);return t("div",{className:"flex items-center space-x-3",children:[J?e("img",{src:J,alt:R.platform_name||R.platform,className:"w-[60px] h-[30px] rounded object-contain border border-slate-200 bg-white shadow-sm",onError:H=>{H.target.style.display="none",H.target.nextSibling.style.display="flex"}}):null,e("div",{className:`w-[60px] h-[30px] rounded flex items-center justify-center text-white font-bold shadow-sm ${J?"bg-white border border-slate-200":"bg-gradient-to-br from-cyan-500 to-blue-500"}`,style:{display:J?"none":"flex"},children:e(gt,{className:`w-5 h-5 ${J?"text-slate-600":"text-white"}`})}),e("span",{className:"text-cyan-800 dark:text-cyan-300 text-xs font-bold",children:R.platform_name||R.platform||"N/A"})]})}},{key:"status",label:"Status",sortable:!0,render:R=>{var J,H;const $=((J=R.status)==null?void 0:J.toLowerCase())==="activ"||((H=R.status)==null?void 0:H.toLowerCase())==="active";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${$?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:$?"Activ":"Inactiv"})}},{key:"created_at",label:"Data Creare",sortable:!0,render:R=>e("div",{className:"text-sm text-slate-600",children:new Date(R.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:R=>{var $,J;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((J=($=R.created_by)==null?void 0:$.charAt(0))==null?void 0:J.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700",children:R.created_by||"Sistem"})]})}}];b.useState({});const D=()=>{S(null),c(!0)},C=()=>{S(null),p(!0)},u=R=>{S(R),I==="cabinets"?c(!0):p(!0)},E=async R=>{const $=I==="cabinets"?"cabinets":"platforms";f?await i($,f.id,R):await s($,R),c(!1),p(!1)},T=async R=>{const $=I==="cabinets"?"cabinets":"platforms";window.confirm(`Sigur vrei să ștergi acest ${I==="cabinets"?"cabinet":"platformă"}?`)&&await o($,R)};return t(oe,{children:[t("div",{className:"space-y-6",children:[e("div",{className:"card p-4",children:t("div",{className:"flex space-x-2 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>{k("cabinets"),N("")},className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${I==="cabinets"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25 scale-105":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(Se,{size:20}),e("span",{children:"CABINETE"}),e("span",{className:`px-2 py-1 rounded-full text-xs ${I==="cabinets"?"bg-white/20":"bg-slate-200 text-slate-700"}`,children:a.length})]})}),e("button",{onClick:()=>{k("platforms"),N("")},className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${I==="platforms"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg shadow-cyan-500/25 scale-105":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(gt,{size:20}),e("span",{children:"PLATFORME"}),e("span",{className:`px-2 py-1 rounded-full text-xs ${I==="platforms"?"bg-white/20":"bg-slate-200 text-slate-700"}`,children:(l==null?void 0:l.length)||0})]})})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e("div",{className:"flex-1 max-w-md",children:t("div",{className:"relative",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),e("input",{type:"text",placeholder:`Caută ${I==="cabinets"?"cabinete":"platforme"}...`,value:v,onChange:R=>N(R.target.value),className:"input-field pl-12"})]})}),t("div",{className:"flex gap-3",children:[t("button",{onClick:()=>n(I==="cabinets"?"cabinets":"platforms"),className:"btn-secondary flex items-center space-x-2",children:[e(ne,{size:18}),e("span",{className:"hidden sm:inline",children:"Export"})]}),j&&I==="cabinets"&&t(ie,{children:[t("button",{onClick:q,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:_,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I==="cabinets"?D:C,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:I==="cabinets"?"Adaugă Cabinet":"Adaugă Platformă"})]})]})]})}),I==="cabinets"?e("div",{className:"card p-6",children:e(we,{data:O,columns:x,onEdit:u,onDelete:T,loading:m,selectedItems:y,onSelectAll:w,onSelectItem:L})}):e(bi,{locationId:null,locationName:"Toate Platformele",hideSearchAndAdd:!0})]}),h&&e(pi,{item:f,onClose:()=>c(!1),onSave:E}),d&&e(Zr,{item:f,onClose:()=>p(!1),onSave:E})]})},gi=({item:a,onClose:l,onSave:r})=>{const{providers:s}=te(),[i,o]=b.useState({name:"",provider:"",games:"",rtp:"",denomination:.01,max_bet:"",gaming_places:1,status:"Active",notes:""});b.useEffect(()=>{if(a){let c="";try{if(typeof a.games=="string"){const d=JSON.parse(a.games);c=Array.isArray(d)?d.join(`
`):""}else Array.isArray(a.games)&&(c=a.games.join(`
`))}catch(d){console.error("Error parsing games:",d),c=""}o({name:a.name||"",provider:a.provider||"",games:c,rtp:a.rtp||"",denomination:a.denomination||.01,max_bet:a.max_bet||"",gaming_places:a.gaming_places||1,status:a.status||"Active",notes:a.notes||""})}},[a]);const n=c=>{const{name:d,value:p}=c.target;o(f=>({...f,[d]:p}))},m=()=>i.games.trim()?i.games.split(`
`).filter(c=>c.trim()).length:0;return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-indigo-800 to-blue-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-blue-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg",children:e(ft,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Game Mix":"Adaugă Game Mix"}),e("p",{className:"text-indigo-100 text-sm font-medium",children:"Completează informațiile despre game mix"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:c=>{c.preventDefault();const d=i.games.split(`
`).map(f=>f.trim()).filter(f=>f.length>0),p={...i,games:d,rtp:i.rtp?parseFloat(i.rtp):null,denomination:i.denomination?parseFloat(i.denomination):.01,max_bet:i.max_bet?parseFloat(i.max_bet):null,gaming_places:i.gaming_places?parseInt(i.gaming_places):1};console.log("🎮 GameMix submitData:",p),r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Game Mix *"}),e("input",{type:"text",name:"name",value:i.name,onChange:n,className:"input-field",placeholder:"ex: Mix Clasice Novomatic",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Furnizor"}),t("select",{name:"provider",value:i.provider,onChange:n,className:"input-field",children:[e("option",{value:"",children:"Selectează furnizor"}),s==null?void 0:s.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"RTP (%)"}),e("input",{type:"number",step:"0.01",name:"rtp",value:i.rtp,onChange:n,className:"input-field",placeholder:"ex: 96.5"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status *"}),t("select",{name:"status",value:i.status,onChange:n,className:"input-field",required:!0,children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Jocuri în Mix"}),t("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[e("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold shadow-lg",children:m()}),t("div",{children:[t("div",{className:"font-bold text-slate-900",children:[m()," jocuri"]}),e("div",{className:"text-sm text-slate-500",children:"în acest mix"})]})]})]})]}),e("div",{className:"space-y-4",children:t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Jocuri în Mix *"}),e("textarea",{name:"games",value:i.games,onChange:n,className:"input-field",rows:6,placeholder:`Introdu numele jocurilor, separate pe rânduri diferite:
Book of Ra
Sizzling Hot
Lucky Lady Charm
Dolphins Pearl`,required:!0}),t("div",{className:"flex items-center space-x-2 text-xs text-slate-500",children:[e("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-green-50 text-green-700",children:"💡 Exemplu: Un joc pe fiecare rând"}),e("span",{className:"text-slate-400",children:"•"}),t("span",{children:[m()," jocuri adăugate"]})]})]})}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Configurație Tehnică"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Denomination"}),e("input",{type:"number",step:"0.01",name:"denomination",value:i.denomination,onChange:n,className:"input-field",placeholder:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Max Bet"}),e("input",{type:"number",step:"0.01",name:"max_bet",value:i.max_bet,onChange:n,className:"input-field",placeholder:"100.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Gaming Places"}),e("input",{type:"number",name:"gaming_places",value:i.gaming_places,onChange:n,className:"input-field",placeholder:"1"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:i.notes,onChange:n,className:"input-field",rows:3,placeholder:"Note adiționale despre acest game mix..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ft,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Game Mix"]})]})]})]})})]})})},fi=()=>{const a=Ke();te();const[l,r]=b.useState([]),[s,i]=b.useState(!1),[o,n]=b.useState(""),[m,h]=b.useState(""),[c,d]=b.useState(""),[p,f]=b.useState(""),[S,v]=b.useState("grid"),[N,y]=b.useState("name"),z=[{game_id:"00000004-0000-5000-9000-000000000001",name:"10 Burning Heart",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"fruits",volatility:"low - medium",lines:10,layout:"5x3",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000001.png"},{game_id:"00000004-0000-5000-9000-000000000002",name:"100 Burning Hot",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"fruits",volatility:"medium",lines:100,layout:"5x4",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000002.png"},{game_id:"00000004-0000-5000-9000-000000000003",name:"100 Cats",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"animals and nature and wildlife",volatility:"low - medium",lines:100,layout:"5x4",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000003.png"},{game_id:"00000004-0000-5000-9000-000000000005",name:"2 Dragons",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"dragons and mythical creatures;asian cultures;oriental and asian prosperity",volatility:"high",lines:20,layout:"5x3",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000005.png"},{game_id:"00000004-0000-5000-9000-000000000099",name:"Mini Burning Hot",provider:"Egypt Quest",provider_id:"00000555-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"n/a",mechanic:"n/a",theme:"n/a",volatility:"n/a",lines:5,layout:"n/a",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000099.png"}];b.useEffect(()=>{j()},[]);const j=async()=>{i(!0);try{const x=await fetch("/api/games");if(!x.ok)throw new Error("Failed to load games");const D=await x.json();r(D)}catch(x){console.error("Error loading games:",x),r(z)}finally{i(!1)}},g=[...new Set(l.map(x=>x.provider))],w=[...new Set(l.map(x=>x.volatility).filter(x=>x&&x!=="n/a"))];[...new Set(l.map(x=>x.theme).filter(x=>x&&x!=="n/a"))];const L=l.filter(x=>{const D=x.name.toLowerCase().includes(o.toLowerCase()),C=!m||x.provider===m,u=!c||x.volatility===c,E=!p||x.theme.includes(p);return D&&C&&u&&E}),_=[...L].sort((x,D)=>{switch(N){case"provider":return x.provider.localeCompare(D.provider);case"volatility":const C={low:1,"low - medium":2,medium:3,high:4};return(C[x.volatility]||5)-(C[D.volatility]||5);default:return x.name.localeCompare(D.name)}}),q=x=>{switch(x){case"low":return"bg-green-100 text-green-800";case"low - medium":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=x=>{switch(x){case"low":return e(Xe,{className:"w-3 h-3"});case"low - medium":return e(Dt,{className:"w-3 h-3"});case"medium":return e(xr,{className:"w-3 h-3"});case"high":return e(Dt,{className:"w-3 h-3"});default:return e(Xe,{className:"w-3 h-3"})}};return t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Biblioteca Jocuri"}),e("p",{className:"text-slate-600",children:"Toate jocurile disponibile de la toți furnizorii"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{console.log("Export games library")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("button",{onClick:()=>{console.log("Import games from Google Sheets")},className:"btn-primary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă din Sheets"})]})]})]})}),t("div",{className:"card p-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t("div",{className:"lg:col-span-2 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută jocuri...",value:o,onChange:x=>n(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t("select",{value:m,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"",children:"Toți furnizorii"}),g.map(x=>e("option",{value:x,children:x},x))]}),t("select",{value:c,onChange:x=>d(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"",children:"Toate volatilitățile"}),w.map(x=>e("option",{value:x,children:x},x))]}),t("select",{value:N,onChange:x=>y(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"name",children:"Sortare: Nume"}),e("option",{value:"provider",children:"Sortare: Furnizor"}),e("option",{value:"volatility",children:"Sortare: Volatilitate"})]})]}),t("div",{className:"flex items-center justify-between mt-4",children:[e("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-sm text-slate-600",children:[L.length," jocuri din ",l.length," total"]})}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-colors ${S==="grid"?"bg-purple-100 text-purple-600":"text-slate-400 hover:text-slate-600"}`,children:e(hl,{className:"w-4 h-4"})}),e("button",{onClick:()=>v("list"),className:`p-2 rounded-lg transition-colors ${S==="list"?"bg-purple-100 text-purple-600":"text-slate-400 hover:text-slate-600"}`,children:e(pl,{className:"w-4 h-4"})})]})]})]}),e("div",{className:"card p-6",children:s?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):L.length===0?t("div",{className:"text-center py-12",children:[e(Se,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există jocuri"}),e("p",{className:"text-slate-500",children:"Importă jocurile din Google Sheets pentru a începe"})]}):e("div",{className:S==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4":"space-y-4",children:_.map(x=>S==="grid"?e("div",{className:"group cursor-pointer",onClick:()=>a(`/games/${x.game_id}`),children:t("div",{className:"bg-white rounded-xl border border-slate-200 p-3 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[t("div",{className:"w-full h-64 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg mb-3 overflow-hidden flex items-center justify-center",children:[e("img",{src:x.image_url,alt:x.name,className:"max-w-full max-h-full object-contain group-hover:scale-105 transition-transform duration-300",style:{imageRendering:"crisp-edges"},onError:D=>{D.target.style.display="none",D.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-8 h-8 text-purple-400"})})]}),t("div",{className:"space-y-2",children:[e("h3",{className:"font-semibold text-slate-800 text-sm line-clamp-2 group-hover:text-purple-600 transition-colors",children:x.name}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:x.provider}),x.volatility&&x.volatility!=="n/a"&&t("span",{className:`text-xs px-2 py-1 rounded-full flex items-center space-x-1 ${q(x.volatility)}`,children:[I(x.volatility),e("span",{children:x.volatility})]})]}),x.lines&&x.lines!=="n/a"&&t("div",{className:"text-xs text-slate-500",children:[x.lines," linii • ",x.layout]})]})]})},x.game_id):t("div",{className:"flex items-center space-x-4 p-4 bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(`/games/${x.game_id}`),children:[t("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:[e("img",{src:x.image_url,alt:x.name,className:"max-w-full max-h-full object-contain",style:{imageRendering:"crisp-edges"},onError:D=>{D.target.style.display="none",D.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-6 h-6 text-purple-400"})})]}),t("div",{className:"flex-1 min-w-0",children:[e("h3",{className:"font-semibold text-slate-800 group-hover:text-purple-600 transition-colors",children:x.name}),e("p",{className:"text-sm text-slate-500 truncate",children:x.theme}),t("div",{className:"flex items-center space-x-2 mt-1",children:[e("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:x.provider}),x.volatility&&x.volatility!=="n/a"&&t("span",{className:`text-xs px-2 py-1 rounded-full flex items-center space-x-1 ${q(x.volatility)}`,children:[I(x.volatility),e("span",{children:x.volatility})]}),x.lines&&x.lines!=="n/a"&&t("span",{className:"text-xs text-slate-500",children:[x.lines," linii"]})]})]}),e("button",{onClick:D=>{D.stopPropagation(),a(`/games/${x.game_id}`)},className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:e(ke,{className:"w-4 h-4"})})]},x.game_id))})})]})},vi=()=>{const{gameMixes:a,createItem:l,updateItem:r,deleteItem:s,refreshData:i}=te(),[o,n]=b.useState("mixes"),[m,h]=b.useState(!1),[c,d]=b.useState(null),[p,f]=b.useState(""),[S,v]=b.useState("all"),[N,y]=b.useState([]),[z,j]=b.useState(!1);b.useEffect(()=>{j(N.length>0)},[N]);const g=()=>{d(null),h(!0)},w=u=>{d(u),h(!0)},L=()=>{h(!1),d(null)},_=async u=>{try{console.log("🎮 GameMixes handleSave:",{selectedItem:c,formData:u}),c?(console.log("🎮 Updating game mix:",c.id,u),await r("gameMixes",c.id,u)):(console.log("🎮 Creating game mix:",u),await l("gameMixes",u)),await i(),L()}catch(E){console.error("Error saving game mix:",E)}},q=async u=>{if(window.confirm("Ești sigur că vrei să ștergi acest game mix?"))try{await s("gameMixes",u)}catch(E){console.error("Error deleting game mix:",E)}},I=u=>{y(u?D.map(E=>E.id):[])},k=(u,E)=>{y(E?[...N,u]:N.filter(T=>T!==u))},O=async()=>{if(N.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${N.length} game mix-uri?`))try{for(const u of N)await s("gameMixes",u);y([]),j(!1)}catch(u){console.error("Error bulk deleting game mixes:",u)}},x=()=>{N.length!==0&&console.log("Bulk edit for:",N)},D=a.filter(u=>{var R,$;const E=((R=u.name)==null?void 0:R.toLowerCase().includes(p.toLowerCase()))||(($=u.provider)==null?void 0:$.toLowerCase().includes(p.toLowerCase())),T=S==="all"||u.status===S;return E&&T}),C=[{key:"name",label:"Nume Game Mix",sortable:!0,render:u=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center text-white font-bold shadow-lg",children:e(ft,{className:"w-5 h-5"})}),t("div",{children:[e("div",{className:"font-bold text-slate-900",children:u.name}),t("div",{className:"text-sm text-slate-500",children:["ID: ",u.id]})]})]})},{key:"provider",label:"Furnizor",sortable:!0,render:u=>e("span",{className:"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-800 px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm",children:u.provider||"N/A"})},{key:"games",label:"Jocuri",render:u=>{const E=typeof u.games=="string"?JSON.parse(u.games):u.games,T=Array.isArray(E)?E.length:0;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold shadow-lg",children:T}),t("span",{className:"text-sm font-medium text-slate-700",children:[T," jocuri"]})]})}},{key:"status",label:"Status",sortable:!0,render:u=>{var R;const E=((R=u.status)==null?void 0:R.toLowerCase())||"";return e("span",{className:`px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm ${E==="activ"||E==="active"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800"}`,children:u.status})}},{key:"created_at",label:"Data Creare",sortable:!0,render:u=>e("div",{className:"text-sm text-slate-600",children:new Date(u.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:u=>{var E,T;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((T=(E=u.created_by)==null?void 0:E.charAt(0))==null?void 0:T.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700",children:u.created_by||"Sistem"})]})}}];return e(oe,{children:t("div",{className:"space-y-6",children:[t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg shadow-red-500/25",children:e(ft,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Game Mixes"}),e("p",{className:"text-slate-600",children:"Gestionează mixurile de jocuri și biblioteca de jocuri"})]})]}),t("div",{className:"flex items-center space-x-3",children:[o==="mixes"&&z&&t(ie,{children:[t("button",{onClick:x,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),t("span",{children:["Bulk Edit (",N.length,")"]})]}),t("button",{onClick:O,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),t("span",{children:["Bulk Delete (",N.length,")"]})]})]}),o==="mixes"&&t("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-5 h-5"}),e("span",{children:"Adaugă Game Mix"})]})]})]}),t("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-lg",children:[t("button",{onClick:()=>n("mixes"),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all duration-200 ${o==="mixes"?"bg-white text-red-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:[e(ft,{className:"w-4 h-4"}),e("span",{className:"font-medium",children:"Game Mixes"})]}),t("button",{onClick:()=>n("games"),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all duration-200 ${o==="games"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:[e(Se,{className:"w-4 h-4"}),e("span",{className:"font-medium",children:"Biblioteca Jocuri"})]})]})]}),o==="mixes"?t(ie,{children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap gap-4 items-center",children:[e("div",{className:"flex-1 min-w-64",children:t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută game mix sau furnizor...",value:p,onChange:u=>f(u.target.value),className:"input-field pl-10"})]})}),t("div",{className:"flex items-center space-x-2",children:[e(ka,{className:"w-5 h-5 text-slate-500"}),t("select",{value:S,onChange:u=>v(u.target.value),className:"input-field",children:[e("option",{value:"all",children:"Toate statusurile"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"flex items-center space-x-2",children:[t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Export"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Import"})]})]})]})}),e("div",{className:"card",children:e(we,{data:D,columns:C,onEdit:w,onDelete:q,searchTerm:p,emptyMessage:"Nu există game mixes în sistem",selectedItems:N,onSelectAll:I,onSelectItem:k})})]}):e(fi,{}),m&&e(gi,{item:c,onClose:L,onSave:_})]})})},Ni=()=>{const{gameId:a}=ra(),l=Ke(),{slots:r,gameMixes:s,providers:i,companies:o,locations:n,cabinets:m}=te(),[h,c]=b.useState(null),[d,p]=b.useState(!0),[f,S]=b.useState(null),[v,N]=b.useState([]);b.useEffect(()=>{w(),y()},[a,r,s]);const y=()=>{if(!h||!r||!s)return;const I=[];r.forEach(k=>{if(k.game_mix){const O=s.find(x=>x.name===k.game_mix||x.id===k.game_mix);if(O&&O.games){let x=[];try{x=typeof O.games=="string"?JSON.parse(O.games):O.games}catch{x=[O.games]}x.includes(h.name)&&I.push({...k,gameMixName:O.name,providerName:z(k.provider),locationName:j(k.location),cabinetName:g(k.cabinet)})}}}),N(I)},z=I=>{const k=i==null?void 0:i.find(O=>O.id===I||O.name===I);return k?k.name:I},j=I=>{const k=n==null?void 0:n.find(O=>O.id===I||O.name===I);return k?k.name:I},g=I=>{const k=m==null?void 0:m.find(O=>O.id===I||O.name===I);return k?k.name||k.model:I},w=async()=>{p(!0);try{const I=await fetch(`/api/games/${a}`);if(!I.ok)throw new Error("Game not found");const k=await I.json();c(k),L(k)}catch(I){console.error("Error loading game details:",I)}finally{p(!1)}},L=I=>{const k=r.filter(C=>{if(!C.game_mix)return!1;const u=s.find(T=>T.name===C.game_mix||T.id===C.game_mix);if(!u||!u.games)return!1;let E=[];try{E=typeof u.games=="string"?JSON.parse(u.games):u.games}catch{E=[u.games]}return E.includes(I.name)}),O={};k.forEach(C=>{const u=C.location||"Unknown";O[u]||(O[u]={count:0,cabinets:new Set,gameMixes:new Set,slots:[]}),O[u].count++,O[u].cabinets.add(C.cabinet||"Unknown"),O[u].gameMixes.add(C.game_mix||"None"),O[u].slots.push(C)});const x={};k.forEach(C=>{const u=C.cabinet||"Unknown";x[u]||(x[u]={count:0,locations:new Set,gameMixes:new Set,slots:[]}),x[u].count++,x[u].locations.add(C.location||"Unknown"),x[u].gameMixes.add(C.game_mix||"None"),x[u].slots.push(C)});const D={};k.forEach(C=>{const u=C.game_mix||"None";D[u]||(D[u]={count:0,locations:new Set,cabinets:new Set,slots:[]}),D[u].count++,D[u].locations.add(C.location||"Unknown"),D[u].cabinets.add(C.cabinet||"Unknown"),D[u].slots.push(C)}),S({totalSlots:k.length,uniqueLocations:Object.keys(O).length,uniqueCabinets:Object.keys(x).length,uniqueGameMixes:Object.keys(D).length,locationStats:O,cabinetStats:x,gameMixStats:D,allSlots:k})},_=I=>{switch(I){case"low":return"bg-green-100 text-green-800";case"low - medium":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=I=>{switch(I){case"low":return e(Xe,{className:"w-4 h-4"});case"low - medium":return e(Dt,{className:"w-4 h-4"});case"medium":return e(xr,{className:"w-4 h-4"});case"high":return e(Dt,{className:"w-4 h-4"});default:return e(Xe,{className:"w-4 h-4"})}};return d?e(oe,{children:e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})})}):h?e(oe,{children:t("div",{className:"space-y-6",children:[t("div",{className:"card p-6",children:[e("div",{className:"flex items-center justify-between mb-6",children:t("button",{onClick:()=>l("/game-mixes/games-library"),className:"flex items-center space-x-2 text-slate-600 hover:text-purple-600 transition-colors",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Biblioteca Jocuri"})]})}),t("div",{className:"flex items-start space-x-6",children:[e("div",{className:"flex-shrink-0",children:t("div",{className:"w-40 h-40 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-2xl overflow-hidden shadow-lg flex items-center justify-center",children:[e("img",{src:h.image_url,alt:h.name,className:"max-w-full max-h-full object-contain",style:{imageRendering:"crisp-edges"},onError:I=>{I.target.style.display="none",I.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-16 h-16 text-purple-400"})})]})}),t("div",{className:"flex-1",children:[e("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:h.name}),e("p",{className:"text-slate-600 mb-4",children:h.theme}),t("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Furnizor"}),e("div",{className:"font-semibold text-slate-800",children:h.provider})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Linii"}),e("div",{className:"font-semibold text-slate-800",children:h.lines||"N/A"})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Layout"}),e("div",{className:"font-semibold text-slate-800",children:h.layout||"N/A"})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Tip"}),e("div",{className:"font-semibold text-slate-800",children:h.classification})]})]}),h.volatility&&h.volatility!=="n/a"&&t("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full ${_(h.volatility)}`,children:[q(h.volatility),e("span",{className:"font-medium",children:h.volatility})]})]})]})]}),f&&t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl inline-block mb-4",children:e(_e,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.totalSlots}),e("p",{className:"text-slate-600",children:"Sloturi totale"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl inline-block mb-4",children:e(je,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueLocations}),e("p",{className:"text-slate-600",children:"Locații"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl inline-block mb-4",children:e(fe,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueCabinets}),e("p",{className:"text-slate-600",children:"Cabinete"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl inline-block mb-4",children:e($e,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueGameMixes}),e("p",{className:"text-slate-600",children:"Game Mixes"})]})]}),f&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.keys(f.locationStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(je,{className:"w-5 h-5 text-green-500"}),e("span",{children:"Locații"})]}),e("div",{className:"space-y-3",children:Object.entries(f.locationStats).map(([I,k])=>t("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-green-800 mb-2",children:I}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-green-800",children:k.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-green-800",children:k.cabinets.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Game Mixes:"}),e("span",{className:"font-semibold text-green-800",children:k.gameMixes.size})]})]})]},I))})]}),Object.keys(f.cabinetStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(fe,{className:"w-5 h-5 text-purple-500"}),e("span",{children:"Cabinete"})]}),e("div",{className:"space-y-3",children:Object.entries(f.cabinetStats).map(([I,k])=>t("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 border border-purple-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-purple-800 mb-2",children:I}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-purple-800",children:k.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Locații:"}),e("span",{className:"font-semibold text-purple-800",children:k.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Game Mixes:"}),e("span",{className:"font-semibold text-purple-800",children:k.gameMixes.size})]})]})]},I))})]}),Object.keys(f.gameMixStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e($e,{className:"w-5 h-5 text-orange-500"}),e("span",{children:"Game Mixes"})]}),e("div",{className:"space-y-3",children:Object.entries(f.gameMixStats).map(([I,k])=>t("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-orange-800 mb-2",children:I}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-orange-800",children:k.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Locații:"}),e("span",{className:"font-semibold text-orange-800",children:k.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-orange-800",children:k.cabinets.size})]})]})]},I))})]}),f&&f.allSlots.length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(fe,{className:"w-5 h-5 text-blue-500"}),e("span",{children:"Furnizori"})]}),e("div",{className:"space-y-3",children:(()=>{const I={};return f.allSlots.forEach(k=>{k.provider&&(I[k.provider]||(I[k.provider]={count:0,locations:new Set,cabinets:new Set}),I[k.provider].count++,k.location&&I[k.provider].locations.add(k.location),k.cabinet&&I[k.provider].cabinets.add(k.cabinet))}),Object.entries(I).map(([k,O])=>t("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-blue-800 mb-2",children:k}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-blue-800",children:O.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Locații:"}),e("span",{className:"font-semibold text-blue-800",children:O.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-blue-800",children:O.cabinets.size})]})]})]},k))})()})]})]}),f&&f.allSlots.length>0&&t("div",{className:"card p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center space-x-2",children:[e(Be,{className:"w-5 h-5 text-blue-500"}),t("span",{children:["Toate sloturile cu acest joc (",f.allSlots.length,")"]})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{children:t("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Serial Number"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Locație"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Furnizor"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Cabinet"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Game Mix"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Status"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Denomination"})]})}),e("tbody",{children:f.allSlots.map(I=>t("tr",{className:"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",children:[e("td",{className:"py-3 px-4",children:e("button",{onClick:()=>l(`/slots/${I.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold hover:underline transition-colors",children:I.serial_number||"N/A"})}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:I.location||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:I.provider||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:I.cabinet||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:I.game_mix||"N/A"}),e("td",{className:"py-3 px-4",children:e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:I.status||"N/A"})}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:I.denomination||"N/A"})]},I.id))})]})})]})]})}):e(oe,{children:t("div",{className:"text-center py-12",children:[e(Se,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Jocul nu a fost găsit"}),e("button",{onClick:()=>l("/game-mixes/games-library"),className:"btn-primary",children:"Înapoi la Biblioteca Jocuri"})]})})},yi=({item:a,onClose:l,onSave:r})=>{const{locations:s,cabinets:i,gameMixes:o,providers:n}=te(),[m,h]=b.useState({serial_number:"",provider:"",location:"",game:"",cabinet:"",game_mix:"",denomination:.01,max_bet:"",rtp:"",gaming_places:1,commission_date:"",invoice_number:"",status:"Active",notes:""});b.useEffect(()=>{a&&h({serial_number:a.serial_number||"",provider:a.provider||"",location:a.location||"",game:a.game||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",denomination:a.denomination||.01,max_bet:a.max_bet||"",rtp:a.rtp||"",gaming_places:a.gaming_places||1,commission_date:a.commission_date||"",invoice_number:a.invoice_number||"",status:a.status||"Active",notes:a.notes||""})},[a]);const c=p=>{const{name:f,value:S}=p.target;h(v=>{const N={...v,[f]:S};if(f==="provider")N.cabinet="",N.game_mix="";else if(f==="cabinet"){N.game_mix="";const y=i.find(z=>z.name===S);y&&y.provider&&y.provider!==N.provider&&(N.provider=y.provider)}return N})};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-emerald-800 to-green-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600/20 to-green-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl shadow-lg",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Slot":"Adaugă Slot Nou"}),e("p",{className:"text-emerald-100 text-sm font-medium",children:"Completează informațiile despre slot"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:p=>{p.preventDefault(),r(m)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numărul de serie *"}),e("input",{type:"text",name:"serial_number",value:m.serial_number,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Serial number unic",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locație *"}),t("select",{name:"location",value:m.location,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează locația"}),s==null?void 0:s.map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:m.provider,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),n==null?void 0:n.map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet"}),t("select",{name:"cabinet",value:m.cabinet,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(p=>!m.provider||p.provider===m.provider).map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix"}),t("select",{name:"game_mix",value:m.game_mix,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează game mix-ul"}),o.filter(p=>!(m.provider&&p.provider!==m.provider)).map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:m.status,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Inactive",children:"Inactiv"}),e("option",{value:"Maintenance",children:"Mentenanță"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Denomination"}),e("input",{type:"number",step:"0.01",name:"denomination",value:m.denomination,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Max Bet"}),e("input",{type:"number",step:"0.01",name:"max_bet",value:m.max_bet,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Max bet"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"RTP (%)"}),e("input",{type:"number",step:"0.01",name:"rtp",value:m.rtp,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"RTP"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Gaming Places"}),e("input",{type:"number",name:"gaming_places",value:m.gaming_places,onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"1"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip proprietate"}),e("input",{type:"text",value:"Se actualizează automat din Facturi",readOnly:!0,disabled:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-slate-100 text-slate-500 cursor-not-allowed"})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-xs font-medium text-slate-600",children:"Data comisionării"}),e("input",{type:"text",value:m.commission_date||"Auto din Comisii",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg bg-slate-100 text-slate-600 cursor-not-allowed",readOnly:!0,disabled:!0})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-xs font-medium text-slate-600",children:"Numărul facturii"}),e("input",{type:"text",value:m.invoice_number||"Se actualizează automat din Facturi",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg bg-slate-100 text-slate-600 cursor-not-allowed",readOnly:!0,disabled:!0})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:m.notes,onChange:c,rows:2,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Note adiționale despre slot"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(_e,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Slot"]})]})]})]})})]})})},wi=()=>{const{slots:a,invoices:l,warehouse:r,loading:s,createItem:i,updateItem:o,deleteItem:n,exportData:m}=te(),h=Ke(),[c,d]=b.useState(""),[p,f]=b.useState("all"),[S,v]=b.useState("all"),[N,y]=b.useState("all"),[z,j]=b.useState(!1),[g,w]=b.useState(null),[L,_]=b.useState([]),[q,I]=b.useState(!1),[k,O]=b.useState({totalSlots:!0,activeSlots:!0,inactiveSlots:!0,maintenanceSlots:!0,ownedSlots:!0,rentedSlots:!0}),[x,D]=b.useState(!1);b.useEffect(()=>{I(L.length>0)},[L]),b.useEffect(()=>{const B=localStorage.getItem("slots-card-visibility");B&&O(JSON.parse(B))},[]);const C=B=>{O(B),localStorage.setItem("slots-card-visibility",JSON.stringify(B))},u=B=>{const le={...k,[B]:!k[B]};C(le)},E=()=>{C({totalSlots:!0,activeSlots:!0,inactiveSlots:!0,maintenanceSlots:!0,ownedSlots:!0,rentedSlots:!0})},T=()=>{C({totalSlots:!1,activeSlots:!1,inactiveSlots:!1,maintenanceSlots:!1,ownedSlots:!1,rentedSlots:!1})},R=a.filter(B=>{var Ie,nt,Fe,Ve,Qe;const le=((Ie=B.name)==null?void 0:Ie.toLowerCase().includes(c.toLowerCase()))||((nt=B.model)==null?void 0:nt.toLowerCase().includes(c.toLowerCase()))||((Fe=B.provider)==null?void 0:Fe.toLowerCase().includes(c.toLowerCase()))||((Ve=B.location)==null?void 0:Ve.toLowerCase().includes(c.toLowerCase()))||((Qe=B.serial_number)==null?void 0:Qe.toLowerCase().includes(c.toLowerCase())),he=p==="all"||B.status===p,ce=S==="all"||B.provider===S,Ne=N==="all"||B.property_type===N;return le&&he&&ce&&Ne}),$=[...new Set(a.map(B=>B.provider).filter(Boolean))],J=a.length,H=a.filter(B=>B.status==="Active").length,X=a.filter(B=>B.status==="Inactive").length,re=a.filter(B=>B.status==="Maintenance").length,M=a.filter(B=>B.property_type==="Owned").length,G=a.filter(B=>B.property_type==="Rented").length,A=[{key:"serial_number",label:"SERIAL NUMBER",sortable:!0,render:B=>e("button",{onClick:()=>h(`/slots/${B.id}`),className:"text-blue-600 hover:text-blue-800 font-semibold text-base hover:underline transition-colors text-left",children:B.serial_number||"N/A"})},{key:"provider",label:"FURNIZOR",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.provider||"N/A"})},{key:"location",label:"LOCAȚIE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.location||"N/A"})},{key:"cabinet",label:"CABINET",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.cabinet||"N/A"})},{key:"game_mix",label:"GAME MIX",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.game_mix||"N/A"})},{key:"property_type",label:"TIP PROPRIETATE",sortable:!0,render:B=>{const le=l==null?void 0:l.find(ce=>{if(!ce.serial_number||!B.serial_number)return!1;let Ne=[];try{typeof ce.serial_number=="string"?Ne=JSON.parse(ce.serial_number):Array.isArray(ce.serial_number)?Ne=ce.serial_number:Ne=[ce.serial_number]}catch{Ne=[ce.serial_number.toString()]}return Ne.some(Ie=>Ie.toString()===B.serial_number.toString())});let he=B.property_type||"Necunoscut";return le&&le.invoice_type&&(le.invoice_type==="Vânzare"?he="Proprietate":le.invoice_type==="Chirie"?he="Închiriat":he=le.invoice_type),e("div",{className:"text-slate-800 dark:text-slate-200 font-medium text-sm",children:he})}},{key:"invoice",label:"FACTURĂ",sortable:!1,render:B=>{const le=l==null?void 0:l.find(he=>{if(!he.serial_number||!B.serial_number)return!1;let ce=[];try{typeof he.serial_number=="string"?ce=JSON.parse(he.serial_number):Array.isArray(he.serial_number)?ce=he.serial_number:ce=[he.serial_number]}catch{ce=[he.serial_number.toString()]}return ce.some(Ne=>Ne.toString()===B.serial_number.toString())});return le?t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>h(`/invoices/${le.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-sm hover:underline transition-colors",children:le.invoice_number}),le.file_path&&e("button",{onClick:()=>window.open(le.file_path,"_blank"),className:"p-1 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Vezi factura",children:e(ke,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-sm",children:"-"})}},{key:"status",label:"STATUS",sortable:!0,render:B=>{var Ne;const le=async()=>{var Ve;const Ie=((Ve=B.status)==null?void 0:Ve.toLowerCase())||"",Fe=Ie==="activ"||Ie==="active"?"Inactive":"Active";try{Fe==="Inactive"?(await i("warehouse",{serial_number:B.serial_number,provider:B.provider,location:"Depozit",cabinet:B.cabinet,game_mix:B.game_mix,status:"Inactive",notes:"Mutat automat din sloturi când a devenit inactiv"}),await n("slots",B.id),K.success("Slot mutat în Depozit")):(await o("slots",B.id,{...B,status:Fe}),K.success(`Status schimbat în ${Fe}`))}catch(Qe){K.error("Eroare la actualizare status"),console.error("Error updating slot status:",Qe)}},he=((Ne=B.status)==null?void 0:Ne.toLowerCase())||"",ce=he==="activ"||he==="active";return t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:le,className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${ce?"bg-green-500":"bg-gray-300"}`,children:e("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${ce?"translate-x-6":"translate-x-1"}`})}),e("span",{className:`text-xs font-bold ${ce?"text-green-600":"text-gray-600"}`,children:ce?"ON":"OFF"})]})}},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_at?new Date(B.created_at).toLocaleDateString("ro-RO"):"N/A"})}],V=()=>{w(null),j(!0)},W=B=>{w(B),j(!0)},Y=B=>{h(`/slots/${B.id}`)},be=B=>{_(B?R.map(le=>le.id):[])},Ee=(B,le)=>{_(le?[...L,B]:L.filter(he=>he!==B))},ve=async()=>{if(L.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${L.length} sloturi?`))try{for(const B of L)await n("slots",B);_([]),I(!1),K.success(`${L.length} sloturi șterse cu succes!`)}catch(B){console.error("Error bulk deleting slots:",B),K.error("Eroare la ștergerea sloturilor!")}},Pe=()=>{L.length!==0&&(console.log("Bulk edit for slots:",L),K.info("Funcționalitatea de editare în masă va fi implementată în curând!"))},qe=async B=>{if(window.confirm("Sigur vrei să ștergi acest slot?"))try{await n("slots",B),K.success("Slot șters cu succes!")}catch(le){K.error("Eroare la ștergerea slotului"),console.error("Error deleting slot:",le)}},Ge=async B=>{try{g?(await o("slots",g.id,B),K.success("Slot actualizat cu succes!")):(await i("slots",B),K.success("Slot adăugat cu succes!")),j(!1),w(null)}catch(le){K.error("Eroare la salvarea slotului"),console.error("Error saving slot:",le)}},st=()=>{try{m("slots"),K.success("Datele au fost exportate cu succes!")}catch(B){K.error("Eroare la exportarea datelor"),console.error("Error exporting data:",B)}},xt=()=>{K.info("Funcționalitatea de import va fi implementată în curând")};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl shadow-lg shadow-emerald-500/25",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Sloturi"}),e("p",{className:"text-slate-600",children:"Gestionează sloturile de gaming din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>D(!x),className:"btn-secondary flex items-center space-x-2",children:[e(ka,{className:"w-4 h-4"}),e("span",{children:"Setări Carduri"})]}),t("button",{onClick:st,className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[q&&t(ie,{children:[t("button",{onClick:Pe,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:ve,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:V,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Slot"})]})]})]})]})}),x&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md",children:[t("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Setări Carduri"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Selectează ce carduri să afișezi"})]}),t("div",{className:"p-6 space-y-4",children:[t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Selectează tot"}),t("div",{className:"flex space-x-2",children:[e("button",{onClick:E,className:"text-xs px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Selectează tot"}),e("button",{onClick:T,className:"text-xs px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:"Deselectează tot"})]})]}),e("div",{className:"space-y-3",children:[{key:"totalSlots",label:"Total Sloturi"},{key:"activeSlots",label:"Active"},{key:"inactiveSlots",label:"Inactive"},{key:"maintenanceSlots",label:"Mentenanță"},{key:"ownedSlots",label:"Proprietate"},{key:"rentedSlots",label:"Închiriate"}].map(B=>t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:B.label}),e("input",{type:"checkbox",checked:k[B.key],onChange:()=>u(B.key),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]},B.key))})]}),e("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end",children:e("button",{onClick:()=>D(!1),className:"btn-primary px-6 py-2",children:"Salvează"})})]})}),k.totalSlots&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(tt,{title:"Total Sloturi",value:J,icon:_e,color:"blue",trend:null}),k.activeSlots&&e(tt,{title:"Active",value:H,icon:ht,color:"green",trend:null}),k.inactiveSlots&&e(tt,{title:"Inactive",value:X,icon:rt,color:"red",trend:null}),k.maintenanceSlots&&e(tt,{title:"Mentenanță",value:re,icon:_t,color:"yellow",trend:null})]}),(k.ownedSlots||k.rentedSlots)&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[k.ownedSlots&&e(tt,{title:"Proprietate",value:M,icon:ht,color:"emerald",trend:null}),k.rentedSlots&&e(tt,{title:"Închiriate",value:G,icon:rt,color:"orange",trend:null})]}),e("div",{className:"card p-6",children:t("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[t("div",{className:"relative flex-1 lg:max-w-md",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută după nume, model, furnizor, locație sau numărul de serie...",value:c,onChange:B=>d(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),t("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[t("div",{className:"flex items-center space-x-2",children:[e(ka,{className:"w-4 h-4 text-slate-500"}),e("span",{className:"text-sm font-semibold text-slate-700",children:"Filtre:"})]}),t("select",{value:p,onChange:B=>f(B.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toate Statusurile"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"}),e("option",{value:"Maintenance",children:"Mentenanță"})]}),t("select",{value:S,onChange:B=>v(B.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toți Furnizorii"}),$.map(B=>e("option",{value:B,children:B},B))]}),t("select",{value:N,onChange:B=>y(B.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toate Tipurile"}),e("option",{value:"Owned",children:"Proprietate"}),e("option",{value:"Rented",children:"Închiriate"})]}),t("button",{onClick:xt,className:"btn-secondary flex items-center space-x-2 text-sm",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})]})}),e("div",{className:"card p-6",children:s?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})}):R.length===0?t("div",{className:"text-center py-12",children:[e(_e,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există sloturi"}),e("p",{className:"text-slate-500",children:"Adaugă primul slot pentru a începe"})]}):e(we,{data:R,columns:A,onEdit:W,onDelete:qe,onView:Y,searchTerm:c,selectedItems:L,onSelectAll:be,onSelectItem:Ee})}),z&&e(yi,{item:g,onClose:()=>j(!1),onSave:Ge})]})})},ki=()=>{const{id:a}=ra(),l=Ke(),{slots:r,locations:s,companies:i,providers:o,cabinets:n,gameMixes:m,platforms:h,metrology:c,invoices:d,jackpots:p,loading:f}=te();console.log("🔍 useData Debug:",{loading:f,slots:r==null?void 0:r.length,locations:s==null?void 0:s.length,companies:i==null?void 0:i.length,providers:o==null?void 0:o.length,cabinets:n==null?void 0:n.length,gameMixes:m==null?void 0:m.length,platforms:h==null?void 0:h.length,metrology:c==null?void 0:c.length,invoices:d==null?void 0:d.length,jackpots:p==null?void 0:p.length});const[S,v]=b.useState(!1),[N,y]=b.useState(!0),[z,j]=b.useState([]),g=r==null?void 0:r.find(u=>{const E=u.id==a,T=u.serial_number===a;return console.log(`🔍 Checking slot ${u.id}/${u.serial_number} against ${a}: ${E}/${T}`),E||T});console.log("🔍 SlotDetail Debug:",{id:a,idType:typeof a,slotsCount:r==null?void 0:r.length,slot:g,allSlots:r==null?void 0:r.map(u=>({id:u.id,serial_number:u.serial_number}))}),b.useEffect(()=>{const u=localStorage.getItem("showAttachments");u!==null&&y(JSON.parse(u))},[]),b.useEffect(()=>{(async()=>{if(!(!(g!=null&&g.id)&&!(g!=null&&g.serial_number)))try{const E=await Oe.get("/api/slot-history",{params:{slot_id:g.id,limit:3,offset:0}});j(E.data.data||E.data||[])}catch(E){console.error("Error fetching slot history:",E),j([])}})()},[g==null?void 0:g.id,g==null?void 0:g.serial_number]);const w=u=>{y(u),localStorage.setItem("showAttachments",JSON.stringify(u))};if(f)return e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă detaliile slotului..."})]})})});const L=u=>{const E=s.find(T=>T.id===u||T.name===u);return E?E.name:u},_=u=>{const E=o.find(T=>T.id===u||T.name===u);return E?E.name:u},q=u=>{const E=n.find(T=>T.id===u);return E?E.name||E.model:u},I=u=>{const E=m.find(T=>T.id===u||T.name===u);return E?E.name:u},k=u=>{const E=m.find(T=>T.id===u||T.name===u);return E&&E.platform?E.platform:"N/A"},O=(c==null?void 0:c.filter(u=>u.serial_number===(g==null?void 0:g.serial_number)))||[],x=(d==null?void 0:d.filter(u=>{if(!u.serial_number||!(g!=null&&g.serial_number))return!1;try{return(typeof u.serial_number=="string"?JSON.parse(u.serial_number):Array.isArray(u.serial_number)?u.serial_number:[u.serial_number]).includes(g.serial_number)}catch{return u.serial_number===g.serial_number}}))||[],D=(p==null?void 0:p.filter(u=>u.slot_id===(g==null?void 0:g.id)))||[],C=x.length>0&&x[0].invoice_type==="Vânzare"?"Owned":"Rented";return g?e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-6",children:[e("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 mb-6",children:e("div",{className:"bg-gradient-to-r from-emerald-800 via-green-800 to-teal-800 px-6 py-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("button",{onClick:()=>l("/slots"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e(He,{className:"w-5 h-5 text-white"})}),e("div",{className:"p-2 bg-gradient-to-r from-emerald-500 to-green-500 rounded-xl",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[t("h1",{className:"text-2xl font-bold text-white",children:["Slot ",g.serial_number]}),t("p",{className:"text-emerald-100",children:["Serial: ",g.serial_number]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Setări",children:e(Ye,{className:"w-5 h-5 text-white"})}),e("button",{onClick:()=>l(`/slots/${g.id}/edit`),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Editează",children:e(ze,{className:"w-5 h-5 text-white"})}),e("button",{onClick:()=>{window.confirm("Sigur vrei să ștergi acest slot?")&&(K.success("Slot șters cu succes!"),l("/slots"))},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Șterge",children:e(De,{className:"w-5 h-5 text-white"})})]})]})})}),S&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md",children:[e("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Setări Afișare"})}),e("div",{className:"p-6 space-y-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Afișare automată atașamente"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Afișează automat PDF-urile în pagina de detalii"})]}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:N,onChange:u=>w(u.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),e("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end",children:e("button",{onClick:()=>v(!1),className:"btn-primary",children:"Închide"})})]})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{children:t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(Ye,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Informații Slot"]}),t("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t("div",{className:"space-y-2",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Serial Number"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.serial_number})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Locație"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:L(g.location)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Furnizor"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:_(g.provider)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Cabinet"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:q(g.cabinet)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Platformă"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:k(g.game_mix)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Game Mix"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:I(g.game_mix)})]})]}),t("div",{className:"space-y-2",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Status"}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${g.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:g.status})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Denomination"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.denomination||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"RTP"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.rtp||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Gaming Places"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.gaming_places||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Max Bet"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.max_bet||"N/A"})]})]})]}),e("div",{className:"border-t border-slate-200 dark:border-slate-700 my-4"}),t("div",{className:"grid grid-cols-3 gap-4",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Tip proprietate"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:C})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Data comisionării"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.commissioning_date?new Date(g.commissioning_date).toLocaleDateString("ro-RO"):"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Numărul facturii"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:x.length>0?x[0].invoice_number:"N/A"}),x.length>0&&e("button",{onClick:()=>l(`/invoices/${x[0].id}`),className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 mt-1",children:"Vezi factura →"})]})]})]})}),g.game_mix&&t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(Se,{className:"w-4 h-4 mr-2 text-purple-600"}),"Jocuri din Game Mix"]}),t("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg border border-purple-200 dark:border-purple-700 mb-3",children:[e("h4",{className:"font-semibold text-purple-800 dark:text-purple-300 text-sm",children:g.game_mix}),e("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Game Mix activ"})]}),(()=>{const u=m.find(E=>E.name===g.game_mix);if(u&&u.games){const E=typeof u.games=="string"?JSON.parse(u.games):u.games;return t("div",{children:[e("div",{className:"mb-2 p-2 bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded",children:t("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:[t("strong",{children:[E.length," jocuri"]})," în acest game mix",u.rtp&&t("span",{children:[" • RTP mediu: ",u.rtp,"%"]})]})}),e("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:E.map((T,R)=>t("div",{className:"p-2 bg-white dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600",children:[e("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-xs",children:T}),t("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Joc #",R+1]})]},R))})]})}return e("p",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:"Nu s-au găsit jocuri pentru acest game mix"})})()]}),D.length>0&&t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(_e,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Jackpots (",D.length,")"]}),e("div",{className:"space-y-2",children:D.map((u,E)=>e("div",{className:"p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:u.name}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[u.amount," ",u.currency]}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.triggered_date?`Declanșat: ${new Date(u.triggered_date).toLocaleDateString("ro-RO")}`:"Nu a fost declanșat"})]}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:u.status})]})},E))})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("div",{className:"flex items-center justify-between mb-3",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 flex items-center",children:[e(Ia,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Istoric Modificări"]}),e("button",{onClick:()=>l("/slots/history"),className:"text-xs text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium",children:"Vezi toate →"})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm",children:[e("thead",{children:t("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Data"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Câmp"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Valoare veche"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Valoare nouă"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Utilizator"})]})}),e("tbody",{children:z.length===0?e("tr",{children:e("td",{colSpan:"5",className:"px-4 py-3 text-center text-slate-500 dark:text-slate-400",children:"Nu există modificări înregistrate pentru acest slot."})}):z.map((u,E)=>t("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:new Date(u.created_at).toLocaleDateString("ro-RO")}),e("td",{className:"py-2 px-2",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${u.field_name==="location"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":u.field_name==="status"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":u.field_name==="game_mix"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":u.field_name==="serial_number"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400":u.field_name==="provider"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":u.field_name==="cabinet"?"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:u.field_name})}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:u.old_value||"N/A"}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:u.new_value||"N/A"}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:u.username||"Sistem"})]},u.id||E))})]})}),e("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:t("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Afișate ultimele 3 modificări pentru slot ",g==null?void 0:g.serial_number," •",e("button",{onClick:()=>l("/slots/history"),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 ml-1",children:"Vezi istoricul complet"})]})})]})]}),(O.length>0||x.length>0)&&e("div",{className:"mt-6",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Atașamente (",O.length+x.length,")"]}),N&&e("div",{className:"mb-4",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[O.length>0&&O[0]&&O[0].cvtFile&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[t("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-orange-600"}),"CVT ",O[0].cvt_number]}),e("div",{className:"h-64 border border-slate-200 dark:border-slate-600 rounded overflow-hidden",children:e("iframe",{src:`http://localhost:5001/api/cvt-pdf/${O[0].id}`,className:"w-full h-full",title:`CVT Document ${O[0].cvt_number}`})})]}),x.length>0&&x[0]&&x[0].file_path&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[t("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-blue-600"}),"Factură ",x[0].invoice_number]}),e("div",{className:"h-64 border border-slate-200 dark:border-slate-600 rounded overflow-hidden",children:e("iframe",{src:x[0].file_path,className:"w-full h-full",title:`Factură ${x[0].invoice_number}`})})]})]})}),t("div",{className:"space-y-3",children:[O.length>0&&t("div",{children:[t("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-orange-600"}),"Certificat CVT"]}),e("div",{className:"space-y-2",children:O.map((u,E)=>t("div",{className:"p-2 bg-slate-50 dark:bg-slate-700 rounded-lg flex items-center justify-between",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:u.cvt_number}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["CVT: ",new Date(u.cvt_date).toLocaleDateString("ro-RO")," • Expirare: ",u.expiry_date?new Date(u.expiry_date).toLocaleDateString("ro-RO"):"N/A"]})]}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:u.status})]},E))})]}),x.length>0&&t("div",{children:[t("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-blue-600"}),"Facturi"]}),e("div",{className:"space-y-2",children:x.map((u,E)=>t("div",{className:"p-2 bg-slate-50 dark:bg-slate-700 rounded-lg flex items-center justify-between",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:u.invoice_number}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[u.amount," ",u.currency," • ",u.invoice_type]})]}),e("button",{onClick:()=>l(`/invoices/${u.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Vezi →"})]},E))})]})]})]})})]})})}):e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă..."})]})})})},Ci=()=>{const a=Ke(),{slots:l,users:r,loading:s}=te(),[i,o]=b.useState([]),[n,m]=b.useState(!0),[h,c]=b.useState(null),[d,p]=b.useState({slot_id:"",serial_number:"",field_name:"",user_id:"",username:"",start_date:"",end_date:"",change_type:""}),[f,S]=b.useState({limit:20,offset:0,total:0,currentPage:1,totalPages:1}),[v,N]=b.useState("created_at"),[y,z]=b.useState("DESC"),j=b.useCallback(async()=>{m(!0),c(null);try{const C={...d,limit:f.limit,offset:(f.currentPage-1)*f.limit,sort_by:v,sort_order:y};Object.keys(C).forEach(E=>{(C[E]===""||C[E]===null||C[E]===void 0)&&delete C[E]});const u=await Oe.get("/api/slot-history",{params:C});o(u.data.data||u.data.history||[]),S(E=>{var T,R;return{...E,total:((T=u.data.pagination)==null?void 0:T.total)||u.data.total||0,totalPages:Math.ceil((((R=u.data.pagination)==null?void 0:R.total)||u.data.total||0)/E.limit)}})}catch(C){console.error("Error fetching slot history:",C),c("Eroare la încărcarea istoricului sloturilor."),K.error("Eroare la încărcarea istoricului sloturilor.")}finally{m(!1)}},[d,f.limit,f.currentPage,v,y]);b.useEffect(()=>{j()},[j]);const g=C=>{const{name:u,value:E}=C.target;p(T=>({...T,[u]:E})),S(T=>({...T,currentPage:1,offset:0}))},w=C=>{const u=C.getFullYear(),E=String(C.getMonth()+1).padStart(2,"0"),T=String(C.getDate()).padStart(2,"0");return`${u}-${E}-${T}`},L=()=>{if(!d.start_date||!d.end_date)return"all";const C=new Date,u=new Date(C.getFullYear(),C.getMonth(),C.getDate()),E=w(u);if(d.start_date===E&&d.end_date===E)return"today";const T=u.getDay(),R=T===0?-6:1-T,$=new Date(u);$.setDate(u.getDate()+R);const J=new Date($);if(J.setDate($.getDate()+6),d.start_date===w($)&&d.end_date===w(J))return"thisWeek";const H=w(new Date(C.getFullYear(),C.getMonth(),1)),X=w(new Date(C.getFullYear(),C.getMonth()+1,0));if(d.start_date===H&&d.end_date===X)return"thisMonth";const re=w(new Date(C.getFullYear(),0,1)),M=w(new Date(C.getFullYear(),11,31));if(d.start_date===re&&d.end_date===M)return"thisYear";const G=w(new Date(C.getFullYear()-1,0,1)),A=w(new Date(C.getFullYear()-1,11,31));return d.start_date===G&&d.end_date===A?"lastYear":"custom"},_=C=>{const u=new Date,E=new Date(u.getFullYear(),u.getMonth(),u.getDate());let T="",R="";switch(C){case"today":T=w(E),R=w(E);break;case"thisWeek":const $=new Date(E),J=E.getDay(),H=J===0?-6:1-J;$.setDate(E.getDate()+H),T=w($);const X=new Date($);X.setDate($.getDate()+6),R=w(X);break;case"thisMonth":T=w(new Date(u.getFullYear(),u.getMonth(),1));const re=new Date(u.getFullYear(),u.getMonth()+1,0);R=w(re);break;case"thisYear":T=w(new Date(u.getFullYear(),0,1));const M=new Date(u.getFullYear(),11,31);R=w(M);break;case"lastYear":T=w(new Date(u.getFullYear()-1,0,1));const G=new Date(u.getFullYear()-1,11,31);R=w(G);break;case"all":T="",R="";break}p($=>({...$,start_date:T,end_date:R})),S($=>({...$,currentPage:1,offset:0}))},q=C=>{v===C?z(u=>u==="ASC"?"DESC":"ASC"):(N(C),z("ASC"))},I=C=>{C>0&&C<=f.totalPages&&S(u=>({...u,currentPage:C,offset:(C-1)*u.limit}))},k=(C,u=null)=>{if(u)return u;const E=l==null?void 0:l.find(T=>T.id===C);return E?E.serial_number:"N/A"},O=C=>{const u=r==null?void 0:r.find(E=>E.id===C);return u?u.username:"Sistem"},x=C=>{switch(C.toLowerCase()){case"location":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"status":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"game_mix":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"serial_number":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400";case"provider":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"cabinet":return"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},D=C=>C==null?"N/A":typeof C=="boolean"?C?"Da":"Nu":typeof C=="object"?JSON.stringify(C):String(C);return s||n?e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă istoricul modificărilor..."})]})})}):h?e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("p",{className:"text-red-600 dark:text-red-400 text-lg",children:h}),e("button",{onClick:()=>j(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Reîncearcă"})]})})}):e(oe,{children:t("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 bg-white dark:bg-slate-900 rounded-xl shadow-lg min-h-screen",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center",children:[e(Ia,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Istoric Modificări Sloturi"]}),t("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md shadow-sm text-sm font-medium text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(He,{className:"w-4 h-4 mr-2"}),"Înapoi"]})]}),t("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow-inner mb-6",children:[t("div",{className:"mb-4",children:[e("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtre rapide:"}),t("div",{className:"flex flex-wrap gap-2",children:[e("button",{onClick:()=>_("today"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="today"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Azi"}),e("button",{onClick:()=>_("thisWeek"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="thisWeek"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Săptămâna curentă"}),e("button",{onClick:()=>_("thisMonth"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="thisMonth"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Luna curentă"}),e("button",{onClick:()=>_("thisYear"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="thisYear"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Anul curent"}),e("button",{onClick:()=>_("lastYear"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="lastYear"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Anul precedent"}),e("button",{onClick:()=>_("all"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${L()==="all"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Toate"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t("div",{children:[e("label",{htmlFor:"serial_number",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Număr Serie Slot"}),e("input",{type:"text",name:"serial_number",id:"serial_number",value:d.serial_number,onChange:g,placeholder:"Caută după număr serie",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"field_name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Câmp Modificat"}),e("input",{type:"text",name:"field_name",id:"field_name",value:d.field_name,onChange:g,placeholder:"Ex: location, status",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utilizator"}),e("input",{type:"text",name:"username",id:"username",value:d.username,onChange:g,placeholder:"Nume utilizator",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"change_type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tip Modificare"}),t("select",{name:"change_type",id:"change_type",value:d.change_type,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200",children:[e("option",{value:"",children:"Toate"}),e("option",{value:"CREATE",children:"Creare"}),e("option",{value:"UPDATE",children:"Actualizare"}),e("option",{value:"DELETE",children:"Ștergere"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{htmlFor:"start_date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Data Început"}),e("input",{type:"date",name:"start_date",id:"start_date",value:d.start_date,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"end_date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Data Sfârșit"}),e("input",{type:"date",name:"end_date",id:"end_date",value:d.end_date,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(Xe,{className:"w-6 h-6 text-indigo-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Modificări"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:f.total})]})]}),t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(Et,{className:"w-6 h-6 text-green-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Sloturi Modificate"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:new Set(i.map(C=>C.slot_id)).size})]})]}),t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(vt,{className:"w-6 h-6 text-blue-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Utilizatori Unici"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:new Set(i.map(C=>C.user_id)).size})]})]})]}),e("div",{className:"overflow-x-auto bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:t("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e("thead",{className:"bg-slate-50 dark:bg-slate-700",children:t("tr",{children:[t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>q("created_at"),children:["Data",v==="created_at"&&e("span",{className:"ml-1",children:y==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>q("serial_number"),children:["Slot",v==="serial_number"&&e("span",{className:"ml-1",children:y==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>q("field_name"),children:["Câmp",v==="field_name"&&e("span",{className:"ml-1",children:y==="ASC"?"▲":"▼"})]}),e("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Valoare Veche"}),e("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Valoare Nouă"}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>q("username"),children:["Utilizator",v==="username"&&e("span",{className:"ml-1",children:y==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>q("change_type"),children:["Tip",v==="change_type"&&e("span",{className:"ml-1",children:y==="ASC"?"▲":"▼"})]})]})}),e("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:i.length===0?e("tr",{children:e("td",{colSpan:"7",className:"px-4 py-4 text-center text-slate-500 dark:text-slate-400",children:"Nu s-au găsit modificări."})}):i.map(C=>t("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(C.created_at).toLocaleString("ro-RO")}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-indigo-600 dark:text-indigo-400",children:e("button",{onClick:()=>a(`/slots/${C.slot_id}`),className:"hover:underline",children:C.slot_serial||k(C.slot_id,C.serial_number)})}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x(C.field_name)}`,children:C.field_name})}),e("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs truncate",children:D(C.old_value)}),e("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs truncate",children:D(C.new_value)}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:C.username||O(C.user_id)}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${C.change_type==="CREATE"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":C.change_type==="DELETE"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:C.change_type})})]},C.id))})]})}),f.totalPages>1&&t("nav",{className:"flex items-center justify-between px-4 py-3 sm:px-6 mt-4 bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700","aria-label":"Pagination",children:[t("div",{className:"flex-1 flex justify-between sm:justify-end",children:[e("button",{onClick:()=>I(f.currentPage-1),disabled:f.currentPage===1,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),e("button",{onClick:()=>I(f.currentPage+1),disabled:f.currentPage===f.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Următor"})]}),t("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e("div",{children:t("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Afișez"," ",e("span",{className:"font-medium",children:(f.currentPage-1)*f.limit+1})," ","până la"," ",e("span",{className:"font-medium",children:Math.min(f.currentPage*f.limit,f.total)})," ","din"," ",e("span",{className:"font-medium",children:f.total})," ","rezultate"]})}),e("div",{children:e("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:Array.from({length:f.totalPages},(C,u)=>u+1).map(C=>e("button",{onClick:()=>I(C),"aria-current":C===f.currentPage?"page":void 0,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${C===f.currentPage?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-600 dark:text-indigo-400":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:C},C))})})]})]}),e("div",{className:"mt-6 text-right",children:t("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e(ne,{className:"w-4 h-4 mr-2"}),"Exportă CSV"]})})]})})},Si=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",category:"",quantity:"",location:"",status:"Available",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",category:a.category||"",quantity:a.quantity||"",location:a.location||"",status:a.status||"Available",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-orange-800 to-amber-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/20 to-amber-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-amber-500 rounded-2xl shadow-lg",children:e(Ha,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Produs":"Adaugă Produs în Depozit"}),e("p",{className:"text-orange-100 text-sm font-medium",children:"Completează informațiile despre produs"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Produs *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Nume produs",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Categorie *"}),e("input",{type:"text",name:"category",value:s.category,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Categoria produsului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cantitate *"}),e("input",{type:"number",name:"quantity",value:s.quantity,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Cantitatea",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locație *"}),e("input",{type:"text",name:"location",value:s.location,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Locația în depozit",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",required:!0,children:[e("option",{value:"Available",children:"Disponibil"}),e("option",{value:"Out of Stock",children:"Stoc epuizat"}),e("option",{value:"Reserved",children:"Rezervat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Ha,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Produs"]})]})]})]})})]})})},_i=()=>{const{warehouse:a,slots:l,loading:r,createItem:s,updateItem:i,deleteItem:o,exportData:n}=te(),[m,h]=b.useState(""),[c,d]=b.useState([]),[p,f]=b.useState(!1);b.useEffect(()=>{f(c.length>0)},[c]);const S=u=>{d(u?L.map(E=>E.id):[])},v=(u,E)=>{d(E?[...c,u]:c.filter(T=>T!==u))},N=async()=>{if(c.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${c.length} elemente?`))try{for(const u of c)await o("warehouse",u);d([]),f(!1)}catch(u){console.error("Error bulk deleting:",u)}},y=()=>{c.length!==0&&console.log("Bulk edit for:",c)},[z,j]=b.useState(!1),[g,w]=b.useState(null),L=a.filter(u=>{var E,T,R,$,J;return((E=u.serial_number)==null?void 0:E.toLowerCase().includes(m.toLowerCase()))||((T=u.provider)==null?void 0:T.toLowerCase().includes(m.toLowerCase()))||((R=u.location)==null?void 0:R.toLowerCase().includes(m.toLowerCase()))||(($=u.cabinet)==null?void 0:$.toLowerCase().includes(m.toLowerCase()))||((J=u.game_mix)==null?void 0:J.toLowerCase().includes(m.toLowerCase()))}),_=a.length,q=a.filter(u=>u.status==="Inactive").length,I=[{key:"serial_number",label:"SERIAL NUMBER",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-semibold text-base",children:u.serial_number||"N/A"})},{key:"provider",label:"FURNIZOR",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.provider||"N/A"})},{key:"location",label:"LOCAȚIE",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.location||"N/A"})},{key:"cabinet",label:"CABINET",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.cabinet||"N/A"})},{key:"game_mix",label:"GAME MIX",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.game_mix||"N/A"})},{key:"status",label:"STATUS",sortable:!0,render:u=>{var $;const E=async()=>{var re;const J=((re=u.status)==null?void 0:re.toLowerCase())||"",X=J==="activ"||J==="active"?"Inactive":"Active";try{X==="Active"?(await s("slots",{name:"Slot Machine",serial_number:u.serial_number,provider:u.provider,location:"Locație principală",game:"",cabinet:u.cabinet,game_mix:u.game_mix,denomination:.01,max_bet:null,rtp:null,gaming_places:1,property_type:"Owned",commission_date:null,invoice_number:null,status:"Active",notes:"Mutat automat din depozit când a devenit activ"}),await o("warehouse",u.id),K.success("Slot mutat înapoi în sloturi")):(await i("warehouse",u.id,{...u,status:X}),K.success(`Status schimbat în ${X}`))}catch(M){K.error("Eroare la actualizare status"),console.error("Error updating warehouse slot status:",M)}},T=(($=u.status)==null?void 0:$.toLowerCase())||"",R=T==="activ"||T==="active";return t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:E,className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${R?"bg-green-500":"bg-gray-300"}`,children:e("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${R?"translate-x-9":"translate-x-1"}`})}),e("span",{className:`text-xs font-bold ${R?"text-green-600":"text-gray-600"}`,children:R?"ON":"OFF"})]})}},{key:"created_by",label:"CREAT DE",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:u=>e("div",{className:"text-slate-800 font-medium text-base",children:u.created_at?new Date(u.created_at).toLocaleDateString("ro-RO"):"N/A"})}],k=u=>{w(u),j(!0)},O=async u=>{if(window.confirm("Sigur vrei să ștergi acest slot din depozit?"))try{await o("warehouse",u),K.success("Slot șters din depozit cu succes!")}catch(E){K.error("Eroare la ștergerea slotului"),console.error("Error deleting slot from warehouse:",E)}},x=()=>{w(null),j(!0)},D=async u=>{try{g?(await i("warehouse",g.id,u),K.success("Slot actualizat cu succes!")):(await s("warehouse",u),K.success("Slot adăugat în depozit cu succes!")),j(!1),w(null)}catch(E){K.error("Eroare la salvarea slotului"),console.error("Error saving slot to warehouse:",E)}};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-slate-500 to-gray-500 rounded-2xl shadow-lg shadow-slate-500/25",children:e(Zt,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Depozit Sloturi"}),e("p",{className:"text-slate-600",children:"Sloturile inactive din depozit"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{n("warehouse")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),p&&t(ie,{children:[t("button",{onClick:y,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:N,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:x,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Slot"})]})]})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(tt,{title:"Total Sloturi",value:_,icon:_e,color:"blue",trend:null}),e(tt,{title:"Inactive",value:q,icon:rt,color:"red",trend:null})]}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută după numărul de serie, furnizor, locație, cabinet sau game mix...",value:m,onChange:u=>h(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:r?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-500"})}):L.length===0?t("div",{className:"text-center py-12",children:[e(Zt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există sloturi în depozit"}),e("p",{className:"text-slate-500",children:"Sloturile inactive vor apărea aici automat"})]}):e(we,{data:L,columns:I,onEdit:k,onDelete:O,searchTerm:m,selectedItems:c,onSelectAll:S,onSelectItem:v})}),z&&e(Si,{item:g,onClose:()=>j(!1),onSave:D})]})})},Ai=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState([]),[o,n]=b.useState([]),[m,h]=b.useState([]),[c,d]=b.useState([]),[p,f]=b.useState([]),[S,v]=b.useState([]),[N,y]=b.useState({cvt_number:"",serial_number:"",cvt_type:"Periodică",cvt_date:"",expiry_date:"",issuing_authority:"",provider:"",cabinet:"",game_mix:"",approval_type:"",software:"",cvtFile:null,cvtPreview:null,notes:""});b.useEffect(()=>{if((async()=>{try{const[O,x,D,C,u,E]=await Promise.all([fetch("/api/authorities"),fetch("/api/providers"),fetch("/api/cabinets"),fetch("/api/gameMixes"),fetch("/api/approvals"),fetch("/api/software")]),[T,R,$,J,H,X]=await Promise.all([O.json(),x.json(),D.json(),C.json(),u.json(),E.json()]);i(Array.isArray(T)?T:[]),n(Array.isArray(R)?R:[]),h(Array.isArray($)?$:[]),d(Array.isArray(J)?J:[]),f(Array.isArray(H)?H:[]),v(Array.isArray(X)?X:[])}catch(O){console.error("Error loading data:",O)}})(),a){const O=x=>{if(!x)return"";const D=new Date(x);return isNaN(D.getTime())?"":D.toISOString().split("T")[0]};y({cvt_number:a.cvt_number||"",serial_number:a.serial_number||"",cvt_type:a.cvt_type||"Periodică",cvt_date:O(a.cvt_date),expiry_date:O(a.expiry_date),issuing_authority:a.issuing_authority||"",provider:a.provider||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",approval_type:a.approval_type||"",software:a.software||"",cvtFile:a.cvtFile||null,cvtPreview:a.cvtFile||null,notes:a.notes||""})}},[a]);const z=()=>N.provider?m.filter(k=>k.provider===N.provider||k.provider_name===N.provider):m,j=()=>N.provider?c.filter(k=>k.provider===N.provider||k.provider_name===N.provider):c,g=()=>{if(!N.cabinet)return p;const k=m.find(O=>O.name===N.cabinet||O.model===N.cabinet);return k?p.filter(O=>O.cabinet===N.cabinet||O.model===k.model):p},w=()=>{if(!N.game_mix)return S;const k=c.find(O=>O.name===N.game_mix);return k?S.filter(O=>O.game_mix===N.game_mix||O.provider===k.provider):S},L=k=>{const{name:O,value:x}=k.target;y(D=>{const C={...D,[O]:x};if(O==="provider"?(C.cabinet="",C.game_mix="",C.approval_type="",C.software=""):O==="cabinet"?(C.approval_type="",C.software=""):O==="game_mix"&&(C.software=""),(O==="cvt_type"||O==="cvt_date")&&(C.cvt_type==="Periodică"||C.cvt_type==="Inițială")&&C.cvt_date){const u=new Date(C.cvt_date),E=new Date(u);E.setFullYear(E.getFullYear()+1),E.setDate(E.getDate()-1),C.expiry_date=E.toISOString().split("T")[0]}return C})},_=k=>{const O=k.target.files[0];if(O){const x=new FileReader;x.onload=D=>{y(C=>({...C,cvtFile:D.target.result,cvtPreview:D.target.result}))},x.readAsDataURL(O)}},q=()=>{window.confirm("Sigur doriți să ștergeți documentul CVT?")&&y(k=>({...k,cvtFile:null,cvtPreview:null}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-cyan-800 to-teal-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600/20 to-teal-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl shadow-lg",children:e(Be,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Certificat":"Adaugă Certificat Nou"}),e("p",{className:"text-cyan-100 text-sm font-medium",children:"Completează informațiile despre certificatul de metrologie"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:k=>{k.preventDefault(),r(N)},className:"p-6 space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații CVT"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr CVT *"}),e("input",{type:"text",name:"cvt_number",value:N.cvt_number,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Numărul CVT",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr de Serie *"}),e("input",{type:"text",name:"serial_number",value:N.serial_number,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Serial number slot",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Numărul de serie care leagă CVT-ul cu slot-ul din aplicație"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip CVT *"}),t("select",{name:"cvt_type",value:N.cvt_type,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0,children:[e("option",{value:"Periodică",children:"Periodică"}),e("option",{value:"Inițială",children:"Inițială"}),e("option",{value:"Reparație",children:"Reparație"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data CVT *"}),e("input",{type:"date",name:"cvt_date",value:N.cvt_date,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data expirării *"}),e("input",{type:"date",name:"expiry_date",value:N.expiry_date,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0,disabled:N.cvt_type==="Periodică"||N.cvt_type==="Inițială"}),N.cvt_type==="Periodică"||N.cvt_type==="Inițială"?e("p",{className:"text-xs text-slate-500",children:"Calculat automat: 1 an - 1 zi"}):e("p",{className:"text-xs text-slate-500",children:"Completează manual pentru Reparație"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Autoritatea emitentă"}),t("select",{name:"issuing_authority",value:N.issuing_authority,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează autoritatea emitentă"}),s.map(k=>e("option",{value:k.name,children:k.name},k.id))]})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Dispozitiv"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor"}),t("select",{name:"provider",value:N.provider,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează furnizorul"}),o.map(k=>e("option",{value:k.name,children:k.name},k.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet"}),t("select",{name:"cabinet",value:N.cabinet,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.provider,children:[e("option",{value:"",children:N.provider?"Selectează cabinetul":"Selectează mai întâi furnizorul"}),z().map(k=>e("option",{value:k.name,children:k.name},k.id))]}),!N.provider&&e("p",{className:"text-xs text-slate-500",children:"Cabinetul depinde de furnizorul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix"}),t("select",{name:"game_mix",value:N.game_mix,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.provider,children:[e("option",{value:"",children:N.provider?"Selectează game mix-ul":"Selectează mai întâi furnizorul"}),j().map(k=>e("option",{value:k.name,children:k.name},k.id))]}),!N.provider&&e("p",{className:"text-xs text-slate-500",children:"Game mix-ul depinde de furnizorul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Aprobare de Tip"}),t("select",{name:"approval_type",value:N.approval_type,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.cabinet,children:[e("option",{value:"",children:N.cabinet?"Selectează aprobarea de tip":"Selectează mai întâi cabinetul"}),g().map(k=>e("option",{value:k.name,children:k.name},k.id))]}),!N.cabinet&&e("p",{className:"text-xs text-slate-500",children:"Aprobarea de tip depinde de cabinetul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Software"}),t("select",{name:"software",value:N.software,onChange:L,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.game_mix,children:[e("option",{value:"",children:N.game_mix?"Selectează software-ul":"Selectează mai întâi game mix-ul"}),w().map(k=>e("option",{value:k.name,children:k.name},k.id))]}),!N.game_mix&&e("p",{className:"text-xs text-slate-500",children:"Software-ul depinde de game mix-ul selectat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Document CVT (PDF)"}),e("input",{type:"file",name:"cvtFile",accept:".pdf",onChange:_,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"}),N.cvtPreview&&t("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e(et,{className:"w-5 h-5 text-cyan-600"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:typeof N.cvtPreview=="string"&&N.cvtPreview.includes("data:")?"Document CVT încărcat":"Document CVT existent"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF Document"})]})]}),e("button",{type:"button",onClick:q,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge documentul",children:e(se,{className:"w-4 h-4"})})]}),e(bt,{pdfUrl:N.cvtPreview,title:`CVT Document ${N.cvt_number}`,placeholder:"Documentul CVT nu este disponibil",placeholderSubtext:"Atașează documentul CVT pentru vizualizare"})]}),e("p",{className:"text-xs text-slate-500",children:"Încărcați documentul CVT în format PDF"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:N.notes,onChange:L,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Be,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Certificat"]})]})]})]})})]})})},Ei=({item:a,onClose:l})=>{if(!a)return null;const s=(()=>{if(!a.expiry_date)return null;const n=new Date,h=new Date(a.expiry_date)-n;return Math.ceil(h/(1e3*60*60*24))})(),i=()=>s===null?"text-slate-400":s<0?"text-red-600":s<=30?"text-orange-600":"text-green-600",o=()=>s===null?"N/A":s<0?`Expirat (${Math.abs(s)} zile)`:`${s} zile rămase`;return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-500 px-6 py-4 flex justify-between items-center",children:[t("h3",{className:"text-xl font-bold text-white flex items-center",children:[e(ee,{className:"w-6 h-6 mr-2"}),"Detalii Certificat CVT - ",a.cvt_number]}),e("button",{onClick:l,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e(se,{className:"w-6 h-6"})})]}),e("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-6",children:[t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații CVT"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Număr CVT"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cvt_number})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Tip CVT"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cvt_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Autoritatea Emitentă"}),e("p",{className:"text-base font-medium text-slate-900",children:a.issuing_authority||"N/A"})]})]})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Dispozitiv"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Furnizor"}),e("p",{className:"text-base font-medium text-slate-900",children:a.provider||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Cabinet"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cabinet||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Game Mix"}),e("p",{className:"text-base font-medium text-slate-900",children:a.game_mix||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Aprobare de Tip"}),e("p",{className:"text-base font-medium text-slate-900",children:a.approval_type||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Software"}),e("p",{className:"text-base font-medium text-slate-900",children:a.software||"N/A"})]})]})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Date & Status"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data CVT"}),t("p",{className:"text-base font-medium text-slate-900 flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-cyan-500"}),a.cvt_date?new Date(a.cvt_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A"]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data Expirării"}),t("p",{className:"text-base font-medium text-slate-900 flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-orange-500"}),a.expiry_date?new Date(a.expiry_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A"]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),t("p",{className:`text-base font-bold flex items-center ${i()}`,children:[s!==null&&s>=0?e(ht,{className:"w-4 h-4 mr-2"}):e(rt,{className:"w-4 h-4 mr-2"}),o()]})]})]})]}),a.notes&&t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Note"}),e("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:a.notes})]})]}),t("div",{className:"space-y-4",children:[t("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2 mb-4",children:"Document CVT"}),e(bt,{pdfUrl:a.cvtFile?`http://localhost:5001/api/cvt-pdf/${a.id}`:null,title:"CVT Document",placeholder:"Nu există document CVT",placeholderSubtext:"Atașează documentul CVT pentru vizualizare"})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-3",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Adiționale"}),t("div",{className:"space-y-2",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Creat de"}),e("p",{className:"text-base font-medium text-slate-900",children:a.created_by||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data creării"}),e("p",{className:"text-base font-medium text-slate-900",children:a.created_at?new Date(a.created_at).toLocaleDateString("ro-RO"):"N/A"})]})]})]})]})]})})]})})},Di=({item:a,onClose:l,onSave:r})=>{const{providers:s,cabinets:i}=te(),[o,n]=b.useState({name:"",provider:"",cabinet:"",notes:""});b.useEffect(()=>{a&&n({name:a.name||"",provider:a.provider||"",cabinet:a.cabinet||"",notes:a.notes||""})},[a]);const m=c=>{const{name:d,value:p}=c.target;n(f=>({...f,[d]:p}))};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Aprobare de Tip":"Adaugă Aprobare de Tip"}),e("p",{className:"text-green-100",children:a?"Modifică datele aprobării":"Adaugă o aprobare de tip nouă"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(se,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:c=>{c.preventDefault(),r(o)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:o.name,onChange:m,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Introdu numele aprobării",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:o.provider,onChange:m,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),s.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet *"}),t("select",{name:"cabinet",value:o.cabinet,onChange:m,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(c=>!o.provider||c.provider===o.provider).map(c=>e("option",{value:c.name,children:c.name},c.id))]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:o.notes,onChange:m,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg hover:shadow-green-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},Ti=({item:a,onClose:l,onSave:r})=>{te();const[s,i]=b.useState({name:"",serial_numbers:"",commission_date:"",expiry_date:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",serial_numbers:a.serial_numbers||"",commission_date:a.commission_date||"",expiry_date:a.expiry_date||"",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;if(i(d=>({...d,[h]:c})),h==="commission_date"&&c){const d=new Date(c),p=new Date(d);p.setFullYear(p.getFullYear()+1),p.setDate(p.getDate()-1),i(f=>({...f,expiry_date:p.toISOString().split("T")[0]}))}};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(Ye,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Comisie":"Adaugă Comisie"}),e("p",{className:"text-blue-100",children:a?"Modifică datele comisiei":"Adaugă o comisie nouă"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(se,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introdu numele comisiei",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Comisiei *"}),e("input",{type:"date",name:"commission_date",value:s.commission_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Valabilității *"}),e("input",{type:"date",name:"expiry_date",value:s.expiry_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numerele de Serie *"}),e("textarea",{name:"serial_numbers",value:s.serial_numbers,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introdu numerele de serie separate prin rânduri nouă",required:!0}),e("p",{className:"text-sm text-slate-500",children:"Separă numerele de serie prin rânduri nouă"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all shadow-lg hover:shadow-blue-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},zi=({item:a,onClose:l,onSave:r})=>{const{providers:s,cabinets:i,gameMixes:o}=te(),[n,m]=b.useState({name:"",provider:"",cabinet:"",game_mix:"",version:"",notes:""});b.useEffect(()=>{a&&m({name:a.name||"",provider:a.provider||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",version:a.version||"",notes:a.notes||""})},[a]);const h=d=>{const{name:p,value:f}=d.target;m(S=>{const v={...S,[p]:f};return p==="provider"?(v.cabinet="",v.game_mix=""):p==="cabinet"&&(v.game_mix=""),v})};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(_t,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Software":"Adaugă Software"}),e("p",{className:"text-purple-100",children:a?"Modifică datele software-ului":"Adaugă un software nou"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(se,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:d=>{d.preventDefault(),r(n)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:n.name,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Introdu numele software-ului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Versiunea"}),e("input",{type:"text",name:"version",value:n.version,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"ex: v1.0.0"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:n.provider,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),s.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet *"}),t("select",{name:"cabinet",value:n.cabinet,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(d=>!n.provider||d.provider===n.provider).map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix *"}),t("select",{name:"game_mix",value:n.game_mix,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează game mix-ul"}),o.filter(d=>!(n.provider&&d.provider!==n.provider)).map(d=>e("option",{value:d.name,children:d.name},d.id))]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:n.notes,onChange:h,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-lg hover:from-purple-600 hover:to-violet-600 transition-all shadow-lg hover:shadow-purple-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},Ii=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",address:"",price_initiala:"",price_reparatie:"",price_periodica:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",address:a.address||"",price_initiala:a.price_initiala||"",price_reparatie:a.price_reparatie||"",price_periodica:a.price_periodica||"",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[t("div",{className:"relative bg-gradient-to-r from-orange-500 to-red-500 p-8 text-white",children:[t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Autoritatea Emitentă":"Adaugă Autoritate Emitentă"}),e("p",{className:"text-orange-100 text-sm font-medium",children:"Completează informațiile despre autoritatea emitentă"})]})]}),e("button",{onClick:l,className:"absolute top-4 right-4 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații de bază"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Numele autorității",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Adresa"}),e("input",{type:"text",name:"address",value:s.address,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Adresa autorității"})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Prețuri (opțional)"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Inițială (LEI)"}),e("input",{type:"number",name:"price_initiala",value:s.price_initiala,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Reparație (LEI)"}),e("input",{type:"number",name:"price_reparatie",value:s.price_reparatie,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Periodică (LEI)"}),e("input",{type:"number",name:"price_periodica",value:s.price_periodica,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t("button",{type:"button",onClick:l,className:"btn-secondary",children:[e(se,{className:"w-4 h-4"}),"Anulează"]}),t("button",{type:"submit",className:"btn-primary",children:[e(ot,{className:"w-4 h-4"}),a?"Actualizează":"Adaugă"," Autoritate"]})]})]})})]})})},Li=({isOpen:a,onClose:l})=>{const[r,s]=b.useState([]),[i,o]=b.useState(!1),[n,m]=b.useState(null),[h,c]=b.useState(new Date().getMonth()),[d,p]=b.useState(new Date().getFullYear()),f=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],S=[{id:1,title:"Comisia de Autorizare - Sloturi Electronice",date:"2025-10-15",time:"09:00",location:"București, Bd. Magheru 28-30",type:"Autorizare",status:"Programată",description:"Examinarea cererilor de autorizare pentru sloturi electronice"},{id:2,title:"Comisia de Metrologie - Verificare CVT",date:"2025-10-22",time:"10:30",location:"București, Bd. Magheru 28-30",type:"Metrologie",status:"Programată",description:"Verificarea certificatelor de verificare tehnică"},{id:3,title:"Comisia de Control - Inspecții Teren",date:"2025-11-05",time:"08:00",location:"Cluj-Napoca, Str. Memorandumului 28",type:"Control",status:"Programată",description:"Inspecții de control la operatorii de jocuri de noroc"},{id:4,title:"Comisia de Autorizare - Licențe",date:"2025-11-12",time:"14:00",location:"București, Bd. Magheru 28-30",type:"Autorizare",status:"Programată",description:"Examinarea cererilor de licențiere pentru operatori"}];b.useEffect(()=>{a&&v()},[a,h,d]);const v=async()=>{o(!0),m(null);try{await new Promise(w=>setTimeout(w,1e3));const g=S.filter(w=>{const L=new Date(w.date);return L.getMonth()===h&&L.getFullYear()===d});s(g)}catch(g){m("Eroare la încărcarea calendarului ONJN"),console.error("Error loading ONJN calendar:",g)}finally{o(!1)}},N=g=>{switch(g){case"Programată":return"bg-blue-100 text-blue-800";case"În desfășurare":return"bg-yellow-100 text-yellow-800";case"Finalizată":return"bg-green-100 text-green-800";case"Anulată":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=g=>{switch(g){case"Autorizare":return"bg-purple-100 text-purple-800";case"Metrologie":return"bg-indigo-100 text-indigo-800";case"Control":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},z=g=>new Date(g).toLocaleDateString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric"}),j=g=>g;return a?e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[e("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-xl",children:e(Le,{className:"w-6 h-6"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold",children:"Calendar ONJN"}),e("p",{className:"text-blue-100",children:"Comisiile organizate de Oficiul Național pentru Jocuri de Noroc"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(se,{className:"w-6 h-6"})})]})}),e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex items-center space-x-2",children:[e("label",{className:"text-sm font-medium text-gray-700",children:"Luna:"}),e("select",{value:h,onChange:g=>c(parseInt(g.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map((g,w)=>e("option",{value:w,children:g},w))})]}),t("div",{className:"flex items-center space-x-2",children:[e("label",{className:"text-sm font-medium text-gray-700",children:"Anul:"}),e("select",{value:d,onChange:g=>p(parseInt(g.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(g=>e("option",{value:g,children:g},g))})]})]}),t("button",{onClick:v,disabled:i,className:"btn-secondary flex items-center space-x-2",children:[e(at,{className:`w-4 h-4 ${i?"animate-spin":""}`}),e("span",{children:"Actualizează"})]})]})}),e("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?e("div",{className:"flex items-center justify-center py-12",children:t("div",{className:"text-center",children:[e(rt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Eroare la încărcare"}),e("p",{className:"text-gray-500 mb-4",children:n}),e("button",{onClick:v,className:"btn-primary",children:"Încearcă din nou"})]})}):r.length===0?t("div",{className:"text-center py-12",children:[e(Le,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nu există comisii programate"}),t("p",{className:"text-gray-500",children:["Pentru luna ",f[h]," ",d]})]}):e("div",{className:"space-y-4",children:r.map(g=>e("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center space-x-3 mb-3",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:g.title}),e("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(g.type)}`,children:g.type}),e("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N(g.status)}`,children:g.status})]}),e("p",{className:"text-gray-600 mb-4",children:g.description}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(Le,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:z(g.date)})]}),t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(Xe,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:j(g.time)})]}),t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(je,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:g.location})]})]})]}),e("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"ml-4 p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Vezi pe site-ul ONJN",children:e(ya,{className:"w-5 h-5"})})]})},g.id))})}),e("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-sm text-gray-500",children:"Datele sunt preluate de pe site-ul oficial ONJN"}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"btn-secondary flex items-center space-x-2",children:[e(ya,{className:"w-4 h-4"}),e("span",{children:"Site ONJN"})]}),e("button",{onClick:l,className:"btn-primary",children:"Închide"})]})]})})]})}):null},ji=()=>{const{metrology:a,providers:l,cabinets:r,gameMixes:s,loading:i,createItem:o,updateItem:n,deleteItem:m,exportData:h}=te(),[c,d]=b.useState(""),[p,f]=b.useState([]),[S,v]=b.useState(!1),[N,y]=b.useState(null),[z,j]=b.useState(!1),[g,w]=b.useState(null),[L,_]=b.useState(!1),[q,I]=b.useState(null),[k,O]=b.useState([]),[x,D]=b.useState([]),[C,u]=b.useState([]),[E,T]=b.useState([]),[R,$]=b.useState(!1),[J,H]=b.useState(!1),[X,re]=b.useState(!1),[M,G]=b.useState(!1),[A,V]=b.useState(null),[W,Y]=b.useState(null),[be,Ee]=b.useState(null),[ve,Pe]=b.useState(null),[qe,Ge]=b.useState(!1);b.useEffect(()=>{v(p.length>0)},[p]),b.useEffect(()=>{N&&(async()=>{try{if(N==="approvals"){const de=await(await fetch("/api/approvals")).json();O(de)}else if(N==="commissions"){const de=await(await fetch("/api/commissions")).json();D(de)}else if(N==="software"){const de=await(await fetch("/api/software")).json();u(de)}else if(N==="authorities"){const de=await(await fetch("/api/authorities")).json();T(de)}}catch(Q){console.error("Error loading sub-page data:",Q)}})()},[N]);const st=a.filter(U=>{var de,pe,P;return((de=U.serial_number)==null?void 0:de.toLowerCase().includes(c.toLowerCase()))||((pe=U.provider)==null?void 0:pe.toLowerCase().includes(c.toLowerCase()))||((P=U.cabinet)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))}),xt=U=>{f(U?st.map(Q=>Q.id):[])},B=(U,Q)=>{f(Q?[...p,U]:p.filter(de=>de!==U))},le=async()=>{if(p.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${p.length} elemente?`))try{for(const U of p)await m("metrology",U);f([]),v(!1)}catch(U){console.error("Error bulk deleting:",U)}},he=()=>{p.length!==0&&console.log("Bulk edit for:",p)},ce=()=>{w(null),j(!0)},Ne=U=>{w(U),j(!0)},Ie=async U=>{window.confirm("Sigur vrei să ștergi acest element?")&&await m("metrology",U.id)},nt=async U=>{g?await n("metrology",g.id,U):await o("metrology",U),j(!1),w(null)},Fe=async U=>{try{const Q=A?`/api/approvals/${A.id}`:"/api/approvals";if((await fetch(Q,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok){$(!1),V(null);const ae=await(await fetch("/api/approvals")).json();O(ae)}}catch(Q){console.error("Error saving approval:",Q)}},Ve=async U=>{try{const Q=W?`/api/commissions/${W.id}`:"/api/commissions";if((await fetch(Q,{method:W?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok){H(!1),Y(null);const ae=await(await fetch("/api/commissions")).json();D(ae)}}catch(Q){console.error("Error saving commission:",Q)}},Qe=async U=>{try{const Q=be?`/api/software/${be.id}`:"/api/software";if((await fetch(Q,{method:be?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok){re(!1),Ee(null);const ae=await(await fetch("/api/software")).json();u(ae)}}catch(Q){console.error("Error saving software:",Q)}},jt=async U=>{if(window.confirm("Sigur vrei să ștergi această aprobare?"))try{if((await fetch(`/api/approvals/${U.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/approvals")).json();O(pe)}}catch(Q){console.error("Error deleting approval:",Q)}},Pt=async U=>{if(window.confirm("Sigur vrei să ștergi această comisie?"))try{if((await fetch(`/api/commissions/${U.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/commissions")).json();D(pe)}}catch(Q){console.error("Error deleting commission:",Q)}},Ft=async U=>{if(window.confirm("Sigur vrei să ștergi acest software?"))try{if((await fetch(`/api/software/${U.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/software")).json();u(pe)}}catch(Q){console.error("Error deleting software:",Q)}},Rt=async U=>{try{if((await fetch("/api/authorities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok){const pe=await(await fetch("/api/authorities")).json();T(pe),G(!1)}}catch(Q){console.error("Error saving authority:",Q)}},Ot=async U=>{if(window.confirm("Sigur vrei să ștergi această autoritate?"))try{if((await fetch(`/api/authorities/${U.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/authorities")).json();T(pe)}}catch(Q){console.error("Error deleting authority:",Q)}},Mt=[{key:"cvt_number",label:"NUMĂR CVT",sortable:!0,render:U=>e("button",{onClick:()=>{I(U),_(!0)},className:"text-cyan-600 hover:text-cyan-800 font-semibold hover:underline transition-colors",children:U.cvt_number})},{key:"cvt_type",label:"TIP CVT",sortable:!0},{key:"approval_type",label:"APROBARE DE TIP",sortable:!0},{key:"software",label:"SOFTWARE",sortable:!0},{key:"cvt_dates_combined",label:"DATE CVT & EXPIRARE",sortable:!0,render:U=>{const Q=U.cvt_date?new Date(U.cvt_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A",de=U.expiry_date?new Date(U.expiry_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A";let pe="N/A",P="text-green-600 bg-green-50";if(U.expiry_date){const ae=new Date,Gt=new Date(U.expiry_date)-ae,kt=Math.ceil(Gt/(1e3*60*60*24));kt<0?(P="text-red-600 bg-red-50",pe=`Expirat (${Math.abs(kt)} zile)`):kt<=30?(P="text-orange-600 bg-orange-50",pe=`${kt} zile`):(P="text-green-600 bg-green-50",pe=`${kt} zile`)}return t("div",{className:"space-y-2",children:[t("div",{className:"text-slate-600 text-sm space-y-1",children:[t("div",{children:["CVT: ",Q]}),t("div",{children:["Expirare: ",de]})]}),pe!=="N/A"&&e("div",{className:`text-sm ${P.split(" ")[0]}`,children:pe})]})}},{key:"issuing_authority",label:"AUTORITATEA EMITENTĂ",sortable:!0},{key:"cvtFile",label:"DOCUMENT CVT",sortable:!1,render:U=>e("div",{className:"flex items-center space-x-2",children:U.cvtFile?t(ie,{children:[e("button",{onClick:()=>window.open(`http://localhost:5001/api/cvt-pdf/${U.id}`,"_blank"),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Vizualizează documentul CVT",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>window.open(`http://localhost:5001/api/cvt-pdf/${U.id}`,"_blank"),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Descarcă documentul CVT",children:e(ne,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 text-sm italic",children:"Nu există document"})})},{key:"created_by",label:"CREAT DE",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:U=>e("div",{className:"text-slate-600 text-sm",children:new Date(U.created_at).toLocaleDateString("ro-RO")})}],$t=[{key:"name",label:"NUMELE",sortable:!0},{key:"provider",label:"FURNIZOR",sortable:!0},{key:"cabinet",label:"CABINET",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:U=>e("div",{className:"text-slate-600 text-sm",children:new Date(U.created_at).toLocaleDateString("ro-RO")})}],Bt=[{key:"name",label:"NUMELE",sortable:!0},{key:"serial_numbers",label:"NUMERELE DE SERIE",sortable:!1,render:U=>e("div",{className:"text-slate-800 font-medium text-sm",children:U.serial_numbers||"N/A"})},{key:"commission_date",label:"DATA COMISIEI",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.commission_date?new Date(U.commission_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"expiry_date",label:"DATA VALABILITĂȚII",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.expiry_date?new Date(U.expiry_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:U=>e("div",{className:"text-slate-600 text-sm",children:new Date(U.created_at).toLocaleDateString("ro-RO")})}],Ut=[{key:"name",label:"NUMELE",sortable:!0},{key:"provider",label:"FURNIZOR",sortable:!0},{key:"cabinet",label:"CABINET",sortable:!0},{key:"game_mix",label:"GAME MIX",sortable:!0},{key:"version",label:"VERSIUNEA",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:U=>e("div",{className:"text-slate-600 text-sm",children:new Date(U.created_at).toLocaleDateString("ro-RO")})}],qt=[{key:"name",label:"NUMELE",sortable:!0},{key:"address",label:"ADRESA",sortable:!0},{key:"price_initiala",label:"PREȚ INIȚIALĂ (LEI)",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.price_initiala?`${U.price_initiala} LEI`:"-"})},{key:"price_reparatie",label:"PREȚ REPARAȚIE (LEI)",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.price_reparatie?`${U.price_reparatie} LEI`:"-"})},{key:"price_periodica",label:"PREȚ PERIODICĂ (LEI)",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.price_periodica?`${U.price_periodica} LEI`:"-"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:U=>e("div",{className:"text-slate-800 font-medium text-base",children:U.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:U=>e("div",{className:"text-slate-600 text-sm",children:new Date(U.created_at).toLocaleDateString("ro-RO")})}];return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl shadow-lg shadow-cyan-500/25",children:e(Be,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Metrologie CVT"}),e("p",{className:"text-slate-600",children:"Gestionează aprobările, comisiile și software-ul pentru sloturi"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{h("metrology")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),S&&t(ie,{children:[t("button",{onClick:he,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:le,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:ce,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-lg",children:[t("button",{onClick:()=>y("approvals"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="approvals"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-slate-600 hover:text-green-600 hover:bg-green-50"}`,children:[e(et,{className:"w-4 h-4"}),e("span",{children:"Aprobări de Tip"})]}),t("button",{onClick:()=>y("commissions"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="commissions"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/25":"text-slate-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[e(Ye,{className:"w-4 h-4"}),e("span",{children:"Comisii"})]}),t("button",{onClick:()=>y("software"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="software"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25":"text-slate-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[e(_t,{className:"w-4 h-4"}),e("span",{children:"Software"})]}),t("button",{onClick:()=>y("authorities"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="authorities"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/25":"text-slate-600 hover:text-orange-600 hover:bg-orange-50"}`,children:[e(et,{className:"w-4 h-4"}),e("span",{children:"Autoritatea Emitentă"})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută în metrologie...",value:c,onChange:U=>d(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),!N||N==="metrology"?e("div",{className:"card p-6",children:i?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):st.length===0?t("div",{className:"text-center py-12",children:[e(Be,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există înregistrări de metrologie"}),e("p",{className:"text-slate-500",children:"Adaugă prima înregistrare pentru a începe"})]}):e(we,{data:st,columns:Mt,onEdit:Ne,onDelete:Ie,searchTerm:c,selectedItems:p,onSelectAll:xt,onSelectItem:B})}):null,N==="approvals"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>y(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg shadow-green-500/25",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Aprobări de Tip"}),e("p",{className:"text-slate-600",children:"Gestionează aprobările de tip pentru sloturi"})]})]}),t("button",{onClick:()=>{V(null),$(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Aprobare"})]})]}),k.length===0?t("div",{className:"text-center py-12",children:[e(et,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există aprobări de tip"}),e("p",{className:"text-slate-500",children:"Adaugă prima aprobare pentru a începe"})]}):e(we,{data:k,columns:$t,onEdit:U=>{V(U),$(!0)},onDelete:jt})]})}),N==="commissions"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>y(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(Ye,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Comisii"}),e("p",{className:"text-slate-600",children:"Gestionează comisiile pentru sloturi"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>Ge(!0),className:"btn-secondary flex items-center space-x-2",children:[e(Le,{className:"w-4 h-4"}),e("span",{children:"Calendar ONJN"})]}),t("button",{onClick:()=>{Y(null),H(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Comisie"})]})]})]}),x.length===0?t("div",{className:"text-center py-12",children:[e(Ye,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există comisii"}),e("p",{className:"text-slate-500",children:"Adaugă prima comisie pentru a începe"})]}):e(we,{data:x,columns:Bt,onEdit:U=>{Y(U),H(!0)},onDelete:Pt})]})}),N==="software"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>y(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e(_t,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Software"}),e("p",{className:"text-slate-600",children:"Gestionează software-ul pentru sloturi"})]})]}),t("button",{onClick:()=>{Ee(null),re(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Software"})]})]}),C.length===0?t("div",{className:"text-center py-12",children:[e(_t,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există software"}),e("p",{className:"text-slate-500",children:"Adaugă primul software pentru a începe"})]}):e(we,{data:C,columns:Ut,onEdit:U=>{Ee(U),re(!0)},onDelete:Ft})]})}),N==="authorities"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>y(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl shadow-lg shadow-orange-500/25",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Autoritatea Emitentă"}),e("p",{className:"text-slate-600",children:"Gestionează autoritățile emitente pentru CVT"})]})]}),t("button",{onClick:()=>{Pe(null),G(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Autoritate"})]})]}),E.length===0?t("div",{className:"text-center py-12",children:[e(et,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există autorități"}),e("p",{className:"text-slate-500",children:"Adaugă prima autoritate pentru a începe"})]}):e(we,{data:E,columns:qt,onEdit:U=>{Pe(U),G(!0)},onDelete:Ot})]})}),z&&e(Ai,{item:g,onClose:()=>j(!1),onSave:nt}),L&&e(Ei,{item:q,onClose:()=>{_(!1),I(null)}}),R&&e(Di,{item:A,onClose:()=>$(!1),onSave:Fe}),J&&e(Ti,{item:W,onClose:()=>H(!1),onSave:Ve}),X&&e(zi,{item:be,onClose:()=>re(!1),onSave:Qe}),M&&e(Ii,{item:ve,onClose:()=>G(!1),onSave:Rt}),qe&&e(Li,{isOpen:qe,onClose:()=>Ge(!1)})]})})},Pi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({serial_number:"",jackpot_name:"",jackpot_type:"Progressive",current_amount:0,max_amount:"",progress_percentage:0,status:"Active",winner:"",triggered_date:"",notes:""});b.useEffect(()=>{a&&i({serial_number:a.serial_number||"",jackpot_name:a.jackpot_name||"",jackpot_type:a.jackpot_type||"Progressive",current_amount:a.current_amount||0,max_amount:a.max_amount||"",progress_percentage:a.progress_percentage||0,status:a.status||"Active",winner:a.winner||"",triggered_date:a.triggered_date||"",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-yellow-800 to-amber-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/20 to-amber-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl shadow-lg",children:e(ut,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Jackpot":"Adaugă Jackpot Nou"}),e("p",{className:"text-yellow-100 text-sm font-medium",children:"Completează informațiile despre jackpot"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații de bază"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numărul de serie *"}),e("input",{type:"text",name:"serial_number",value:s.serial_number,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Serial number slot",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Jackpot *"}),e("input",{type:"text",name:"jackpot_name",value:s.jackpot_name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"ex: Mega Jackpot",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip Jackpot"}),t("select",{name:"jackpot_type",value:s.jackpot_type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[e("option",{value:"Progressive",children:"Progresiv"}),e("option",{value:"Fixed",children:"Fix"}),e("option",{value:"Mystery",children:"Mystery"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Triggered",children:"Declanșat"}),e("option",{value:"Reset",children:"Resetat"}),e("option",{value:"Maintenance",children:"Mentenanță"})]})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații financiare"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma curentă"}),e("input",{type:"number",step:"0.01",name:"current_amount",value:s.current_amount,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"0.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma maximă"}),e("input",{type:"number",step:"0.01",name:"max_amount",value:s.max_amount,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"1000000.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Progres (%)"}),e("input",{type:"number",step:"0.01",name:"progress_percentage",value:s.progress_percentage,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"0.00"})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații câștigător"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Câștigător"}),e("input",{type:"text",name:"winner",value:s.winner,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Numele câștigătorului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data declanșării"}),e("input",{type:"datetime-local",name:"triggered_date",value:s.triggered_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Note adiționale despre jackpot..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ut,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Jackpot"]})]})]})]})})]})})},Fi=()=>{const{jackpots:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,m]=b.useState(""),[h,c]=b.useState([]),[d,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{c(x?w.map(D=>D.id):[])},S=(x,D)=>{c(D?[...h,x]:h.filter(C=>C!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("jackpots",x);c([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[y,z]=b.useState(!1),[j,g]=b.useState(null),w=a.filter(x=>{var D,C,u;return((D=x.name)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))||((C=x.game)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((u=x.location)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))}),L=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME JACKPOT",sortable:!0},{key:"game",label:"JOC",sortable:!0},{key:"amount",label:"SUMA",sortable:!0},{key:"location",label:"LOCAȚIE",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],_=x=>{g(x),z(!0)},q=async x=>{window.confirm("Sigur vrei să ștergi acest jackpot?")&&await i("jackpots",x)},I=()=>{g(null),z(!0)},k=async x=>{j?await s("jackpots",j.id,x):await r("jackpots",x),z(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl shadow-lg shadow-yellow-500/25",children:e(ut,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Jackpots"}),e("p",{className:"text-slate-600",children:"Gestionează jackpot-urile din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("jackpots")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),d&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Jackpot"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută jackpot-uri...",value:n,onChange:x=>m(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):w.length===0?t("div",{className:"text-center py-12",children:[e(ut,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există jackpot-uri"}),e("p",{className:"text-slate-500",children:"Adaugă primul jackpot pentru a începe"})]}):e(we,{data:w,columns:L,onEdit:_,onDelete:q,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:S})}),y&&e(Pi,{item:j,onClose:()=>z(!1),onSave:k})]})})},Ri=({item:a,onClose:l,onSave:r})=>{const{companies:s,locations:i,providers:o}=te(),[n,m]=b.useState({invoice_number:"",serial_numbers:"",buyer:"",seller:"",type:"Sale",amount:"",currency:"RON",rates:"",locations:[],pdf_file:null});b.useEffect(()=>{a&&m({invoice_number:a.invoice_number||"",serial_numbers:a.serial_number?typeof a.serial_number=="string"?JSON.parse(a.serial_number).join(`
`):a.serial_number.join(`
`):"",buyer:a.company||"",seller:a.seller||"",type:a.invoice_type||"Sale",amount:a.amount||"",currency:a.currency||"RON",rates:a.rates||"",locations:a.location?typeof a.location=="string"?JSON.parse(a.location):a.location:[],pdf_file:a.pdf_file||null})},[a]);const h=d=>{const{name:p,value:f,type:S,checked:v,files:N}=d.target;S==="checkbox"?p==="location"&&m(y=>({...y,locations:v?[...y.locations,f]:y.locations.filter(z=>z!==f)})):m(S==="file"?y=>({...y,[p]:N[0]||null}):y=>({...y,[p]:f}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-indigo-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(bl,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Factură":"Adaugă Factură Nouă"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre factură"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:d=>{d.preventDefault();const p=new FormData;Object.keys(n).forEach(f=>{f==="locations"?p.append(f,JSON.stringify(n[f])):f==="pdf_file"?n[f]&&p.append(f,n[f]):p.append(f,n[f])}),r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr Factură *"}),e("input",{type:"text",name:"invoice_number",value:n.invoice_number,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: INV-2024-001",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Serii"}),e("textarea",{name:"serial_numbers",value:n.serial_numbers,onChange:h,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduceți seriile, câte una pe rând"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cumpărător *"}),t("select",{name:"buyer",value:n.buyer,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează compania"}),s==null?void 0:s.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Vânzător *"}),t("select",{name:"seller",value:n.seller,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),o==null?void 0:o.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:n.type,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"Sale",children:"Vânzare"}),e("option",{value:"Rental",children:"Chirie"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma *"}),e("input",{type:"number",name:"amount",value:n.amount,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Valută"}),t("select",{name:"currency",value:n.currency,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"RON",children:"RON"}),e("option",{value:"EUR",children:"EUR"}),e("option",{value:"USD",children:"USD"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Rate (opțional)"}),e("input",{type:"text",name:"rates",value:n.rates,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: 3 rate de 1000 RON"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"PDF Factură *"}),e("input",{type:"file",name:"pdf_file",onChange:h,accept:".pdf",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),n.pdf_file&&t("p",{className:"text-sm text-green-600",children:["Fișier selectat: ",n.pdf_file.name]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locații"}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i==null?void 0:i.map(d=>t("label",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",name:"location",value:d.name,checked:n.locations.includes(d.name),onChange:h,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e("span",{className:"text-sm text-slate-700",children:d.name})]},d.id))}),n.locations.length===i.length&&e("p",{className:"text-sm text-blue-600 font-medium",children:"Toate locațiile"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Factură"]})]})]})]})})]})})},Oi=()=>{const a=Ke(),{invoices:l,loading:r,createItem:s,updateItem:i,deleteItem:o,exportData:n}=te(),[m,h]=b.useState(""),[c,d]=b.useState([]),[p,f]=b.useState(!1);b.useEffect(()=>{f(c.length>0)},[c]);const S=D=>{d(D?L.map(C=>C.id):[])},v=(D,C)=>{d(C?[...c,D]:c.filter(u=>u!==D))},N=async()=>{if(c.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${c.length} elemente?`))try{for(const D of c)await o("invoices",D);d([]),f(!1)}catch(D){console.error("Error bulk deleting:",D)}},y=()=>{c.length!==0&&console.log("Bulk edit for:",c)},[z,j]=b.useState(!1),[g,w]=b.useState(null),L=l.filter(D=>{var C,u,E;return((C=D.invoice_number)==null?void 0:C.toLowerCase().includes(m.toLowerCase()))||((u=D.company)==null?void 0:u.toLowerCase().includes(m.toLowerCase()))||((E=D.status)==null?void 0:E.toLowerCase().includes(m.toLowerCase()))}),_=[{key:"id",label:"#",sortable:!0},{key:"invoice_number",label:"NUMĂR FACTURĂ",sortable:!0,render:D=>e("button",{onClick:()=>a(`/invoices/${D.id}`),className:"text-blue-600 hover:text-blue-800 font-medium underline",children:D.invoice_number})},{key:"company",label:"COMPANIE",sortable:!0},{key:"amount",label:"SUMA",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:D=>e("div",{className:"text-slate-800 font-medium text-base",children:D.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:D=>e("div",{className:"text-slate-800 font-medium text-base",children:D.created_at?new Date(D.created_at).toLocaleDateString("ro-RO"):"N/A"})}],q=D=>{w(D),j(!0)},I=async D=>{window.confirm("Sigur vrei să ștergi această factură?")&&await o("invoices",D)},k=()=>{w(null),j(!0)},O=async D=>{g?await i("invoices",g.id,D):await s("invoices",D),j(!1),w(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg shadow-red-500/25",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Facturi"}),e("p",{className:"text-slate-600",children:"Gestionează facturile din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{n("invoices")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),p&&t(ie,{children:[t("button",{onClick:y,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:N,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:k,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Factură"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută facturi...",value:m,onChange:D=>h(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:r?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):L.length===0?t("div",{className:"text-center py-12",children:[e(ee,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există facturi"}),e("p",{className:"text-slate-500",children:"Adaugă prima factură pentru a începe"})]}):e(we,{data:L,columns:_,onEdit:q,onDelete:I,searchTerm:m,selectedItems:c,onSelectAll:S,onSelectItem:v})}),z&&e(Ri,{item:g,onClose:()=>j(!1),onSave:O})]})})},Mi=()=>{const{id:a}=ra(),l=Ke(),{slots:r,companies:s,locations:i,providers:o,cabinets:n,gameMixes:m}=te(),[h,c]=b.useState(null),[d,p]=b.useState(!0);b.useEffect(()=>{f()},[a]);const f=async()=>{try{const z=await fetch(`/api/invoices/${a}`);if(z.ok){const j=await z.json();c(j)}}catch(z){console.error("Error fetching invoice:",z)}finally{p(!1)}},S=z=>r.find(j=>j.serial_number===z)||null,v=()=>{if(h!=null&&h.file_path){const z=document.createElement("a");z.href=h.file_path,z.download=`factura_${h.invoice_number}.pdf`,z.target="_blank",z.click()}};if(d)return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"mt-4 text-slate-600",children:"Se încarcă..."})]})});if(!h)return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Factura nu a fost găsită"}),e("button",{onClick:()=>l("/invoices"),className:"btn-primary",children:"Înapoi la Facturi"})]})});const N=h.serial_number?typeof h.serial_number=="string"?JSON.parse(h.serial_number):h.serial_number:[],y=h.location?typeof h.location=="string"?(()=>{try{const z=JSON.parse(h.location);return typeof z=="string"?JSON.parse(z):z}catch{return[]}})():h.location:[];return e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-8",children:[e("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 mb-8 overflow-hidden",children:e("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>l("/invoices"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e(He,{className:"w-6 h-6 text-white"})}),e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(ee,{className:"w-8 h-8 text-white"})}),t("div",{children:[t("h1",{className:"text-3xl font-bold text-white mb-1",children:["Factura ",h.invoice_number]}),e("p",{className:"text-blue-100",children:"Detalii complete despre factură"})]})]}),t("button",{onClick:v,className:"btn-primary flex items-center space-x-2",children:[e(ne,{className:"w-5 h-5"}),e("span",{children:"Descarcă PDF"})]})]})})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-1",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informații Factură"]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Număr Factură"}),e("p",{className:"text-slate-800 font-medium",children:h.invoice_number})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Cumpărător"}),e("p",{className:"text-slate-800",children:h.company})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Vânzător"}),e("p",{className:"text-slate-800 dark:text-slate-200",children:h.invoice_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Tip"}),e("p",{className:"text-slate-800 dark:text-slate-200",children:h.invoice_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Suma"}),t("p",{className:"text-slate-800 font-bold text-lg",children:[h.amount," ",h.currency]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),e("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${h.status==="Paid"?"bg-green-100 text-green-800":h.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:h.status})]}),h.description&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Descriere"}),e("p",{className:"text-slate-800",children:h.description})]})]})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(je,{className:"w-5 h-5 mr-2 text-green-600"}),"Locații"]}),e("div",{className:"space-y-2",children:Array.isArray(y)&&y.length>0?y.map((z,j)=>t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{className:"text-slate-700",children:z})]},j)):e("p",{className:"text-slate-500",children:"Toate locațiile"})})]})]}),t("div",{className:"lg:col-span-2",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-red-600"}),"PDF Factură"]}),e(bt,{pdfUrl:h.file_path,title:`PDF ${h.invoice_number}`,placeholder:"PDF-ul facturii nu este disponibil",placeholderSubtext:"Atașează PDF-ul facturii pentru vizualizare"})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(_e,{className:"w-5 h-5 mr-2 text-purple-600"}),"Serii Asociate (",N.length,")"]}),N.length>0?e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{className:"bg-slate-50 border-b border-slate-200",children:t("tr",{children:[e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Serial Number"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Locație"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Furnizor"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Cabinet"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Game Mix"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Status"})]})}),e("tbody",{className:"divide-y divide-slate-200",children:N.map((z,j)=>{const g=S(z);return t("tr",{className:"hover:bg-slate-50",children:[e("td",{className:"px-4 py-3 text-sm font-medium text-slate-900",children:z}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.location:"Necunoscută"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.provider:"Necunoscut"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.cabinet:"Necunoscut"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.game_mix:"Necunoscut"}),e("td",{className:"px-4 py-3",children:g?e("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.status==="Active"?"bg-green-100 text-green-800":g.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:g.status}):e("span",{className:"text-slate-400",children:"N/A"})})]},j)})})]})}):t("div",{className:"text-center py-8 text-slate-500",children:[e(_e,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),e("p",{children:"Nu există serii asociate cu această factură"})]})]})]})]})]})})})},$i=()=>{var z,j,g;const{id:a}=ra(),l=Ke(),{companies:r,loading:s,updateItem:i,refreshData:o}=te(),[n,m]=b.useState(null),[h,c]=b.useState(!1),[d,p]=b.useState(!1),[f,S]=b.useState({name:"",type:"Contract",file:null});b.useEffect(()=>{const w=r.find(L=>L.id===parseInt(a));w&&m(w)},[a,r]),b.useEffect(()=>{const w=r.find(L=>L.id===parseInt(a));w&&m(w)},[r,a]);const v=async w=>{if(w.preventDefault(),!(!f.file||!f.name)){p(!0);try{const L=new FormData;L.append("file",f.file),L.append("name",f.name),L.append("type",f.type),L.append("company_id",n.id);const _=await fetch("/api/companies/upload-document",{method:"POST",body:L});if(_.ok){const q=await _.json();m(q),c(!1),S({name:"",type:"Contract",file:null}),setTimeout(()=>{o()},500)}}catch(L){console.error("Error uploading document:",L)}finally{p(!1)}}},N=w=>{const L=w.createElement("a");L.href=w.file_path,L.download=w.name,L.target="_blank",L.click()},y=async w=>{if(window.confirm("Sigur vrei să ștergi acest document?"))try{const L=await fetch(`/api/companies/documents/${w}`,{method:"DELETE"});if(L.ok){const _=await L.json();m(_),setTimeout(()=>{o()},500)}}catch(L){console.error("Error deleting document:",L)}};return s?e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-300",children:"Se încarcă..."})]})}):n?t(oe,{children:[e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-8",children:[t("div",{className:"mb-8",children:[t("button",{onClick:()=>l("/companies"),className:"btn-secondary flex items-center space-x-2 mb-4",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Companii"})]}),e("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(fe,{className:"w-8 h-8 text-white"})}),t("div",{children:[e("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:n.name}),e("p",{className:"text-slate-600 dark:text-slate-300 text-lg",children:"Detalii complete despre companie"})]})]}),t("button",{onClick:()=>c(!0),className:"btn-primary flex items-center space-x-2",children:[e(ue,{className:"w-5 h-5"}),e("span",{children:"Atașează Document"})]})]})})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-1",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informații Companie"]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Nume Companie"}),e("p",{className:"text-slate-800 dark:text-slate-200 font-medium",children:n.name})]}),n.cui&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"CUI"}),e("p",{className:"text-slate-800 dark:text-slate-200 font-medium",children:n.cui}),n.cuiFile&&t("div",{className:"mt-2 flex items-center space-x-2",children:[t("button",{onClick:()=>window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"),className:"inline-flex items-center px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors text-sm font-medium",title:"Previzualizează CUI",children:[e(ke,{className:"w-4 h-4 mr-1"}),"Vezi Document"]}),t("button",{onClick:()=>window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"),className:"inline-flex items-center px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",title:"Descarcă CUI",children:[e(ne,{className:"w-4 h-4 mr-1"}),"Descarcă"]})]})]}),n.contact_person&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Persoană de Contact"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(vt,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.contact_person]})]}),n.phone&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Telefon"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(La,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.phone]})]}),n.email&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Email"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(ja,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.email]})]}),n.address&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Adresă"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(je,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.address]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Data Creării"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),new Date(n.created_at).toLocaleDateString("ro-RO")]})]}),n.status&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Status"}),e("span",{className:`px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm ${n.status==="Active"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800"}`,children:n.status})]})]})]}),n.notes&&t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-amber-600"}),"Note"]}),e("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:n.notes})]})]}),e("div",{className:"lg:col-span-2",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-red-600"}),"Documente Atașate"]}),n.documents&&n.documents.length>0||n.cuiFile?t("div",{className:"space-y-6",children:[(n.cuiFile||n.documents&&n.documents.length>0)&&t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Vizualizare Document"]}),e("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4 mb-4",children:e(bt,{pdfUrl:n.cui_file?`http://localhost:5001/api/pdf/${n.id}`:n.documents&&((z=n.documents[0])!=null&&z.file_path)?n.documents[0].file_path:null,title:n.cui_file?`CUI Document ${n.name}`:n.documents&&n.documents[0]?`PDF ${n.documents[0].name}`:"Document PDF",placeholder:"Nu există documente de afișat",placeholderSubtext:"Atașează primul document sau CUI pentru a începe"})}),t("div",{className:"flex items-center justify-between",children:[e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.cuiFile?`Document: CUI ${n.name}`:`Document: ${(j=n.documents[0])==null?void 0:j.name} (${(g=n.documents[0])==null?void 0:g.type})`}),t("button",{onClick:()=>{n.cuiFile?window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"):N(n.documents[0])},className:"btn-primary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Descarcă PDF"})]})]})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-green-600"}),"Toate Documentele (",n.cuiFile?1:0," + ",n.documents?n.documents.length:0,")"]}),t("div",{className:"space-y-4",children:[n.cuiFile&&e("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e(ee,{className:"w-5 h-5 text-blue-600"})}),t("div",{children:[t("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:["CUI ",n.name]}),t("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Document CUI • ",new Date(n.created_at).toLocaleDateString("ro-RO")]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>{const w=document.querySelector("iframe");w&&(w.src=n.cuiFile)},className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"Vezi în viewer",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>{const w=document.createElement("a");w.href=n.cuiFile,w.download=`CUI_${n.name||"company"}.pdf`,w.click()},className:"p-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",title:"Descarcă",children:e(ne,{className:"w-4 h-4"})})]})]})}),n.documents&&n.documents.map((w,L)=>e("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e(ee,{className:"w-5 h-5 text-red-600"})}),t("div",{children:[e("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:w.name}),t("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[w.type," • ",new Date(w.uploaded_at).toLocaleDateString("ro-RO")]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>{const _=document.querySelector("iframe");_&&(_.src=w.file_path)},className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"Vezi în viewer",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>N(w),className:"p-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",title:"Descarcă",children:e(ne,{className:"w-4 h-4"})}),e("button",{onClick:()=>y(w.id),className:"p-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-lg transition-colors",title:"Șterge",children:e(De,{className:"w-4 h-4"})})]})]})},L))]})]})]}):t("div",{className:"text-center py-12 text-slate-500",children:[e(ee,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),e("p",{className:"text-lg font-medium mb-2",children:"Nu există documente atașate"}),e("p",{className:"text-sm",children:"Atașează primul document sau CUI pentru a începe"})]})]})})]})]})}),h&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md mx-4",children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Atașează Document"}),t("form",{onSubmit:v,className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nume Document"}),e("input",{type:"text",value:f.name,onChange:w=>S({...f,name:w.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ex: Contract de Colaborare",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Fișier PDF"}),e("input",{type:"file",accept:".pdf",onChange:w=>S({...f,file:w.target.files[0]}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t("div",{className:"flex space-x-3 pt-4",children:[e("button",{type:"button",onClick:()=>c(!1),className:"flex-1 btn-secondary",disabled:d,children:"Anulează"}),e("button",{type:"submit",className:"flex-1 btn-primary flex items-center justify-center space-x-2",disabled:d,children:d?t(ie,{children:[e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("span",{children:"Se încarcă..."})]}):t(ie,{children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Atașează"})]})})]})]})]})})]}):e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e(fe,{className:"w-16 h-16 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),e("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Compania nu a fost găsită"}),e("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Compania pe care o căutați nu există în sistem."}),t("button",{onClick:()=>l("/companies"),className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Companii"})]})]})})})},Bi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"",period:"",status:"Draft",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"",period:a.period||"",status:a.status||"Draft",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-indigo-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Raport ONJN":"Adaugă Raport ONJN Nou"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre raportul ONJN"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Raport *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Numele raportului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează tipul"}),e("option",{value:"Monthly",children:"Lunar"}),e("option",{value:"Quarterly",children:"Trimestrial"}),e("option",{value:"Annual",children:"Anual"}),e("option",{value:"Special",children:"Special"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Perioada *"}),e("input",{type:"text",name:"period",value:s.period,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"ex: Ianuarie 2025",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"Draft",children:"Draft"}),e("option",{value:"Submitted",children:"Trimis"}),e("option",{value:"Approved",children:"Aprobat"}),e("option",{value:"Rejected",children:"Respins"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 text-slate-600 hover:text-slate-800 font-semibold transition-colors",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Adaugă"})]})]})]})})]})})},Ui=()=>{const{onjnReports:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,m]=b.useState(""),[h,c]=b.useState([]),[d,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{c(x?w.map(D=>D.id):[])},S=(x,D)=>{c(D?[...h,x]:h.filter(C=>C!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("onjnReports",x);c([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[y,z]=b.useState(!1),[j,g]=b.useState(null),w=a.filter(x=>{var D,C,u;return((D=x.name)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))||((C=x.type)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((u=x.status)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))}),L=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME RAPORT",sortable:!0},{key:"type",label:"TIP",sortable:!0},{key:"period",label:"PERIOADA",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],_=x=>{g(x),z(!0)},q=async x=>{window.confirm("Sigur vrei să ștergi acest raport ONJN?")&&await i("onjnReports",x)},I=()=>{g(null),z(!0)},k=async x=>{j?await s("onjnReports",j.id,x):await r("onjnReports",x),z(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(At,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Rapoarte ONJN"}),e("p",{className:"text-slate-600",children:"Generează și gestionează rapoartele ONJN"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("onjnReports")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),d&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Raport"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută rapoarte...",value:n,onChange:x=>m(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):w.length===0?t("div",{className:"text-center py-12",children:[e(At,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există rapoarte ONJN"}),e("p",{className:"text-slate-500",children:"Adaugă primul raport pentru a începe"})]}):e(we,{data:w,columns:L,onEdit:_,onDelete:q,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:S})}),y&&e(Bi,{item:j,onClose:()=>z(!1),onSave:k})]})})},qi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"",status:"Valid",expiry_date:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"",status:a.status||"Valid",expiry_date:a.expiry_date||"",notes:a.notes||""})},[a]);const o=m=>{const{name:h,value:c}=m.target;i(d=>({...d,[h]:c}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-red-800 to-rose-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 to-rose-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-lg",children:e(Wa,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Document Legal":"Adaugă Document Legal Nou"}),e("p",{className:"text-red-100 text-sm font-medium",children:"Completează informațiile despre documentul legal"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Document *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Numele documentului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează tipul"}),e("option",{value:"License",children:"Licență"}),e("option",{value:"Permit",children:"Autorizație"}),e("option",{value:"Contract",children:"Contract"}),e("option",{value:"Certificate",children:"Certificat"}),e("option",{value:"Other",children:"Altele"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Expirării"}),e("input",{type:"date",name:"expiry_date",value:s.expiry_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[e("option",{value:"Valid",children:"Valid"}),e("option",{value:"Expired",children:"Expirat"}),e("option",{value:"Expiring Soon",children:"Expiră în curând"}),e("option",{value:"Invalid",children:"Invalid"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Wa,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Document"]})]})]})]})})]})})},Gi=()=>{const{legalDocuments:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,m]=b.useState(""),[h,c]=b.useState([]),[d,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{c(x?w.map(D=>D.id):[])},S=(x,D)=>{c(D?[...h,x]:h.filter(C=>C!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("legalDocuments",x);c([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[y,z]=b.useState(!1),[j,g]=b.useState(null),w=a.filter(x=>{var D,C,u;return((D=x.name)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))||((C=x.type)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((u=x.status)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))}),L=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME DOCUMENT",sortable:!0},{key:"type",label:"TIP",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"expiry_date",label:"DATA EXPIRARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.expiry_date?new Date(x.expiry_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],_=x=>{g(x),z(!0)},q=async x=>{window.confirm("Sigur vrei să ștergi acest document legal?")&&await i("legalDocuments",x)},I=()=>{g(null),z(!0)},k=async x=>{j?await s("legalDocuments",j.id,x):await r("legalDocuments",x),z(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-gray-500 to-slate-500 rounded-2xl shadow-lg shadow-gray-500/25",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Documente Legale"}),e("p",{className:"text-slate-600",children:"Gestionează documentele legale din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("legalDocuments")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),d&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Document"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută documente...",value:n,onChange:x=>m(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-500"})}):w.length===0?t("div",{className:"text-center py-12",children:[e(ee,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există documente legale"}),e("p",{className:"text-slate-500",children:"Adaugă primul document pentru a începe"})]}):e(we,{data:w,columns:L,onEdit:_,onDelete:q,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:S})}),y&&e(qi,{item:j,onClose:()=>z(!1),onSave:k})]})})},Vi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({username:"",full_name:"",email:"",role:"user",status:"active",notes:"",avatar:null,avatarPreview:null});b.useEffect(()=>{a&&i({username:a.username||"",full_name:a.full_name||"",email:a.email||"",role:a.role||"user",status:a.status||"active",notes:a.notes||"",avatar:a.avatar||null,avatarPreview:a.avatar||null})},[a]);const o=h=>{const{name:c,value:d}=h.target;i(p=>({...p,[c]:d}))},n=h=>{const c=h.target.files[0];if(c){const d=new FileReader;d.onload=p=>{i(f=>({...f,avatar:p.target.result,avatarPreview:p.target.result}))},d.readAsDataURL(c)}};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-indigo-800 to-blue-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-blue-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-2xl shadow-lg",children:e(vt,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Utilizator":"Adaugă Utilizator Nou"}),e("p",{className:"text-indigo-100 text-sm font-medium",children:"Completează informațiile despre utilizator"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(se,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:h=>{h.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Username *"}),e("input",{type:"text",name:"username",value:s.username,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Username",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Complet *"}),e("input",{type:"text",name:"full_name",value:s.full_name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Numele complet",required:!0})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Avatar"}),t("div",{className:"flex items-center space-x-4",children:[s.avatarPreview?t("div",{className:"relative",children:[e("img",{src:s.avatarPreview,alt:"Avatar preview",className:"w-16 h-16 rounded-full object-cover border-2 border-slate-300"}),e("button",{type:"button",onClick:()=>i(h=>({...h,avatar:null,avatarPreview:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]}):e("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e(vt,{className:"w-8 h-8 text-slate-400"})}),t("div",{className:"flex-1",children:[e("input",{type:"file",accept:"image/*",onChange:n,className:"hidden",id:"avatar-upload"}),t("label",{htmlFor:"avatar-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors",children:[e(ue,{className:"w-4 h-4 mr-2"}),s.avatarPreview?"Schimbă Avatar":"Upload Avatar"]}),e("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG sau GIF (max 2MB)"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Email *"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Adresa de email",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Rol *"}),t("select",{name:"role",value:s.role,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",required:!0,children:[e("option",{value:"admin",children:"Administrator"}),e("option",{value:"manager",children:"Manager"}),e("option",{value:"user",children:"Utilizator"}),e("option",{value:"viewer",children:"Vizualizator"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",required:!0,children:[e("option",{value:"active",children:"Activ"}),e("option",{value:"inactive",children:"Inactiv"}),e("option",{value:"suspended",children:"Suspendat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(vt,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Utilizator"]})]})]})]})})]})})},Ji=()=>{const{users:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,m]=b.useState(""),[h,c]=b.useState([]),[d,p]=b.useState(!1),[f,S]=b.useState(!1),[v,N]=b.useState(null);b.useEffect(()=>{p(h.length>0)},[h]);const y=x=>{c(x?w.map(D=>D.id):[])},z=(x,D)=>{c(D?[...h,x]:h.filter(C=>C!==x))},j=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} utilizatori?`))try{for(const x of h)await i("users",x);c([]),p(!1)}catch(x){console.error("Error bulk deleting users:",x)}},g=()=>{h.length!==0&&console.log("Bulk edit for users:",h)},w=a.filter(x=>{var D,C,u,E;return((D=x.username)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))||((C=x.full_name)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((u=x.email)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))||((E=x.role)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))}),L=[{key:"full_name",label:"NUME COMPLET",sortable:!0,render:x=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-shrink-0",children:x.avatar?e("img",{src:x.avatar,alt:x.full_name||x.username,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200"}):e("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-semibold text-sm",children:(x.full_name||x.username||"U").charAt(0).toUpperCase()})}),t("div",{className:"min-w-0 flex-1",children:[e("p",{className:"text-sm font-medium text-slate-900 truncate",children:x.full_name||"N/A"}),t("p",{className:"text-sm text-slate-500 truncate",children:["@",x.username]})]})]})},{key:"email",label:"EMAIL",sortable:!0},{key:"role",label:"ROL",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})}],_=x=>{N(x),S(!0)},q=async x=>{window.confirm("Sigur vrei să ștergi acest utilizator?")&&await i("users",x)},I=()=>{N(null),S(!0)},k=async x=>{v?await s("users",v.id,x):await r("users",x),S(!1),N(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e($e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Utilizatori"}),e("p",{className:"text-slate-600",children:"Gestionează utilizatorii din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("users")},className:"btn-secondary flex items-center space-x-2",children:[e(ne,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[d&&t(ie,{children:[t("button",{onClick:g,className:"btn-secondary flex items-center space-x-2",children:[e(ze,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:j,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:I,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Utilizator"})]})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută utilizatori...",value:n,onChange:x=>m(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):w.length===0?t("div",{className:"text-center py-12",children:[e($e,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există utilizatori"}),e("p",{className:"text-slate-500",children:"Adaugă primul utilizator pentru a începe"})]}):e(we,{data:w,columns:L,onEdit:_,onDelete:q,searchTerm:n,selectedItems:h,onSelectAll:y,onSelectItem:z})}),f&&e(Vi,{item:v,onClose:()=>S(!1),onSave:k})]})})},Hi=()=>{var _,q,I,k,O,x,D,C,u,E,T,R,$,J,H,X,re,M,G,A,V,W,Y,be,Ee,ve,Pe,qe,Ge,st,xt,B,le,he,ce,Ne,Ie,nt,Fe,Ve,Qe,jt,Pt,Ft,Rt,Ot,Mt,$t,Bt,Ut,qt,pa,U,Q,de,pe;const[a,l]=b.useState("header"),[r,s]=b.useState({logo:{type:"upload",url:"",file:null},favicon:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},background:{type:"color",color:"#f1f5f9",imageUrl:"",imageFile:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System",loginTexts:{title:"Login",emailLabel:"Email",passwordLabel:"Password",buttonText:"Log In",forgotPassword:"Forgot Password?",termsText:"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement",joinText:"Got an invitation? Join Now",supportText:"Need help? Contact us at login-support@in.group"}});b.useEffect(()=>{const P=localStorage.getItem("appSettings");P&&s(JSON.parse(P))},[]);const i=P=>{s({...r,logo:{...r.logo,type:P}})},o=P=>{s({...r,logo:{...r.logo,url:P}})},n=P=>{const ae=P.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,logo:{...r.logo,file:ye.result}})},ye.readAsDataURL(ae)}},m=P=>{s({...r,favicon:{...r.favicon,type:P}})},h=P=>{s({...r,favicon:{...r.favicon,url:P}})},c=P=>{const ae=P.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,favicon:{...r.favicon,file:ye.result}});const Gt=document.querySelector("link[rel~='icon']");Gt&&(Gt.href=ye.result)},ye.readAsDataURL(ae)}},d=(P,ae)=>{s({...r,headerColor:{...r.headerColor,[P]:ae}})},p=P=>{s({...r,background:{...r.background,type:P}})},f=P=>{s({...r,background:{...r.background,color:P}}),document.body.style.backgroundColor=P},S=P=>{s({...r,background:{...r.background,imageUrl:P}})},v=P=>{const ae=P.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,background:{...r.background,imageFile:ye.result}}),document.body.style.backgroundImage=`url(${ye.result})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"},ye.readAsDataURL(ae)}},N=P=>{s({...r,loginImage:{...r.loginImage,type:P}})},y=P=>{s({...r,loginImage:{...r.loginImage,url:P}})},z=P=>{const ae=P.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,loginImage:{...r.loginImage,file:ye.result}})},ye.readAsDataURL(ae)}},j=(P,ae)=>{s({...r,loginButtonColor:{...r.loginButtonColor,[P]:ae}})},g=()=>{localStorage.setItem("appSettings",JSON.stringify(r)),L(),alert("Setările au fost salvate cu succes!")},w=()=>{window.confirm("Sigur doriți să resetați toate setările la valorile implicite?")&&(s({logo:{type:"upload",url:"",file:null},favicon:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},background:{type:"color",color:"#f1f5f9",imageUrl:"",imageFile:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System",loginTexts:{title:"Login",emailLabel:"Email",passwordLabel:"Password",buttonText:"Log In",forgotPassword:"Forgot Password?",termsText:"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement",joinText:"Got an invitation? Join Now",supportText:"Need help? Contact us at login-support@in.group"}}),localStorage.removeItem("appSettings"),document.body.style.backgroundColor="#f1f5f9",document.body.style.backgroundImage="none",alert("Setările au fost resetate!"))},L=()=>{if(r.headerColor.useGradient){const ae=document.querySelector("header");ae&&(ae.style.background=`linear-gradient(to right, ${r.headerColor.primary}, ${r.headerColor.secondary})`)}else{const ae=document.querySelector("header");ae&&(ae.style.background=r.headerColor.primary)}if(r.background.type==="color")document.body.style.backgroundColor=r.background.color,document.body.style.backgroundImage="none";else if(r.background.type==="image"){const ae=r.background.imageFile||r.background.imageUrl;ae&&(document.body.style.backgroundImage=`url(${ae})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed")}const P=r.favicon.file||r.favicon.url;if(P){const ae=document.querySelector("link[rel~='icon']");ae&&(ae.href=P)}};return b.useEffect(()=>{L()},[r]),e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>l("header"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="header"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(xl,{size:20}),e("span",{children:"Header"})]})}),e("button",{onClick:()=>l("main"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="main"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(br,{size:20}),e("span",{children:"Pagina Principală"})]})}),e("button",{onClick:()=>l("login"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="login"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(gl,{size:20}),e("span",{children:"Login Page"})]})}),e("button",{onClick:()=>l("backup"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="backup"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(Et,{size:20}),e("span",{children:"Backup BD"})]})})]})}),a==="header"&&e("div",{className:"space-y-6",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-blue-600"}),e("span",{children:"Logo Aplicație"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>i("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.logo.type==="upload"?"bg-blue-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>i("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.logo.type==="link"?"bg-blue-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),r.logo.type==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Logo"}),e("input",{type:"file",accept:"image/*",onChange:n,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/30 dark:file:text-blue-300 dark:hover:file:bg-blue-800/40"}),r.logo.file&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.logo.file,alt:"Logo Preview",className:"h-16 object-contain"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Logo"}),e("input",{type:"text",value:r.logo.url,onChange:P=>o(P.target.value),className:"input-field",placeholder:"https://example.com/logo.png"}),r.logo.url&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.logo.url,alt:"Logo Preview",className:"h-16 object-contain"})})]})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-purple-600"}),e("span",{children:"Culoare Header"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"gradientToggle",checked:r.headerColor.useGradient,onChange:P=>d("useGradient",P.target.checked),className:"form-checkbox rounded text-purple-600"}),e("label",{htmlFor:"gradientToggle",className:"text-sm font-semibold text-slate-700",children:"Folosește Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.headerColor.primary,onChange:P=>d("primary",P.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.headerColor.primary,onChange:P=>d("primary",P.target.value),className:"input-field flex-1",placeholder:"#2563eb"})]})]}),r.headerColor.useGradient&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.headerColor.secondary,onChange:P=>d("secondary",P.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.headerColor.secondary,onChange:P=>d("secondary",P.target.value),className:"input-field flex-1",placeholder:"#4f46e5"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:r.headerColor.useGradient?`linear-gradient(to right, ${r.headerColor.primary}, ${r.headerColor.secondary})`:r.headerColor.primary},children:e("p",{className:"text-white font-bold text-center",children:"Preview Header"})})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-teal-600"}),e("span",{children:"Texte Header"})]}),e("div",{className:"space-y-4",children:t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Titlu Aplicație"}),e("input",{type:"text",value:r.appTitle,onChange:P=>s({...r,appTitle:P.target.value}),className:"input-field",placeholder:"CASHPOT V7"}),e("p",{className:"text-xs text-slate-500",children:"Textul afișat în header"})]})})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-green-600"}),e("span",{children:"Favicon"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>m("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.favicon.type==="upload"?"bg-green-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>m("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.favicon.type==="link"?"bg-green-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),r.favicon.type==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Favicon"}),e("input",{type:"file",accept:"image/*,.ico",onChange:c,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100 dark:file:bg-green-900/30 dark:file:text-green-300 dark:hover:file:bg-green-800/40"}),r.favicon.file&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.favicon.file,alt:"Favicon Preview",className:"h-8 w-8 object-contain"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Favicon"}),e("input",{type:"text",value:r.favicon.url,onChange:P=>h(P.target.value),className:"input-field",placeholder:"https://example.com/favicon.ico"}),r.favicon.url&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.favicon.url,alt:"Favicon Preview",className:"h-8 w-8 object-contain"})})]})]})]})]})}),a==="main"&&e("div",{className:"space-y-6",children:t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-orange-600"}),e("span",{children:"Fundal Pagină"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>p("color"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-all ${r.background.type==="color"?"bg-orange-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Culoare"}),e("button",{onClick:()=>p("image"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-all ${r.background.type==="image"?"bg-orange-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Imagine"})]}),r.background.type==="color"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Fundal"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.background.color,onChange:P=>f(P.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.background.color,onChange:P=>f(P.target.value),className:"input-field flex-1",placeholder:"#f1f5f9"})]})]}):t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>s({...r,background:{...r.background,imageType:"upload"}}),className:"flex-1 py-2 px-3 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 font-semibold",children:[e(ue,{className:"w-4 h-4 inline mr-1"}),"Upload"]}),t("button",{onClick:()=>s({...r,background:{...r.background,imageType:"link"}}),className:"flex-1 py-2 px-3 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 font-semibold",children:[e(Vt,{className:"w-4 h-4 inline mr-1"}),"Link"]})]}),r.background.imageType==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Imagine"}),e("input",{type:"file",accept:"image/*",onChange:v,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100 dark:file:bg-orange-900/30 dark:file:text-orange-300 dark:hover:file:bg-orange-800/40"})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Imagine"}),e("input",{type:"text",value:r.background.imageUrl,onChange:P=>S(P.target.value),className:"input-field",placeholder:"https://example.com/background.jpg"})]})]})]})]})}),a==="login"&&t("div",{className:"space-y-6",children:[t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-teal-600"}),e("span",{children:"Texte Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Titlu Login"}),e("input",{type:"text",value:((_=r.loginTexts)==null?void 0:_.title)||"Login",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},title:P.target.value}}),className:"input-field",placeholder:"Login"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Etichetă Email"}),e("input",{type:"text",value:((q=r.loginTexts)==null?void 0:q.emailLabel)||"Email",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},emailLabel:P.target.value}}),className:"input-field",placeholder:"Email"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Etichetă Parolă"}),e("input",{type:"text",value:((I=r.loginTexts)==null?void 0:I.passwordLabel)||"Password",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},passwordLabel:P.target.value}}),className:"input-field",placeholder:"Password"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Buton"}),e("input",{type:"text",value:((k=r.loginTexts)==null?void 0:k.buttonText)||"Log In",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},buttonText:P.target.value}}),className:"input-field",placeholder:"Log In"})]}),t("div",{className:"space-y-2 lg:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:'Text "Forgot Password"'}),e("input",{type:"text",value:((O=r.loginTexts)==null?void 0:O.forgotPassword)||"Forgot Password?",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},forgotPassword:P.target.value}}),className:"input-field",placeholder:"Forgot Password?"})]}),t("div",{className:"space-y-2 lg:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Termeni"}),e("textarea",{value:((x=r.loginTexts)==null?void 0:x.termsText)||"",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},termsText:P.target.value}}),className:"input-field min-h-[60px] resize-none",placeholder:"By clicking login you agree to the terms..."})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:'Text "Join Now"'}),e("input",{type:"text",value:((D=r.loginTexts)==null?void 0:D.joinText)||"Got an invitation? Join Now",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},joinText:P.target.value}}),className:"input-field",placeholder:"Got an invitation? Join Now"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Support"}),e("input",{type:"text",value:((C=r.loginTexts)==null?void 0:C.supportText)||"Need help? Contact us at...",onChange:P=>s({...r,loginTexts:{...r.loginTexts||{},supportText:P.target.value}}),className:"input-field",placeholder:"Need help? Contact us at..."})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-pink-600"}),e("span",{children:"Culori Text Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Titlu"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((u=r.loginTextColor)==null?void 0:u.title)||"#1e293b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},title:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((E=r.loginTextColor)==null?void 0:E.title)||"#1e293b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},title:P.target.value}}),className:"input-field flex-1",placeholder:"#1e293b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-bold text-2xl text-center",style:{color:((T=r.loginTextColor)==null?void 0:T.title)||"#1e293b"},children:"Login"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Etichete"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((R=r.loginTextColor)==null?void 0:R.labels)||"#334155",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:(($=r.loginTextColor)==null?void 0:$.labels)||"#334155",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:P.target.value}}),className:"input-field flex-1",placeholder:"#334155"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-semibold text-sm",style:{color:((J=r.loginTextColor)==null?void 0:J.labels)||"#334155"},children:"Email *"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Text Secundar"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((H=r.loginTextColor)==null?void 0:H.text)||"#64748b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},text:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((X=r.loginTextColor)==null?void 0:X.text)||"#64748b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},text:P.target.value}}),className:"input-field flex-1",placeholder:"#64748b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"text-xs text-center",style:{color:((re=r.loginTextColor)==null?void 0:re.text)||"#64748b"},children:"Terms & Support"})})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-indigo-600"}),e("span",{children:"Culori Fundal Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Fundal Formular"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginPageGradient",checked:((M=r.loginPageColor)==null?void 0:M.useGradient)||!1,onChange:P=>s({...r,loginPageColor:{...r.loginPageColor,useGradient:P.target.checked}}),className:"form-checkbox rounded text-indigo-600"}),e("label",{htmlFor:"loginPageGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((G=r.loginPageColor)==null?void 0:G.primary)||"#FFFFFF",onChange:P=>s({...r,loginPageColor:{...r.loginPageColor,primary:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((A=r.loginPageColor)==null?void 0:A.primary)||"#FFFFFF",onChange:P=>s({...r,loginPageColor:{...r.loginPageColor,primary:P.target.value}}),className:"input-field flex-1"})]})]}),((V=r.loginPageColor)==null?void 0:V.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((W=r.loginPageColor)==null?void 0:W.secondary)||"#F5F5F5",onChange:P=>s({...r,loginPageColor:{...r.loginPageColor,secondary:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Y=r.loginPageColor)==null?void 0:Y.secondary)||"#F5F5F5",onChange:P=>s({...r,loginPageColor:{...r.loginPageColor,secondary:P.target.value}}),className:"input-field flex-1"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:(be=r.loginPageColor)!=null&&be.useGradient?`linear-gradient(to right, ${r.loginPageColor.primary}, ${r.loginPageColor.secondary})`:((Ee=r.loginPageColor)==null?void 0:Ee.primary)||"#FFFFFF"},children:e("p",{className:"text-slate-800 font-bold text-center",children:"Preview Fundal"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Card Sub Logo"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginCardGradient",checked:((ve=r.loginCardColor)==null?void 0:ve.useGradient)||!1,onChange:P=>s({...r,loginCardColor:{...r.loginCardColor,useGradient:P.target.checked}}),className:"form-checkbox rounded text-purple-600"}),e("label",{htmlFor:"loginCardGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((Pe=r.loginCardColor)==null?void 0:Pe.primary)||"#8B5CF6",onChange:P=>s({...r,loginCardColor:{...r.loginCardColor,primary:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((qe=r.loginCardColor)==null?void 0:qe.primary)||"#8B5CF6",onChange:P=>s({...r,loginCardColor:{...r.loginCardColor,primary:P.target.value}}),className:"input-field flex-1",placeholder:"#8B5CF6"})]})]}),((Ge=r.loginCardColor)==null?void 0:Ge.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((st=r.loginCardColor)==null?void 0:st.secondary)||"#A855F7",onChange:P=>s({...r,loginCardColor:{...r.loginCardColor,secondary:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((xt=r.loginCardColor)==null?void 0:xt.secondary)||"#A855F7",onChange:P=>s({...r,loginCardColor:{...r.loginCardColor,secondary:P.target.value}}),className:"input-field flex-1",placeholder:"#A855F7"})]})]}),e("div",{className:"rounded-2xl shadow-2xl p-8",style:{background:(B=r.loginCardColor)!=null&&B.useGradient?`linear-gradient(to right, ${r.loginCardColor.primary}, ${r.loginCardColor.secondary})`:((le=r.loginCardColor)==null?void 0:le.primary)||"#8B5CF6"},children:e("p",{className:"text-white font-bold text-2xl text-center",children:"Login"})})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-orange-600"}),e("span",{children:"Culoare Buton Login"})]}),e("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Buton"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginButtonGradient",checked:((he=r.loginButtonColor)==null?void 0:he.useGradient)||!1,onChange:P=>j("useGradient",P.target.checked),className:"form-checkbox rounded text-indigo-600"}),e("label",{htmlFor:"loginButtonGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((ce=r.loginButtonColor)==null?void 0:ce.primary)||"#FF7A00",onChange:P=>j("primary",P.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Ne=r.loginButtonColor)==null?void 0:Ne.primary)||"#FF7A00",onChange:P=>j("primary",P.target.value),className:"input-field flex-1"})]})]}),((Ie=r.loginButtonColor)==null?void 0:Ie.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((nt=r.loginButtonColor)==null?void 0:nt.secondary)||"#FF9500",onChange:P=>j("secondary",P.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Fe=r.loginButtonColor)==null?void 0:Fe.secondary)||"#FF9500",onChange:P=>j("secondary",P.target.value),className:"input-field flex-1"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:(Ve=r.loginButtonColor)!=null&&Ve.useGradient?`linear-gradient(to right, ${r.loginButtonColor.primary}, ${r.loginButtonColor.secondary})`:((Qe=r.loginButtonColor)==null?void 0:Qe.primary)||"#FF7A00"},children:e("p",{className:"text-white font-bold text-center",children:"Preview Button"})})]})})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-pink-600"}),e("span",{children:"Culori Text Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Titlu"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((jt=r.loginTextColor)==null?void 0:jt.title)||"#1e293b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},title:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Pt=r.loginTextColor)==null?void 0:Pt.title)||"#1e293b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},title:P.target.value}}),className:"input-field flex-1",placeholder:"#1e293b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-bold text-2xl text-center",style:{color:((Ft=r.loginTextColor)==null?void 0:Ft.title)||"#1e293b"},children:"Login"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Etichete"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((Rt=r.loginTextColor)==null?void 0:Rt.labels)||"#334155",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Ot=r.loginTextColor)==null?void 0:Ot.labels)||"#334155",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:P.target.value}}),className:"input-field flex-1",placeholder:"#334155"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-semibold text-sm text-center",style:{color:((Mt=r.loginTextColor)==null?void 0:Mt.labels)||"#334155"},children:"Email *"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Text Secundar"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:(($t=r.loginTextColor)==null?void 0:$t.text)||"#64748b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},text:P.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Bt=r.loginTextColor)==null?void 0:Bt.text)||"#64748b",onChange:P=>s({...r,loginTextColor:{...r.loginTextColor||{},text:P.target.value}}),className:"input-field flex-1",placeholder:"#64748b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"text-xs text-center",style:{color:((Ut=r.loginTextColor)==null?void 0:Ut.text)||"#64748b"},children:"Terms"})})]})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-indigo-600"}),e("span",{children:"Imagine Fundal Login"})]}),t("div",{className:"flex space-x-4 mb-4",children:[t("button",{onClick:()=>N("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${((qt=r.loginImage)==null?void 0:qt.type)==="upload"?"bg-indigo-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>N("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${((pa=r.loginImage)==null?void 0:pa.type)==="link"?"bg-indigo-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),((U=r.loginImage)==null?void 0:U.type)==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Imagine"}),e("input",{type:"file",accept:"image/*",onChange:z,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/30 dark:file:text-indigo-300 dark:hover:file:bg-indigo-800/40"}),((Q=r.loginImage)==null?void 0:Q.file)&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.loginImage.file,alt:"Login Preview",className:"h-32 w-full object-cover rounded"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Imagine"}),e("input",{type:"text",value:((de=r.loginImage)==null?void 0:de.url)||"",onChange:P=>y(P.target.value),className:"input-field",placeholder:"https://example.com/login-bg.jpg"}),((pe=r.loginImage)==null?void 0:pe.url)&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.loginImage.url,alt:"Login Preview",className:"h-32 w-full object-cover rounded"})})]})]})]}),a==="backup"&&e(Qr,{compact:!1}),a!=="backup"&&e("div",{className:"card p-6",children:t("div",{className:"flex justify-end space-x-4",children:[t("button",{onClick:w,className:"btn-secondary flex items-center space-x-2",children:[e(at,{size:18}),e("span",{children:"Resetează"})]}),t("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[e(ot,{size:18}),e("span",{children:"Salvează Setări"})]})]})})]})})};function Wi(){return e(Jn,{children:e(Hn,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:t(al,{children:[e(xe,{path:"/login",element:e(Wn,{})}),e(xe,{path:"/",element:e(va,{to:"/login",replace:!0})}),e(xe,{path:"/dashboard",element:e(ti,{})}),e(xe,{path:"/companies",element:e(si,{})}),e(xe,{path:"/companies/:id",element:e($i,{})}),e(xe,{path:"/locations",element:e(mi,{})}),e(xe,{path:"/providers",element:e(hi,{})}),e(xe,{path:"/cabinets",element:e(xi,{})}),e(xe,{path:"/game-mixes",element:e(vi,{})}),e(xe,{path:"/games/:gameId",element:e(Ni,{})}),e(xe,{path:"/slots",element:e(wi,{})}),e(xe,{path:"/slots/history",element:e(Ci,{})}),e(xe,{path:"/slots/:id",element:e(ki,{})}),e(xe,{path:"/warehouse",element:e(_i,{})}),e(xe,{path:"/metrology",element:e(ji,{})}),e(xe,{path:"/jackpots",element:e(Fi,{})}),e(xe,{path:"/invoices",element:e(Oi,{})}),e(xe,{path:"/invoices/:id",element:e(Mi,{})}),e(xe,{path:"/onjn-reports",element:e(Ui,{})}),e(xe,{path:"/legal-documents",element:e(Gi,{})}),e(xe,{path:"/users",element:e(Ji,{})}),e(xe,{path:"/settings",element:e(Hi,{})}),e(xe,{path:"*",element:e(va,{to:"/login",replace:!0})})]})})})})}Ca.createRoot(document.getElementById("root")).render(e(fa.StrictMode,{children:e(hs,{children:t(rl,{children:[e(Wi,{}),e(ms,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
