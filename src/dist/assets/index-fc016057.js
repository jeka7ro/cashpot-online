import{r as b,a as el,b as fa}from"./vendor-b69f2a9f.js";import{N as va,u as tl,L as hr,a as Ke,b as ra,R as al,c as xe,B as rl}from"./router-d69acf51.js";import{E as Na,a as ke,B as _e,b as fe,M as je,U as $e,G as Se,C as ft,H as Ia,P as Zt,A as Be,T as ut,F as ee,S as At,c as Ye,d as ll,e as sl,f as nl,g as il,L as ol,h as la,i as cl,j as me,k as ue,D as se,l as Xe,m as De,n as Te,o as Et,p as pr,q as ht,X as dl,r as rt,s as Le,R as at,t as ya,u as Ga,v as wa,w as Va,Z as Dt,x as ot,y as ml,z as Ja,I as ne,J as St,K as Ae,N as vt,O as La,Q as ja,V as gt,W as br,Y as ul,_ as hl,$ as xr,a0 as ka,a1 as He,a2 as _t,a3 as Ha,a4 as et,a5 as pl,a6 as Wa,a7 as bl,a8 as xl,a9 as Vt,aa as dt}from"./icons-a986364b.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var gr={exports:{}},sa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=b,fl=Symbol.for("react.element"),vl=Symbol.for("react.fragment"),Nl=Object.prototype.hasOwnProperty,yl=gl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wl={key:!0,ref:!0,__self:!0,__source:!0};function fr(a,l,r){var s,i={},o=null,n=null;r!==void 0&&(o=""+r),l.key!==void 0&&(o=""+l.key),l.ref!==void 0&&(n=l.ref);for(s in l)Nl.call(l,s)&&!wl.hasOwnProperty(s)&&(i[s]=l[s]);if(a&&a.defaultProps)for(s in l=a.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:fl,type:a,key:o,ref:n,props:i,_owner:yl.current}}sa.Fragment=vl;sa.jsx=fr;sa.jsxs=fr;gr.exports=sa;var Pa=gr.exports;const ie=Pa.Fragment,e=Pa.jsx,t=Pa.jsxs;var Ca={},Ya=el;Ca.createRoot=Ya.createRoot,Ca.hydrateRoot=Ya.hydrateRoot;let kl={data:""},Cl=a=>{if(typeof window=="object"){let l=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(a||document.head).appendChild(l),l.firstChild}return a||kl},Sl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_l=/\/\*[^]*?\*\/|  +/g,Xa=/\n+/g,it=(a,l)=>{let r="",s="",i="";for(let o in a){let n=a[o];o[0]=="@"?o[1]=="i"?r=o+" "+n+";":s+=o[1]=="f"?it(n,o):o+"{"+it(n,o[1]=="k"?"":l)+"}":typeof n=="object"?s+=it(n,l?l.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):n!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=it.p?it.p(o,n):o+":"+n+";")}return r+(l&&i?l+"{"+i+"}":i)+s},Ze={},vr=a=>{if(typeof a=="object"){let l="";for(let r in a)l+=r+vr(a[r]);return l}return a},Al=(a,l,r,s,i)=>{let o=vr(a),n=Ze[o]||(Ze[o]=(h=>{let d=0,c=11;for(;d<h.length;)c=101*c+h.charCodeAt(d++)>>>0;return"go"+c})(o));if(!Ze[n]){let h=o!==a?a:(d=>{let c,p,f=[{}];for(;c=Sl.exec(d.replace(_l,""));)c[4]?f.shift():c[3]?(p=c[3].replace(Xa," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][c[1]]=c[2].replace(Xa," ").trim();return f[0]})(a);Ze[n]=it(i?{["@keyframes "+n]:h}:h,r?"":"."+n)}let u=r&&Ze.g?Ze.g:null;return r&&(Ze.g=Ze[n]),((h,d,c,p)=>{p?d.data=d.data.replace(p,h):d.data.indexOf(h)===-1&&(d.data=c?h+d.data:d.data+h)})(Ze[n],l,s,u),n},El=(a,l,r)=>a.reduce((s,i,o)=>{let n=l[o];if(n&&n.call){let u=n(r),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;n=h?"."+h:u&&typeof u=="object"?u.props?"":it(u,""):u===!1?"":u}return s+i+(n??"")},"");function na(a){let l=this||{},r=a.call?a(l.p):a;return Al(r.unshift?r.raw?El(r,[].slice.call(arguments,1),l.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(l.p):i),{}):r,Cl(l.target),l.g,l.o,l.k)}let Nr,Sa,_a;na.bind({g:1});let lt=na.bind({k:1});function Dl(a,l,r,s){it.p=l,Nr=a,Sa=r,_a=s}function ct(a,l){let r=this||{};return function(){let s=arguments;function i(o,n){let u=Object.assign({},o),h=u.className||i.className;r.p=Object.assign({theme:Sa&&Sa()},u),r.o=/ *go\d+/.test(h),u.className=na.apply(r,s)+(h?" "+h:""),l&&(u.ref=n);let d=a;return a[0]&&(d=u.as||a,delete u.as),_a&&d[0]&&_a(u),Nr(d,u)}return l?l(i):i}}var zl=a=>typeof a=="function",ea=(a,l)=>zl(a)?a(l):a,Tl=(()=>{let a=0;return()=>(++a).toString()})(),yr=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");a=!l||l.matches}return a}})(),Il=20,Fa="default",wr=(a,l)=>{let{toastLimit:r}=a.settings;switch(l.type){case 0:return{...a,toasts:[l.toast,...a.toasts].slice(0,r)};case 1:return{...a,toasts:a.toasts.map(n=>n.id===l.toast.id?{...n,...l.toast}:n)};case 2:let{toast:s}=l;return wr(a,{type:a.toasts.find(n=>n.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=l;return{...a,toasts:a.toasts.map(n=>n.id===i||i===void 0?{...n,dismissed:!0,visible:!1}:n)};case 4:return l.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(n=>n.id!==l.toastId)};case 5:return{...a,pausedAt:l.time};case 6:let o=l.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+o}))}}},Wt=[],kr={toasts:[],pausedAt:void 0,settings:{toastLimit:Il}},We={},Cr=(a,l=Fa)=>{We[l]=wr(We[l]||kr,a),Wt.forEach(([r,s])=>{r===l&&s(We[l])})},Sr=a=>Object.keys(We).forEach(l=>Cr(a,l)),Ll=a=>Object.keys(We).find(l=>We[l].toasts.some(r=>r.id===a)),ia=(a=Fa)=>l=>{Cr(l,a)},jl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Pl=(a={},l=Fa)=>{let[r,s]=b.useState(We[l]||kr),i=b.useRef(We[l]);b.useEffect(()=>(i.current!==We[l]&&s(We[l]),Wt.push([l,s]),()=>{let n=Wt.findIndex(([u])=>u===l);n>-1&&Wt.splice(n,1)}),[l]);let o=r.toasts.map(n=>{var u,h,d;return{...a,...a[n.type],...n,removeDelay:n.removeDelay||((u=a[n.type])==null?void 0:u.removeDelay)||(a==null?void 0:a.removeDelay),duration:n.duration||((h=a[n.type])==null?void 0:h.duration)||(a==null?void 0:a.duration)||jl[n.type],style:{...a.style,...(d=a[n.type])==null?void 0:d.style,...n.style}}});return{...r,toasts:o}},Fl=(a,l="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Tl()}),zt=a=>(l,r)=>{let s=Fl(l,a,r);return ia(s.toasterId||Ll(s.id))({type:2,toast:s}),s.id},K=(a,l)=>zt("blank")(a,l);K.error=zt("error");K.success=zt("success");K.loading=zt("loading");K.custom=zt("custom");K.dismiss=(a,l)=>{let r={type:3,toastId:a};l?ia(l)(r):Sr(r)};K.dismissAll=a=>K.dismiss(void 0,a);K.remove=(a,l)=>{let r={type:4,toastId:a};l?ia(l)(r):Sr(r)};K.removeAll=a=>K.remove(void 0,a);K.promise=(a,l,r)=>{let s=K.loading(l.loading,{...r,...r==null?void 0:r.loading});return typeof a=="function"&&(a=a()),a.then(i=>{let o=l.success?ea(l.success,i):void 0;return o?K.success(o,{id:s,...r,...r==null?void 0:r.success}):K.dismiss(s),i}).catch(i=>{let o=l.error?ea(l.error,i):void 0;o?K.error(o,{id:s,...r,...r==null?void 0:r.error}):K.dismiss(s)}),a};var Rl=1e3,Ol=(a,l="default")=>{let{toasts:r,pausedAt:s}=Pl(a,l),i=b.useRef(new Map).current,o=b.useCallback((p,f=Rl)=>{if(i.has(p))return;let _=setTimeout(()=>{i.delete(p),n({type:4,toastId:p})},f);i.set(p,_)},[]);b.useEffect(()=>{if(s)return;let p=Date.now(),f=r.map(_=>{if(_.duration===1/0)return;let v=(_.duration||0)+_.pauseDuration-(p-_.createdAt);if(v<0){_.visible&&K.dismiss(_.id);return}return setTimeout(()=>K.dismiss(_.id,l),v)});return()=>{f.forEach(_=>_&&clearTimeout(_))}},[r,s,l]);let n=b.useCallback(ia(l),[l]),u=b.useCallback(()=>{n({type:5,time:Date.now()})},[n]),h=b.useCallback((p,f)=>{n({type:1,toast:{id:p,height:f}})},[n]),d=b.useCallback(()=>{s&&n({type:6,time:Date.now()})},[s,n]),c=b.useCallback((p,f)=>{let{reverseOrder:_=!1,gutter:v=8,defaultPosition:N}=f||{},C=r.filter(g=>(g.position||N)===(p.position||N)&&g.height),D=C.findIndex(g=>g.id===p.id),T=C.filter((g,k)=>k<D&&g.visible).length;return C.filter(g=>g.visible).slice(..._?[T+1]:[0,T]).reduce((g,k)=>g+(k.height||0)+v,0)},[r]);return b.useEffect(()=>{r.forEach(p=>{if(p.dismissed)o(p.id,p.removeDelay);else{let f=i.get(p.id);f&&(clearTimeout(f),i.delete(p.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:h,startPause:u,endPause:d,calculateOffset:c}}},Ml=lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$l=lt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bl=lt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ul=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ml} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$l} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bl} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ql=lt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gl=ct("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${ql} 1s linear infinite;
`,Vl=lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Jl=lt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hl=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Jl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wl=ct("div")`
  position: absolute;
`,Yl=ct("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xl=lt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kl=ct("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ql=({toast:a})=>{let{icon:l,type:r,iconTheme:s}=a;return l!==void 0?typeof l=="string"?b.createElement(Kl,null,l):l:r==="blank"?null:b.createElement(Yl,null,b.createElement(Gl,{...s}),r!=="loading"&&b.createElement(Wl,null,r==="error"?b.createElement(Ul,{...s}):b.createElement(Hl,{...s})))},Zl=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,es=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,ts="0%{opacity:0;} 100%{opacity:1;}",as="0%{opacity:1;} 100%{opacity:0;}",rs=ct("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ls=ct("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ss=(a,l)=>{let r=a.includes("top")?1:-1,[s,i]=yr()?[ts,as]:[Zl(r),es(r)];return{animation:l?`${lt(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ns=b.memo(({toast:a,position:l,style:r,children:s})=>{let i=a.height?ss(a.position||l||"top-center",a.visible):{opacity:0},o=b.createElement(Ql,{toast:a}),n=b.createElement(ls,{...a.ariaProps},ea(a.message,a));return b.createElement(rs,{className:a.className,style:{...i,...r,...a.style}},typeof s=="function"?s({icon:o,message:n}):b.createElement(b.Fragment,null,o,n))});Dl(b.createElement);var is=({id:a,className:l,style:r,onHeightUpdate:s,children:i})=>{let o=b.useCallback(n=>{if(n){let u=()=>{let h=n.getBoundingClientRect().height;s(a,h)};u(),new MutationObserver(u).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[a,s]);return b.createElement("div",{ref:o,className:l,style:r},i)},os=(a,l)=>{let r=a.includes("top"),s=r?{top:0}:{bottom:0},i=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(r?1:-1)}px)`,...s,...i}},cs=na`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jt=16,ds=({reverseOrder:a,position:l="top-center",toastOptions:r,gutter:s,children:i,toasterId:o,containerStyle:n,containerClassName:u})=>{let{toasts:h,handlers:d}=Ol(r,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Jt,left:Jt,right:Jt,bottom:Jt,pointerEvents:"none",...n},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},h.map(c=>{let p=c.position||l,f=d.calculateOffset(c,{reverseOrder:a,gutter:s,defaultPosition:l}),_=os(p,f);return b.createElement(is,{id:c.id,key:c.id,onHeightUpdate:d.updateHeight,className:c.visible?cs:"",style:_},c.type==="custom"?ea(c.message,c):i?i(c):b.createElement(ns,{toast:c,position:p}))}))},Re=K;const _r=b.createContext(),ms=()=>{const a=b.useContext(_r);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},us=({children:a})=>{const[l,r]=b.useState(()=>localStorage.getItem("theme")||"light");b.useEffect(()=>{localStorage.setItem("theme",l),l==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const s=()=>{r(i=>i==="light"?"dark":"light")};return e(_r.Provider,{value:{theme:l,setTheme:r,toggleTheme:s},children:a})};function Ar(a,l){return function(){return a.apply(l,arguments)}}const{toString:hs}=Object.prototype,{getPrototypeOf:Ra}=Object,{iterator:oa,toStringTag:Er}=Symbol,ca=(a=>l=>{const r=hs.call(l);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=a=>(a=a.toLowerCase(),l=>ca(l)===a),da=a=>l=>typeof l===a,{isArray:yt}=Array,Nt=da("undefined");function Tt(a){return a!==null&&!Nt(a)&&a.constructor!==null&&!Nt(a.constructor)&&ze(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Dr=Ue("ArrayBuffer");function ps(a){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(a):l=a&&a.buffer&&Dr(a.buffer),l}const bs=da("string"),ze=da("function"),zr=da("number"),It=a=>a!==null&&typeof a=="object",xs=a=>a===!0||a===!1,Yt=a=>{if(ca(a)!=="object")return!1;const l=Ra(a);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Er in a)&&!(oa in a)},gs=a=>{if(!It(a)||Tt(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},fs=Ue("Date"),vs=Ue("File"),Ns=Ue("Blob"),ys=Ue("FileList"),ws=a=>It(a)&&ze(a.pipe),ks=a=>{let l;return a&&(typeof FormData=="function"&&a instanceof FormData||ze(a.append)&&((l=ca(a))==="formdata"||l==="object"&&ze(a.toString)&&a.toString()==="[object FormData]"))},Cs=Ue("URLSearchParams"),[Ss,_s,As,Es]=["ReadableStream","Request","Response","Headers"].map(Ue),Ds=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lt(a,l,{allOwnKeys:r=!1}={}){if(a===null||typeof a>"u")return;let s,i;if(typeof a!="object"&&(a=[a]),yt(a))for(s=0,i=a.length;s<i;s++)l.call(null,a[s],s,a);else{if(Tt(a))return;const o=r?Object.getOwnPropertyNames(a):Object.keys(a),n=o.length;let u;for(s=0;s<n;s++)u=o[s],l.call(null,a[u],u,a)}}function Tr(a,l){if(Tt(a))return null;l=l.toLowerCase();const r=Object.keys(a);let s=r.length,i;for(;s-- >0;)if(i=r[s],l===i.toLowerCase())return i;return null}const mt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ir=a=>!Nt(a)&&a!==mt;function Aa(){const{caseless:a,skipUndefined:l}=Ir(this)&&this||{},r={},s=(i,o)=>{const n=a&&Tr(r,o)||o;Yt(r[n])&&Yt(i)?r[n]=Aa(r[n],i):Yt(i)?r[n]=Aa({},i):yt(i)?r[n]=i.slice():(!l||!Nt(i))&&(r[n]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Lt(arguments[i],s);return r}const zs=(a,l,r,{allOwnKeys:s}={})=>(Lt(l,(i,o)=>{r&&ze(i)?a[o]=Ar(i,r):a[o]=i},{allOwnKeys:s}),a),Ts=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Is=(a,l,r,s)=>{a.prototype=Object.create(l.prototype,s),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:l.prototype}),r&&Object.assign(a.prototype,r)},Ls=(a,l,r,s)=>{let i,o,n;const u={};if(l=l||{},a==null)return l;do{for(i=Object.getOwnPropertyNames(a),o=i.length;o-- >0;)n=i[o],(!s||s(n,a,l))&&!u[n]&&(l[n]=a[n],u[n]=!0);a=r!==!1&&Ra(a)}while(a&&(!r||r(a,l))&&a!==Object.prototype);return l},js=(a,l,r)=>{a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=l.length;const s=a.indexOf(l,r);return s!==-1&&s===r},Ps=a=>{if(!a)return null;if(yt(a))return a;let l=a.length;if(!zr(l))return null;const r=new Array(l);for(;l-- >0;)r[l]=a[l];return r},Fs=(a=>l=>a&&l instanceof a)(typeof Uint8Array<"u"&&Ra(Uint8Array)),Rs=(a,l)=>{const s=(a&&a[oa]).call(a);let i;for(;(i=s.next())&&!i.done;){const o=i.value;l.call(a,o[0],o[1])}},Os=(a,l)=>{let r;const s=[];for(;(r=a.exec(l))!==null;)s.push(r);return s},Ms=Ue("HTMLFormElement"),$s=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),Ka=(({hasOwnProperty:a})=>(l,r)=>a.call(l,r))(Object.prototype),Bs=Ue("RegExp"),Lr=(a,l)=>{const r=Object.getOwnPropertyDescriptors(a),s={};Lt(r,(i,o)=>{let n;(n=l(i,o,a))!==!1&&(s[o]=n||i)}),Object.defineProperties(a,s)},Us=a=>{Lr(a,(l,r)=>{if(ze(a)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=a[r];if(ze(s)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},qs=(a,l)=>{const r={},s=i=>{i.forEach(o=>{r[o]=!0})};return yt(a)?s(a):s(String(a).split(l)),r},Gs=()=>{},Vs=(a,l)=>a!=null&&Number.isFinite(a=+a)?a:l;function Js(a){return!!(a&&ze(a.append)&&a[Er]==="FormData"&&a[oa])}const Hs=a=>{const l=new Array(10),r=(s,i)=>{if(It(s)){if(l.indexOf(s)>=0)return;if(Tt(s))return s;if(!("toJSON"in s)){l[i]=s;const o=yt(s)?[]:{};return Lt(s,(n,u)=>{const h=r(n,i+1);!Nt(h)&&(o[u]=h)}),l[i]=void 0,o}}return s};return r(a,0)},Ws=Ue("AsyncFunction"),Ys=a=>a&&(It(a)||ze(a))&&ze(a.then)&&ze(a.catch),jr=((a,l)=>a?setImmediate:l?((r,s)=>(mt.addEventListener("message",({source:i,data:o})=>{i===mt&&o===r&&s.length&&s.shift()()},!1),i=>{s.push(i),mt.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ze(mt.postMessage)),Xs=typeof queueMicrotask<"u"?queueMicrotask.bind(mt):typeof process<"u"&&process.nextTick||jr,Ks=a=>a!=null&&ze(a[oa]),P={isArray:yt,isArrayBuffer:Dr,isBuffer:Tt,isFormData:ks,isArrayBufferView:ps,isString:bs,isNumber:zr,isBoolean:xs,isObject:It,isPlainObject:Yt,isEmptyObject:gs,isReadableStream:Ss,isRequest:_s,isResponse:As,isHeaders:Es,isUndefined:Nt,isDate:fs,isFile:vs,isBlob:Ns,isRegExp:Bs,isFunction:ze,isStream:ws,isURLSearchParams:Cs,isTypedArray:Fs,isFileList:ys,forEach:Lt,merge:Aa,extend:zs,trim:Ds,stripBOM:Ts,inherits:Is,toFlatObject:Ls,kindOf:ca,kindOfTest:Ue,endsWith:js,toArray:Ps,forEachEntry:Rs,matchAll:Os,isHTMLForm:Ms,hasOwnProperty:Ka,hasOwnProp:Ka,reduceDescriptors:Lr,freezeMethods:Us,toObjectSet:qs,toCamelCase:$s,noop:Gs,toFiniteNumber:Vs,findKey:Tr,global:mt,isContextDefined:Ir,isSpecCompliantForm:Js,toJSONObject:Hs,isAsyncFn:Ws,isThenable:Ys,setImmediate:jr,asap:Xs,isIterable:Ks};function Z(a,l,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",l&&(this.code=l),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Pr=Z.prototype,Fr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Fr[a]={value:a}});Object.defineProperties(Z,Fr);Object.defineProperty(Pr,"isAxiosError",{value:!0});Z.from=(a,l,r,s,i,o)=>{const n=Object.create(Pr);P.toFlatObject(a,n,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const u=a&&a.message?a.message:"Error",h=l==null&&a?a.code:l;return Z.call(n,u,h,r,s,i),a&&n.cause==null&&Object.defineProperty(n,"cause",{value:a,configurable:!0}),n.name=a&&a.name||"Error",o&&Object.assign(n,o),n};const Qs=null;function Ea(a){return P.isPlainObject(a)||P.isArray(a)}function Rr(a){return P.endsWith(a,"[]")?a.slice(0,-2):a}function Qa(a,l,r){return a?a.concat(l).map(function(i,o){return i=Rr(i),!r&&o?"["+i+"]":i}).join(r?".":""):l}function Zs(a){return P.isArray(a)&&!a.some(Ea)}const en=P.toFlatObject(P,{},null,function(l){return/^is[A-Z]/.test(l)});function ma(a,l,r){if(!P.isObject(a))throw new TypeError("target must be an object");l=l||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!P.isUndefined(C[N])});const s=r.metaTokens,i=r.visitor||c,o=r.dots,n=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(l);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(P.isDate(v))return v.toISOString();if(P.isBoolean(v))return v.toString();if(!h&&P.isBlob(v))throw new Z("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(v)||P.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,N,C){let D=v;if(v&&!C&&typeof v=="object"){if(P.endsWith(N,"{}"))N=s?N:N.slice(0,-2),v=JSON.stringify(v);else if(P.isArray(v)&&Zs(v)||(P.isFileList(v)||P.endsWith(N,"[]"))&&(D=P.toArray(v)))return N=Rr(N),D.forEach(function(g,k){!(P.isUndefined(g)||g===null)&&l.append(n===!0?Qa([N],k,o):n===null?N:N+"[]",d(g))}),!1}return Ea(v)?!0:(l.append(Qa(C,N,o),d(v)),!1)}const p=[],f=Object.assign(en,{defaultVisitor:c,convertValue:d,isVisitable:Ea});function _(v,N){if(!P.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(v),P.forEach(v,function(D,T){(!(P.isUndefined(D)||D===null)&&i.call(l,D,P.isString(T)?T.trim():T,N,f))===!0&&_(D,N?N.concat(T):[T])}),p.pop()}}if(!P.isObject(a))throw new TypeError("data must be an object");return _(a),l}function Za(a){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(s){return l[s]})}function Oa(a,l){this._pairs=[],a&&ma(a,this,l)}const Or=Oa.prototype;Or.append=function(l,r){this._pairs.push([l,r])};Or.toString=function(l){const r=l?function(s){return l.call(this,s,Za)}:Za;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function tn(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mr(a,l,r){if(!l)return a;const s=r&&r.encode||tn;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(l,r):o=P.isURLSearchParams(l)?l.toString():new Oa(l,r).toString(s),o){const n=a.indexOf("#");n!==-1&&(a=a.slice(0,n)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a}class an{constructor(){this.handlers=[]}use(l,r,s){return this.handlers.push({fulfilled:l,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){P.forEach(this.handlers,function(s){s!==null&&l(s)})}}const er=an,$r={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rn=typeof URLSearchParams<"u"?URLSearchParams:Oa,ln=typeof FormData<"u"?FormData:null,sn=typeof Blob<"u"?Blob:null,nn={isBrowser:!0,classes:{URLSearchParams:rn,FormData:ln,Blob:sn},protocols:["http","https","file","blob","url","data"]},Ma=typeof window<"u"&&typeof document<"u",Da=typeof navigator=="object"&&navigator||void 0,on=Ma&&(!Da||["ReactNative","NativeScript","NS"].indexOf(Da.product)<0),cn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dn=Ma&&window.location.href||"http://localhost",mn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ma,hasStandardBrowserEnv:on,hasStandardBrowserWebWorkerEnv:cn,navigator:Da,origin:dn},Symbol.toStringTag,{value:"Module"})),Ce={...mn,...nn};function un(a,l){return ma(a,new Ce.classes.URLSearchParams,{visitor:function(r,s,i,o){return Ce.isNode&&P.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...l})}function hn(a){return P.matchAll(/\w+|\[(\w*)]/g,a).map(l=>l[0]==="[]"?"":l[1]||l[0])}function pn(a){const l={},r=Object.keys(a);let s;const i=r.length;let o;for(s=0;s<i;s++)o=r[s],l[o]=a[o];return l}function Br(a){function l(r,s,i,o){let n=r[o++];if(n==="__proto__")return!0;const u=Number.isFinite(+n),h=o>=r.length;return n=!n&&P.isArray(i)?i.length:n,h?(P.hasOwnProp(i,n)?i[n]=[i[n],s]:i[n]=s,!u):((!i[n]||!P.isObject(i[n]))&&(i[n]=[]),l(r,s,i[n],o)&&P.isArray(i[n])&&(i[n]=pn(i[n])),!u)}if(P.isFormData(a)&&P.isFunction(a.entries)){const r={};return P.forEachEntry(a,(s,i)=>{l(hn(s),i,r,0)}),r}return null}function bn(a,l,r){if(P.isString(a))try{return(l||JSON.parse)(a),P.trim(a)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(a)}const $a={transitional:$r,adapter:["xhr","http","fetch"],transformRequest:[function(l,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,o=P.isObject(l);if(o&&P.isHTMLForm(l)&&(l=new FormData(l)),P.isFormData(l))return i?JSON.stringify(Br(l)):l;if(P.isArrayBuffer(l)||P.isBuffer(l)||P.isStream(l)||P.isFile(l)||P.isBlob(l)||P.isReadableStream(l))return l;if(P.isArrayBufferView(l))return l.buffer;if(P.isURLSearchParams(l))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return un(l,this.formSerializer).toString();if((u=P.isFileList(l))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ma(u?{"files[]":l}:l,h&&new h,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),bn(l)):l}],transformResponse:[function(l){const r=this.transitional||$a.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(l)||P.isReadableStream(l))return l;if(l&&P.isString(l)&&(s&&!this.responseType||i)){const n=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(l,this.parseReviver)}catch(u){if(n)throw u.name==="SyntaxError"?Z.from(u,Z.ERR_BAD_RESPONSE,this,null,this.response):u}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],a=>{$a.headers[a]={}});const Ba=$a,xn=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gn=a=>{const l={};let r,s,i;return a&&a.split(`
`).forEach(function(n){i=n.indexOf(":"),r=n.substring(0,i).trim().toLowerCase(),s=n.substring(i+1).trim(),!(!r||l[r]&&xn[r])&&(r==="set-cookie"?l[r]?l[r].push(s):l[r]=[s]:l[r]=l[r]?l[r]+", "+s:s)}),l},tr=Symbol("internals");function Ct(a){return a&&String(a).trim().toLowerCase()}function Xt(a){return a===!1||a==null?a:P.isArray(a)?a.map(Xt):String(a)}function fn(a){const l=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(a);)l[s[1]]=s[2];return l}const vn=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ba(a,l,r,s,i){if(P.isFunction(s))return s.call(this,l,r);if(i&&(l=r),!!P.isString(l)){if(P.isString(s))return l.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(l)}}function Nn(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,r,s)=>r.toUpperCase()+s)}function yn(a,l){const r=P.toCamelCase(" "+l);["get","set","has"].forEach(s=>{Object.defineProperty(a,s+r,{value:function(i,o,n){return this[s].call(this,l,i,o,n)},configurable:!0})})}class ua{constructor(l){l&&this.set(l)}set(l,r,s){const i=this;function o(u,h,d){const c=Ct(h);if(!c)throw new Error("header name must be a non-empty string");const p=P.findKey(i,c);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||h]=Xt(u))}const n=(u,h)=>P.forEach(u,(d,c)=>o(d,c,h));if(P.isPlainObject(l)||l instanceof this.constructor)n(l,r);else if(P.isString(l)&&(l=l.trim())&&!vn(l))n(gn(l),r);else if(P.isObject(l)&&P.isIterable(l)){let u={},h,d;for(const c of l){if(!P.isArray(c))throw TypeError("Object iterator must return a key-value pair");u[d=c[0]]=(h=u[d])?P.isArray(h)?[...h,c[1]]:[h,c[1]]:c[1]}n(u,r)}else l!=null&&o(r,l,s);return this}get(l,r){if(l=Ct(l),l){const s=P.findKey(this,l);if(s){const i=this[s];if(!r)return i;if(r===!0)return fn(i);if(P.isFunction(r))return r.call(this,i,s);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,r){if(l=Ct(l),l){const s=P.findKey(this,l);return!!(s&&this[s]!==void 0&&(!r||ba(this,this[s],s,r)))}return!1}delete(l,r){const s=this;let i=!1;function o(n){if(n=Ct(n),n){const u=P.findKey(s,n);u&&(!r||ba(s,s[u],u,r))&&(delete s[u],i=!0)}}return P.isArray(l)?l.forEach(o):o(l),i}clear(l){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const o=r[s];(!l||ba(this,this[o],o,l,!0))&&(delete this[o],i=!0)}return i}normalize(l){const r=this,s={};return P.forEach(this,(i,o)=>{const n=P.findKey(s,o);if(n){r[n]=Xt(i),delete r[o];return}const u=l?Nn(o):String(o).trim();u!==o&&delete r[o],r[u]=Xt(i),s[u]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const r=Object.create(null);return P.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=l&&P.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,r])=>l+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...r){const s=new this(l);return r.forEach(i=>s.set(i)),s}static accessor(l){const s=(this[tr]=this[tr]={accessors:{}}).accessors,i=this.prototype;function o(n){const u=Ct(n);s[u]||(yn(i,n),s[u]=!0)}return P.isArray(l)?l.forEach(o):o(l),this}}ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(ua.prototype,({value:a},l)=>{let r=l[0].toUpperCase()+l.slice(1);return{get:()=>a,set(s){this[r]=s}}});P.freezeMethods(ua);const Me=ua;function xa(a,l){const r=this||Ba,s=l||r,i=Me.from(s.headers);let o=s.data;return P.forEach(a,function(u){o=u.call(r,o,i.normalize(),l?l.status:void 0)}),i.normalize(),o}function Ur(a){return!!(a&&a.__CANCEL__)}function wt(a,l,r){Z.call(this,a??"canceled",Z.ERR_CANCELED,l,r),this.name="CanceledError"}P.inherits(wt,Z,{__CANCEL__:!0});function qr(a,l,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?a(r):l(new Z("Request failed with status code "+r.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wn(a){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return l&&l[1]||""}function kn(a,l){a=a||10;const r=new Array(a),s=new Array(a);let i=0,o=0,n;return l=l!==void 0?l:1e3,function(h){const d=Date.now(),c=s[o];n||(n=d),r[i]=h,s[i]=d;let p=o,f=0;for(;p!==i;)f+=r[p++],p=p%a;if(i=(i+1)%a,i===o&&(o=(o+1)%a),d-n<l)return;const _=c&&d-c;return _?Math.round(f*1e3/_):void 0}}function Cn(a,l){let r=0,s=1e3/l,i,o;const n=(d,c=Date.now())=>{r=c,i=null,o&&(clearTimeout(o),o=null),a(...d)};return[(...d)=>{const c=Date.now(),p=c-r;p>=s?n(d,c):(i=d,o||(o=setTimeout(()=>{o=null,n(i)},s-p)))},()=>i&&n(i)]}const ta=(a,l,r=3)=>{let s=0;const i=kn(50,250);return Cn(o=>{const n=o.loaded,u=o.lengthComputable?o.total:void 0,h=n-s,d=i(h),c=n<=u;s=n;const p={loaded:n,total:u,progress:u?n/u:void 0,bytes:h,rate:d||void 0,estimated:d&&u&&c?(u-n)/d:void 0,event:o,lengthComputable:u!=null,[l?"download":"upload"]:!0};a(p)},r)},ar=(a,l)=>{const r=a!=null;return[s=>l[0]({lengthComputable:r,total:a,loaded:s}),l[1]]},rr=a=>(...l)=>P.asap(()=>a(...l)),Sn=Ce.hasStandardBrowserEnv?((a,l)=>r=>(r=new URL(r,Ce.origin),a.protocol===r.protocol&&a.host===r.host&&(l||a.port===r.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,_n=Ce.hasStandardBrowserEnv?{write(a,l,r,s,i,o){const n=[a+"="+encodeURIComponent(l)];P.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),P.isString(s)&&n.push("path="+s),P.isString(i)&&n.push("domain="+i),o===!0&&n.push("secure"),document.cookie=n.join("; ")},read(a){const l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function An(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function En(a,l){return l?a.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):a}function Gr(a,l,r){let s=!An(l);return a&&(s||r==!1)?En(a,l):l}const lr=a=>a instanceof Me?{...a}:a;function pt(a,l){l=l||{};const r={};function s(d,c,p,f){return P.isPlainObject(d)&&P.isPlainObject(c)?P.merge.call({caseless:f},d,c):P.isPlainObject(c)?P.merge({},c):P.isArray(c)?c.slice():c}function i(d,c,p,f){if(P.isUndefined(c)){if(!P.isUndefined(d))return s(void 0,d,p,f)}else return s(d,c,p,f)}function o(d,c){if(!P.isUndefined(c))return s(void 0,c)}function n(d,c){if(P.isUndefined(c)){if(!P.isUndefined(d))return s(void 0,d)}else return s(void 0,c)}function u(d,c,p){if(p in l)return s(d,c);if(p in a)return s(void 0,d)}const h={url:o,method:o,data:o,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:u,headers:(d,c,p)=>i(lr(d),lr(c),p,!0)};return P.forEach(Object.keys({...a,...l}),function(c){const p=h[c]||i,f=p(a[c],l[c],c);P.isUndefined(f)&&p!==u||(r[c]=f)}),r}const Vr=a=>{const l=pt({},a);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:n,auth:u}=l;if(l.headers=n=Me.from(n),l.url=Mr(Gr(l.baseURL,l.url,l.allowAbsoluteUrls),a.params,a.paramsSerializer),u&&n.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),P.isFormData(r)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const h=r.getHeaders(),d=["content-type","content-length"];Object.entries(h).forEach(([c,p])=>{d.includes(c.toLowerCase())&&n.set(c,p)})}}if(Ce.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(l)),s||s!==!1&&Sn(l.url))){const h=i&&o&&_n.read(o);h&&n.set(i,h)}return l},Dn=typeof XMLHttpRequest<"u",zn=Dn&&function(a){return new Promise(function(r,s){const i=Vr(a);let o=i.data;const n=Me.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:d}=i,c,p,f,_,v;function N(){_&&_(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function D(){if(!C)return;const g=Me.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:g,config:a,request:C};qr(function(U){r(U),N()},function(U){s(U),N()},z),C=null}"onloadend"in C?C.onloadend=D:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(D)},C.onabort=function(){C&&(s(new Z("Request aborted",Z.ECONNABORTED,a,C)),C=null)},C.onerror=function(k){const z=k&&k.message?k.message:"Network Error",S=new Z(z,Z.ERR_NETWORK,a,C);S.event=k||null,s(S),C=null},C.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||$r;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),s(new Z(k,z.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,a,C)),C=null},o===void 0&&n.setContentType(null),"setRequestHeader"in C&&P.forEach(n.toJSON(),function(k,z){C.setRequestHeader(z,k)}),P.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),u&&u!=="json"&&(C.responseType=i.responseType),d&&([f,v]=ta(d,!0),C.addEventListener("progress",f)),h&&C.upload&&([p,_]=ta(h),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(c=g=>{C&&(s(!g||g.type?new wt(null,a,C):g),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const T=wn(i.url);if(T&&Ce.protocols.indexOf(T)===-1){s(new Z("Unsupported protocol "+T+":",Z.ERR_BAD_REQUEST,a));return}C.send(o||null)})},Tn=(a,l)=>{const{length:r}=a=a?a.filter(Boolean):[];if(l||r){let s=new AbortController,i;const o=function(d){if(!i){i=!0,u();const c=d instanceof Error?d:this.reason;s.abort(c instanceof Z?c:new wt(c instanceof Error?c.message:c))}};let n=l&&setTimeout(()=>{n=null,o(new Z(`timeout ${l} of ms exceeded`,Z.ETIMEDOUT))},l);const u=()=>{a&&(n&&clearTimeout(n),n=null,a.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),a=null)};a.forEach(d=>d.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>P.asap(u),h}},In=Tn,Ln=function*(a,l){let r=a.byteLength;if(!l||r<l){yield a;return}let s=0,i;for(;s<r;)i=s+l,yield a.slice(s,i),s=i},jn=async function*(a,l){for await(const r of Pn(a))yield*Ln(r,l)},Pn=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const l=a.getReader();try{for(;;){const{done:r,value:s}=await l.read();if(r)break;yield s}}finally{await l.cancel()}},sr=(a,l,r,s)=>{const i=jn(a,l);let o=0,n,u=h=>{n||(n=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:d,value:c}=await i.next();if(d){u(),h.close();return}let p=c.byteLength;if(r){let f=o+=p;r(f)}h.enqueue(new Uint8Array(c))}catch(d){throw u(d),d}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},nr=64*1024,{isFunction:Ht}=P,Fn=(({Request:a,Response:l})=>({Request:a,Response:l}))(P.global),{ReadableStream:ir,TextEncoder:or}=P.global,cr=(a,...l)=>{try{return!!a(...l)}catch{return!1}},Rn=a=>{a=P.merge.call({skipUndefined:!0},Fn,a);const{fetch:l,Request:r,Response:s}=a,i=l?Ht(l):typeof fetch=="function",o=Ht(r),n=Ht(s);if(!i)return!1;const u=i&&Ht(ir),h=i&&(typeof or=="function"?(v=>N=>v.encode(N))(new or):async v=>new Uint8Array(await new r(v).arrayBuffer())),d=o&&u&&cr(()=>{let v=!1;const N=new r(Ce.origin,{body:new ir,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),c=n&&u&&cr(()=>P.isReadableStream(new s("").body)),p={stream:c&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!p[v]&&(p[v]=(N,C)=>{let D=N&&N[v];if(D)return D.call(N);throw new Z(`Response type '${v}' is not supported`,Z.ERR_NOT_SUPPORT,C)})});const f=async v=>{if(v==null)return 0;if(P.isBlob(v))return v.size;if(P.isSpecCompliantForm(v))return(await new r(Ce.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(P.isArrayBufferView(v)||P.isArrayBuffer(v))return v.byteLength;if(P.isURLSearchParams(v)&&(v=v+""),P.isString(v))return(await h(v)).byteLength},_=async(v,N)=>{const C=P.toFiniteNumber(v.getContentLength());return C??f(N)};return async v=>{let{url:N,method:C,data:D,signal:T,cancelToken:g,timeout:k,onDownloadProgress:z,onUploadProgress:S,responseType:U,headers:L,withCredentials:w="same-origin",fetchOptions:I}=Vr(v),x=l||fetch;U=U?(U+"").toLowerCase():"text";let F=In([T,g&&g.toAbortSignal()],k),y=null;const m=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let E;try{if(S&&d&&C!=="get"&&C!=="head"&&(E=await _(L,D))!==0){let X=new r(N,{method:"POST",body:D,duplex:"half"}),re;if(P.isFormData(D)&&(re=X.headers.get("content-type"))&&L.setContentType(re),X.body){const[R,G]=ar(E,ta(rr(S)));D=sr(X.body,nr,R,G)}}P.isString(w)||(w=w?"include":"omit");const M=o&&"credentials"in r.prototype,O={...I,signal:F,method:C.toUpperCase(),headers:L.normalize().toJSON(),body:D,duplex:"half",credentials:M?w:void 0};y=o&&new r(N,O);let q=await(o?x(y,I):x(N,O));const J=c&&(U==="stream"||U==="response");if(c&&(z||J&&m)){const X={};["status","statusText","headers"].forEach(A=>{X[A]=q[A]});const re=P.toFiniteNumber(q.headers.get("content-length")),[R,G]=z&&ar(re,ta(rr(z),!0))||[];q=new s(sr(q.body,nr,R,()=>{G&&G(),m&&m()}),X)}U=U||"text";let H=await p[P.findKey(p,U)||"text"](q,v);return!J&&m&&m(),await new Promise((X,re)=>{qr(X,re,{data:H,headers:Me.from(q.headers),status:q.status,statusText:q.statusText,config:v,request:y})})}catch(M){throw m&&m(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,v,y),{cause:M.cause||M}):Z.from(M,M&&M.code,v,y)}}},On=new Map,Jr=a=>{let l=a?a.env:{};const{fetch:r,Request:s,Response:i}=l,o=[s,i,r];let n=o.length,u=n,h,d,c=On;for(;u--;)h=o[u],d=c.get(h),d===void 0&&c.set(h,d=u?new Map:Rn(l)),c=d;return d};Jr();const za={http:Qs,xhr:zn,fetch:{get:Jr}};P.forEach(za,(a,l)=>{if(a){try{Object.defineProperty(a,"name",{value:l})}catch{}Object.defineProperty(a,"adapterName",{value:l})}});const dr=a=>`- ${a}`,Mn=a=>P.isFunction(a)||a===null||a===!1,Hr={getAdapter:(a,l)=>{a=P.isArray(a)?a:[a];const{length:r}=a;let s,i;const o={};for(let n=0;n<r;n++){s=a[n];let u;if(i=s,!Mn(s)&&(i=za[(u=String(s)).toLowerCase()],i===void 0))throw new Z(`Unknown adapter '${u}'`);if(i&&(P.isFunction(i)||(i=i.get(l))))break;o[u||"#"+n]=i}if(!i){const n=Object.entries(o).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=r?n.length>1?`since :
`+n.map(dr).join(`
`):" "+dr(n[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:za};function ga(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new wt(null,a)}function mr(a){return ga(a),a.headers=Me.from(a.headers),a.data=xa.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Hr.getAdapter(a.adapter||Ba.adapter,a)(a).then(function(s){return ga(a),s.data=xa.call(a,a.transformResponse,s),s.headers=Me.from(s.headers),s},function(s){return Ur(s)||(ga(a),s&&s.response&&(s.response.data=xa.call(a,a.transformResponse,s.response),s.response.headers=Me.from(s.response.headers))),Promise.reject(s)})}const Wr="1.12.2",ha={};["object","boolean","number","function","string","symbol"].forEach((a,l)=>{ha[a]=function(s){return typeof s===a||"a"+(l<1?"n ":" ")+a}});const ur={};ha.transitional=function(l,r,s){function i(o,n){return"[Axios v"+Wr+"] Transitional option '"+o+"'"+n+(s?". "+s:"")}return(o,n,u)=>{if(l===!1)throw new Z(i(n," has been removed"+(r?" in "+r:"")),Z.ERR_DEPRECATED);return r&&!ur[n]&&(ur[n]=!0,console.warn(i(n," has been deprecated since v"+r+" and will be removed in the near future"))),l?l(o,n,u):!0}};ha.spelling=function(l){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${l}`),!0)};function $n(a,l,r){if(typeof a!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const s=Object.keys(a);let i=s.length;for(;i-- >0;){const o=s[i],n=l[o];if(n){const u=a[o],h=u===void 0||n(u,o,a);if(h!==!0)throw new Z("option "+o+" must be "+h,Z.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}}const Kt={assertOptions:$n,validators:ha},Je=Kt.validators;class aa{constructor(l){this.defaults=l||{},this.interceptors={request:new er,response:new er}}async request(l,r){try{return await this._request(l,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(l,r){typeof l=="string"?(r=r||{},r.url=l):r=l||{},r=pt(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:o}=r;s!==void 0&&Kt.assertOptions(s,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:Kt.assertOptions(i,{encode:Je.function,serialize:Je.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Kt.assertOptions(r,{baseUrl:Je.spelling("baseURL"),withXsrfToken:Je.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=o&&P.merge(o.common,o[r.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),r.headers=Me.concat(n,o);const u=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(h=h&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const d=[];this.interceptors.response.forEach(function(N){d.push(N.fulfilled,N.rejected)});let c,p=0,f;if(!h){const v=[mr.bind(this),void 0];for(v.unshift(...u),v.push(...d),f=v.length,c=Promise.resolve(r);p<f;)c=c.then(v[p++],v[p++]);return c}f=u.length;let _=r;for(;p<f;){const v=u[p++],N=u[p++];try{_=v(_)}catch(C){N.call(this,C);break}}try{c=mr.call(this,_)}catch(v){return Promise.reject(v)}for(p=0,f=d.length;p<f;)c=c.then(d[p++],d[p++]);return c}getUri(l){l=pt(this.defaults,l);const r=Gr(l.baseURL,l.url,l.allowAbsoluteUrls);return Mr(r,l.params,l.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(l){aa.prototype[l]=function(r,s){return this.request(pt(s||{},{method:l,url:r,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(l){function r(s){return function(o,n,u){return this.request(pt(u||{},{method:l,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:n}))}}aa.prototype[l]=r(),aa.prototype[l+"Form"]=r(!0)});const Qt=aa;class Ua{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const n=new Promise(u=>{s.subscribe(u),o=u}).then(i);return n.cancel=function(){s.unsubscribe(o)},n},l(function(o,n,u){s.reason||(s.reason=new wt(o,n,u),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const r=this._listeners.indexOf(l);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const l=new AbortController,r=s=>{l.abort(s)};return this.subscribe(r),l.signal.unsubscribe=()=>this.unsubscribe(r),l.signal}static source(){let l;return{token:new Ua(function(i){l=i}),cancel:l}}}const Bn=Ua;function Un(a){return function(r){return a.apply(null,r)}}function qn(a){return P.isObject(a)&&a.isAxiosError===!0}const Ta={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ta).forEach(([a,l])=>{Ta[l]=a});const Gn=Ta;function Yr(a){const l=new Qt(a),r=Ar(Qt.prototype.request,l);return P.extend(r,Qt.prototype,l,{allOwnKeys:!0}),P.extend(r,l,null,{allOwnKeys:!0}),r.create=function(i){return Yr(pt(a,i))},r}const ge=Yr(Ba);ge.Axios=Qt;ge.CanceledError=wt;ge.CancelToken=Bn;ge.isCancel=Ur;ge.VERSION=Wr;ge.toFormData=ma;ge.AxiosError=Z;ge.Cancel=ge.CanceledError;ge.all=function(l){return Promise.all(l)};ge.spread=Un;ge.isAxiosError=qn;ge.mergeConfig=pt;ge.AxiosHeaders=Me;ge.formToJSON=a=>Br(P.isHTMLForm(a)?new FormData(a):a);ge.getAdapter=Hr.getAdapter;ge.HttpStatusCode=Gn;ge.default=ge;const Oe=ge,Xr=b.createContext(),qa=()=>{const a=b.useContext(Xr);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},Vn=({children:a})=>{const[l,r]=b.useState(null),[s,i]=b.useState(!0),[o,n]=b.useState(localStorage.getItem("token"));b.useEffect(()=>{o?Oe.defaults.headers.common.Authorization=`Bearer ${o}`:delete Oe.defaults.headers.common.Authorization},[o]),b.useEffect(()=>{(async()=>{if(o)try{const _=(await Oe.get("/api/users")).data,v=_.find(N=>N.username==="admin")||_[0];if(v)r({id:v.id.toString(),username:v.username,email:v.email,fullName:v.full_name||v.username,role:v.role,avatar:v.avatar,status:"active",lastLogin:new Date().toISOString()});else{const N={id:"1",username:"admin",email:"admin@cashpot-v7.com",fullName:"Administrator Sistem",role:"admin",avatar:null,status:"active",lastLogin:new Date().toISOString()};r(N)}}catch(f){console.error("Auth verification failed:",f),localStorage.removeItem("token"),n(null),r(null),window.location.href="/login"}else window.location.pathname!=="/login"&&(window.location.href="/login");i(!1)})()},[o]);const c={user:l,token:o,loading:s,login:async(p,f)=>{var _,v;try{i(!0);const N=await Oe.post("/api/auth/login",{username:p,password:f}),{token:C,user:D}=N.data;return localStorage.setItem("token",C),n(C),r(D),Re.success(`Bun venit, ${D.fullName}!`),{success:!0}}catch(N){const C=((v=(_=N.response)==null?void 0:_.data)==null?void 0:v.message)||"Eroare la autentificare";return Re.error(C),{success:!1,error:C}}finally{i(!1)}},logout:()=>{localStorage.removeItem("token"),n(null),r(null),delete Oe.defaults.headers.common.Authorization,Re.success("V-ați deconectat cu succes!")},updateUser:p=>{r(p)},isAuthenticated:!!l};return e(Xr.Provider,{value:c,children:a})},Kr=b.createContext(),te=()=>{const a=b.useContext(Kr);if(!a)throw new Error("useData must be used within DataProvider");return a},Jn=({children:a})=>{const[l,r]=b.useState([]),[s,i]=b.useState([]),[o,n]=b.useState([]),[u,h]=b.useState([]),[d,c]=b.useState([]),[p,f]=b.useState([]),[_,v]=b.useState([]),[N,C]=b.useState([]),[D,T]=b.useState([]),[g,k]=b.useState([]),[z,S]=b.useState([]),[U,L]=b.useState([]),[w,I]=b.useState([]),[x,F]=b.useState([]),[y,m]=b.useState([]),[E,M]=b.useState(!1),O={totalCompanies:l.length,totalLocations:s.length,totalProviders:o.length,totalCabinets:d.length,totalGameMixes:p.length,totalSlots:_.length,totalWarehouse:N.length,totalMetrology:D.length,totalJackpots:g.length,totalInvoices:z.length,totalOnjnReports:U.length,totalLegalDocuments:w.length,totalUsers:x.length,totalGames:y.length},q={companies:{state:l,setState:r},locations:{state:s,setState:i},providers:{state:o,setState:n},platforms:{state:u,setState:h},cabinets:{state:d,setState:c},gameMixes:{state:p,setState:f},slots:{state:_,setState:v},warehouse:{state:N,setState:C},metrology:{state:D,setState:T},jackpots:{state:g,setState:k},invoices:{state:z,setState:S},onjnReports:{state:U,setState:L},legalDocuments:{state:w,setState:I},users:{state:x,setState:F},games:{state:y,setState:m}},J=async()=>{console.log("🔄 Starting to fetch all data..."),M(!0);try{const A=Object.keys(q),V=3,W=[];for(let Y=0;Y<A.length;Y+=V)W.push(A.slice(Y,Y+V));for(const Y of W){console.log(`🔄 Fetching batch: ${Y.join(", ")}`);const be=Y.map(ve=>Oe.get(`/api/${ve}`,{timeout:1e4}).catch(Pe=>(console.error(`❌ Error fetching ${ve}:`,Pe),{data:[]})));(await Promise.all(be)).forEach((ve,Pe)=>{const qe=Y[Pe],Ge=Array.isArray(ve.data)?ve.data:[];console.log(`✅ ${qe}: ${Ge.length} items`),q[qe].setState(Ge)}),W.indexOf(Y)<W.length-1&&await new Promise(ve=>setTimeout(ve,100))}}catch(A){console.error("Error fetching data:",A),Re.error("Eroare la încărcarea datelor")}finally{console.log("✅ Data fetching completed"),M(!1)}};b.useEffect(()=>{console.log("🚀 DataContext useEffect triggered"),J()},[]);const G={companies:l,locations:s,providers:o,platforms:u,cabinets:d,gameMixes:p,slots:_,warehouse:N,metrology:D,jackpots:g,invoices:z,onjnReports:U,legalDocuments:w,users:x,games:y,loading:E,statistics:O,createItem:async(A,V)=>{try{const W=await Oe.post(`/api/${A}`,V);if(W.data){const Y=W.data;return q[A].setState(be=>[Y,...be]),Re.success("Adăugat cu succes!"),{success:!0,data:Y}}}catch(W){return console.error(`Error creating ${A}:`,W),Re.error("Eroare la adăugare!"),{success:!1,error:W.message}}},updateItem:async(A,V,W)=>{try{const Y=await Oe.put(`/api/${A}/${V}`,W);if(Y.data){const be=Y.data;return q[A].setState(Ee=>Ee.map(ve=>ve.id===V?{...ve,...be}:ve)),Re.success("Actualizat cu succes!"),{success:!0,data:be}}}catch(Y){return console.error(`Error updating ${A}:`,Y),Re.error("Eroare la actualizare!"),{success:!1,error:Y.message}}},deleteItem:async(A,V)=>{try{return await Oe.delete(`/api/${A}/${V}`),q[A].setState(W=>W.filter(Y=>Y.id!==V)),Re.success("Șters cu succes!"),{success:!0}}catch(W){return console.error(`Error deleting ${A}:`,W),Re.error("Eroare la ștergere!"),{success:!1,error:W.message}}},exportData:A=>{const V=q[A].state,W=JSON.stringify(V,null,2),Y=new Blob([W],{type:"application/json"}),be=URL.createObjectURL(Y),Ee=document.createElement("a");Ee.href=be,Ee.download=`${A}-${new Date().toISOString().split("T")[0]}.json`,Ee.click(),Re.success("Exportat cu succes!")},refreshData:J};return e(Kr.Provider,{value:G,children:a})},Hn=()=>{var k,z,S,U,L,w,I,x,F,y,m,E,M,O;const{login:a,isAuthenticated:l,loading:r}=qa(),[s,i]=b.useState({username:"",password:""}),[o,n]=b.useState(!1),[u,h]=b.useState(!1),[d,c]=b.useState(!1),[p,f]=b.useState({logo:{type:"upload",url:"",file:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},loginTexts:{title:"Welcome Back",emailLabel:"Email Address",passwordLabel:"Password",buttonText:"Sign In to CASHPOT",forgotPassword:"Forgot your password?",termsText:"By signing in, you agree to our Terms of Service and Privacy Policy",joinText:"New to CASHPOT? Create Account",supportText:"Need assistance? Contact our support team"}});b.useEffect(()=>{const q=localStorage.getItem("appSettings");if(q){const H=JSON.parse(q);f({logo:H.logo||p.logo,loginImage:H.loginImage||p.loginImage,loginButtonColor:H.loginButtonColor||p.loginButtonColor,loginPageColor:H.loginPageColor||p.loginPageColor,loginCardColor:H.loginCardColor||p.loginCardColor,loginTextColor:H.loginTextColor||p.loginTextColor,loginTexts:H.loginTexts||p.loginTexts})}const J=localStorage.getItem("savedCredentials");if(J){const H=JSON.parse(J);i({username:H.username||"",password:H.password||""}),c(!0)}},[]),b.useEffect(()=>{l&&(window.location.href="/dashboard")},[l]);const _=q=>{i({...s,[q.target.name]:q.target.value})},v=async q=>{q.preventDefault(),h(!0),(await a(s.username,s.password)).success&&(d?localStorage.setItem("savedCredentials",JSON.stringify({username:s.username,password:s.password})):localStorage.removeItem("savedCredentials"),window.location.href="/dashboard"),h(!1)};if(l)return e(va,{to:"/dashboard",replace:!0});const N=p.logo.file||p.logo.url||"/favicon.svg",C=p.loginImage.file||p.loginImage.url||"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200&q=80",D=p.loginButtonColor.useGradient?{background:`linear-gradient(to right, ${p.loginButtonColor.primary}, ${p.loginButtonColor.secondary})`}:{backgroundColor:p.loginButtonColor.primary},T=p.loginPageColor.useGradient?{background:`linear-gradient(to right, ${p.loginPageColor.primary}, ${p.loginPageColor.secondary})`}:{backgroundColor:p.loginPageColor.primary},g=(k=p.loginCardColor)!=null&&k.useGradient?{background:`linear-gradient(to right, ${p.loginCardColor.primary}, ${p.loginCardColor.secondary})`}:{backgroundColor:((z=p.loginCardColor)==null?void 0:z.primary)||"#8B5CF6"};return t("div",{className:"min-h-screen flex",children:[e("div",{className:"w-full lg:w-1/2 flex items-center justify-center pt-16",style:T,children:t("div",{className:"w-full max-w-lg px-8 lg:px-16",children:[t("div",{className:"rounded-2xl shadow-2xl p-16",style:g,children:[t("div",{className:"flex flex-col items-center mb-12",children:[e("img",{src:N,alt:"Logo",className:"h-20 md:h-24 object-contain mb-4",onError:q=>{q.target.src="/favicon.svg"}}),e("h1",{className:"text-2xl md:text-3xl font-bold text-white text-center",children:((S=p.loginTexts)==null?void 0:S.title)||"Welcome Back"}),e("p",{className:"text-white/80 text-center mt-2",children:"Access your CASHPOT dashboard"})]}),t("form",{onSubmit:v,className:"space-y-6",children:[t("div",{className:"space-y-2",children:[t("label",{className:"block text-sm font-semibold text-white",children:[((U=p.loginTexts)==null?void 0:U.emailLabel)||"Email",e("span",{className:"text-red-300",children:"*"})]}),e("input",{type:"text",name:"username",value:s.username,onChange:_,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your@email.com",required:!0,disabled:u})]}),t("div",{className:"space-y-2",children:[t("label",{className:"block text-sm font-semibold text-white",children:[((L=p.loginTexts)==null?void 0:L.passwordLabel)||"Password",e("span",{className:"text-red-300",children:"*"})]}),t("div",{className:"relative",children:[e("input",{type:o?"text":"password",name:"password",value:s.password,onChange:_,className:"w-full px-4 py-3 pr-12 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••",required:!0,disabled:u}),e("button",{type:"button",onClick:()=>n(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",disabled:u,children:o?e(Na,{size:20}):e(ke,{size:20})})]})]}),e("div",{className:"flex items-center justify-between",children:t("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:d,onChange:q=>c(q.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",disabled:u}),e("span",{className:"text-sm text-white font-medium",children:"Remember Password"})]})}),e("button",{type:"submit",disabled:u||r,className:"w-full py-3 rounded-lg text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:D,children:u||r?t("div",{className:"flex items-center justify-center space-x-2",children:[e("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("span",{children:((w=p.loginTexts)==null?void 0:w.buttonText)||"Log In"})]}):((I=p.loginTexts)==null?void 0:I.buttonText)||"Log In"})]})]}),e("div",{className:"mt-8 text-center",children:e("a",{href:"#",className:"text-sm text-orange-500 hover:text-orange-600 font-medium hover:underline",children:((x=p.loginTexts)==null?void 0:x.forgotPassword)||"Forgot Password?"})}),e("div",{className:"mt-6 text-xs text-center",style:{color:((F=p.loginTextColor)==null?void 0:F.text)||"#64748b"},children:((y=p.loginTexts)==null?void 0:y.termsText)||"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement"}),e("div",{className:"mt-4 text-center text-sm",style:{color:((m=p.loginTextColor)==null?void 0:m.text)||"#64748b"},children:e("span",{dangerouslySetInnerHTML:{__html:(((E=p.loginTexts)==null?void 0:E.joinText)||"New to CASHPOT? Create Account").replace(/Create Account/g,'<a href="#" class="text-orange-500 hover:text-orange-600 font-semibold hover:underline">Create Account</a>')}})}),e("div",{className:"mt-4 text-xs text-center",style:{color:((M=p.loginTextColor)==null?void 0:M.text)||"#64748b"},children:((O=p.loginTexts)==null?void 0:O.supportText)||"Need help? Contact us at login-support@in.group"})]})}),e("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-8",style:T,children:e("div",{className:"w-full h-full rounded-3xl overflow-hidden shadow-2xl",children:e("img",{src:C,alt:"Login Background",className:"w-full h-full object-cover",onError:q=>{q.target.src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200&q=80"}})})})]})},oe=({children:a})=>{const[l,r]=b.useState(!0),{user:s,logout:i}=qa(),{companies:o,locations:n,providers:u,platforms:h,cabinets:d,gameMixes:c,slots:p,warehouse:f,metrology:_,jackpots:v,invoices:N,onjnReports:C,legalDocuments:D,users:T}=te(),{theme:g,toggleTheme:k}=ms(),z=tl(),[S,U]=fa.useState({logo:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System"});fa.useEffect(()=>{const I=localStorage.getItem("appSettings");if(I){const x=JSON.parse(I);U({logo:x.logo||S.logo,headerColor:x.headerColor||S.headerColor,appTitle:x.appTitle||S.appTitle,appSubtitle:x.appSubtitle||S.appSubtitle})}},[]);const L=[{id:"dashboard",label:"Dashboard",icon:_e,path:"/dashboard",count:null},{id:"companies",label:"Companii",icon:fe,path:"/companies",count:o.length},{id:"locations",label:"Locații",icon:je,path:"/locations",count:n.length},{id:"providers",label:"Furnizori",icon:$e,path:"/providers",count:u.length},{id:"cabinets",label:"Cabinete",icon:Se,path:"/cabinets",count:d.length},{id:"game-mixes",label:"Game Mixes",icon:ft,path:"/game-mixes",count:c.length},{id:"slots",label:"Sloturi",icon:_e,path:"/slots",count:p.length},{id:"slots-history",label:"Istoric Sloturi",icon:Ia,path:"/slots/history",count:null},{id:"warehouse",label:"Depozit",icon:Zt,path:"/warehouse",count:f.length},{id:"metrology",label:"Metrologie CVT",icon:Be,path:"/metrology",count:_.length},{id:"jackpots",label:"Jackpots",icon:ut,path:"/jackpots",count:v.length},{id:"invoices",label:"Facturi",icon:ee,path:"/invoices",count:N.length},{id:"onjn-reports",label:"Rapoarte ONJN",icon:At,path:"/onjn-reports",count:C.length},{id:"legal-documents",label:"Documente Legale",icon:ee,path:"/legal-documents",count:D.length},{id:"users",label:"Utilizatori",icon:$e,path:"/users",count:T.length},{id:"settings",label:"Setări",icon:Ye,path:"/settings",count:null}];L.find(I=>I.path===z.pathname);const w=g==="dark"?{background:"linear-gradient(to right, #1e293b, #0f172a)"}:S.headerColor.useGradient?{background:`linear-gradient(to right, ${S.headerColor.primary}, ${S.headerColor.secondary})`}:{backgroundColor:S.headerColor.primary};return t("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e("div",{className:`fixed top-0 left-0 right-0 backdrop-blur-xl border-b text-white px-4 md:px-6 py-3 md:py-4 z-30 shadow-2xl ${g==="dark"?"border-slate-700/50 shadow-slate-900/20":"border-white/20 shadow-blue-500/10"}`,style:w,children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e("button",{onClick:()=>r(!l),className:`p-2 rounded-xl transition-all duration-200 hover:shadow-lg ${g==="dark"?"hover:bg-slate-700/80":"hover:bg-slate-100/80"}`,children:e(ll,{size:20})}),t("div",{className:"flex items-center",children:[S.logo.file||S.logo.url?e("img",{src:S.logo.file||S.logo.url,alt:"Logo",className:"h-8 md:h-12 object-contain",onError:I=>{I.target.style.display="none",I.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl flex items-center justify-center shadow-xl shadow-orange-500/30 ring-2 ring-orange-200/50",style:{display:S.logo.file||S.logo.url?"none":"flex"},children:e("span",{className:"text-white font-bold text-base md:text-xl",children:"C"})})]})]}),t("div",{className:"flex items-center space-x-2 md:space-x-4",children:[t("div",{className:"hidden md:block text-right",children:[e("div",{className:"text-white font-semibold text-sm",children:new Date().toLocaleString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e("div",{className:"text-white/70 text-xs",children:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"🖥️ Local":"☁️ Online"})]}),e("button",{onClick:k,className:"p-2 rounded-xl hover:bg-white/20 transition-all duration-200 hover:shadow-lg group",title:g==="dark"?"Light Mode":"Dark Mode",children:g==="dark"?e(sl,{size:18,className:"group-hover:scale-110 transition-transform text-white"}):e(nl,{size:18,className:"group-hover:scale-110 transition-transform text-white"})}),t("button",{className:"p-2 rounded-xl hover:bg-white/20 transition-all duration-200 hover:shadow-lg relative hidden sm:block group",children:[e(il,{size:18,className:"group-hover:scale-110 transition-transform text-white"}),e("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-full shadow-lg animate-pulse"})]}),t("div",{className:"flex items-center space-x-3 md:space-x-4",children:[s!=null&&s.avatar?e("img",{src:s.avatar,alt:(s==null?void 0:s.fullName)||(s==null?void 0:s.username)||"Admin",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-white/50 dark:border-slate-500/50 shadow-xl object-cover"}):e("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-semibold text-base md:text-lg border-2 border-white/50 dark:border-slate-500/50 shadow-xl",children:((s==null?void 0:s.fullName)||(s==null?void 0:s.username)||"A").charAt(0).toUpperCase()}),t("div",{className:"text-sm md:text-base hidden sm:block",children:[e("div",{className:"font-semibold text-white",children:(s==null?void 0:s.fullName)||(s==null?void 0:s.username)||"Admin"}),e("div",{className:"text-white/80 text-xs md:text-sm",children:(s==null?void 0:s.role)||"Administrator"}),e("div",{className:"text-white/60 text-xs mt-1",children:new Date().toLocaleString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e("div",{className:"text-white/50 text-xs",children:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"🖥️ Local":"☁️ Online"})]})]}),e("button",{onClick:i,className:"p-2 bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-red-500/25 group",children:e(ol,{size:16,className:"group-hover:scale-110 transition-transform"})})]})]})}),e("div",{className:`${l?"w-64 md:w-72":"w-0 md:w-20"} bg-white/70 dark:bg-slate-800/90 backdrop-blur-xl border-r border-white/30 dark:border-slate-700/50 transition-all duration-300 flex flex-col mt-14 md:mt-20 shadow-2xl shadow-slate-500/10 dark:shadow-slate-900/20 fixed md:relative z-20 h-full ${l?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:e("div",{className:"flex-1 sidebar-scroll p-2 md:p-3",style:{maxHeight:"calc(100vh - 5rem)"},children:e("nav",{className:"space-y-1",children:L.map(I=>{const x=z.pathname===I.path;return t(hr,{to:I.path,onDoubleClick:()=>r(!l),className:`w-full flex items-center ${l?"justify-between":"justify-center"} p-2 md:p-3 rounded-2xl text-left transition-all duration-200 group ${x?"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-600 text-white shadow-xl shadow-blue-500/25 ring-2 ring-blue-200/50":"text-slate-700 dark:text-slate-300 hover:bg-white/60 dark:hover:bg-slate-700/60 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"}`,title:l?"":I.label,children:[t("div",{className:`flex items-center ${l?"space-x-3":"justify-center"}`,children:[e(I.icon,{className:`text-lg md:text-xl transition-transform group-hover:scale-110 ${x?"drop-shadow-lg":""}`}),l&&e("span",{className:`font-semibold text-sm md:text-base transition-colors ${x?"text-white":"text-slate-700 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-white"}`,children:I.label})]}),l&&I.count!==null&&e("span",{className:`text-xs px-3 md:px-4 py-1.5 md:py-2 rounded-full font-bold transition-all duration-200 ${x?"bg-white/20 text-white backdrop-blur-sm border border-white/30":"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-slate-600 dark:to-slate-700 text-blue-700 dark:text-slate-300 group-hover:from-blue-200 group-hover:to-indigo-200 dark:group-hover:from-slate-500 dark:group-hover:to-slate-600"}`,children:I.count})]},I.id)})})})}),l&&e("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-10 md:hidden",onClick:()=>r(!1)}),e("div",{className:"flex-1 flex flex-col overflow-hidden mt-14 md:mt-20 bg-white dark:bg-slate-900",children:e("div",{className:"flex-1 overflow-auto p-6 md:p-8 bg-slate-50 dark:bg-slate-900",children:a})})]})},tt=({title:a,value:l,icon:r,color:s,change:i,changeType:o,loading:n,size:u="medium"})=>{const h={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",indigo:"from-indigo-500 to-blue-500",emerald:"from-emerald-500 to-green-500",slate:"from-slate-500 to-gray-500",cyan:"from-cyan-500 to-blue-500",yellow:"from-yellow-500 to-orange-500",red:"from-red-500 to-pink-500",gray:"from-gray-500 to-slate-500"},d={xs:{container:"p-3",icon:"w-6 h-6",title:"text-xs",value:"text-lg",change:"text-xs"},small:{container:"p-4",icon:"w-8 h-8",title:"text-sm",value:"text-xl",change:"text-xs"},medium:{container:"p-6",icon:"w-12 h-12",title:"text-base",value:"text-3xl",change:"text-sm"},large:{container:"p-8",icon:"w-16 h-16",title:"text-lg",value:"text-4xl",change:"text-base"},"extra-large":{container:"p-10",icon:"w-20 h-20",title:"text-xl",value:"text-5xl",change:"text-lg"}},c=d[u]||d.medium,p={blue:"shadow-blue-500/25",green:"shadow-green-500/25",purple:"shadow-purple-500/25",orange:"shadow-orange-500/25",indigo:"shadow-indigo-500/25",emerald:"shadow-emerald-500/25",slate:"shadow-slate-500/25",cyan:"shadow-cyan-500/25",yellow:"shadow-yellow-500/25",red:"shadow-red-500/25",gray:"shadow-gray-500/25"};return n?t("div",{className:`card ${c.container} animate-pulse`,children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-24"}),e("div",{className:`${c.icon} bg-slate-200 dark:bg-slate-700 rounded-2xl`})]}),t("div",{className:"space-y-2",children:[e("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded w-16"}),e("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-20"})]})]}):t("div",{className:`card ${c.container} hover:shadow-2xl transition-all duration-300 hover:scale-105 group`,children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:`${c.title} font-bold text-slate-600 dark:text-slate-300 uppercase tracking-wider`,children:a}),e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${h[s]} shadow-lg ${p[s]}`,children:e(r,{className:`${c.icon} text-white`})})]}),t("div",{className:"space-y-2",children:[e("div",{className:`${c.value} font-bold text-slate-800 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors`,children:(l==null?void 0:l.toLocaleString())||0}),i&&t("div",{className:`flex items-center space-x-1 ${c.change} font-semibold ${o==="positive"?"text-green-600":"text-red-600"}`,children:[o==="positive"?e(la,{className:"w-4 h-4"}):e(cl,{className:"w-4 h-4"}),e("span",{children:i}),e("span",{className:"text-slate-500 dark:text-slate-400",children:"vs. luna trecută"})]})]})]})},Wn=()=>{const a=[{title:"Adaugă Companie",description:"Creează o companie nouă",icon:fe,path:"/companies",color:"blue",action:"add"},{title:"Adaugă Furnizor",description:"Creează un furnizor nou",icon:$e,path:"/providers",color:"green",action:"add"},{title:"Adaugă Cabinet",description:"Creează un cabinet nou",icon:Se,path:"/cabinets",color:"purple",action:"add"},{title:"Generează Raport",description:"Creează un raport ONJN",icon:ee,path:"/onjn-reports",color:"orange",action:"report"},{title:"Importă Date",description:"Importă date din Excel/CSV",icon:ue,path:"/dashboard",color:"indigo",action:"import"},{title:"Exportă Date",description:"Exportă date în Excel/CSV",icon:se,path:"/dashboard",color:"emerald",action:"export"}],l={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",indigo:"from-indigo-500 to-blue-500",emerald:"from-emerald-500 to-green-500"},r={blue:"shadow-blue-500/25",green:"shadow-green-500/25",purple:"shadow-purple-500/25",orange:"shadow-orange-500/25",indigo:"shadow-indigo-500/25",emerald:"shadow-emerald-500/25"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Acțiuni Rapide"}),e(Ye,{className:"w-6 h-6 text-slate-500 dark:text-slate-400"})]}),e("div",{className:"space-y-3",children:a.map((s,i)=>e(hr,{to:s.path,className:"block p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 hover:shadow-lg group",children:t("div",{className:"flex items-center space-x-4",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${l[s.color]} shadow-lg ${r[s.color]} group-hover:scale-110 transition-transform`,children:e(s.icon,{className:"w-5 h-5 text-white"})}),t("div",{className:"flex-1",children:[e("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:s.title}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.description})]}),e(me,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors"})]})},i))})]})},Yn=()=>{const{companies:a,locations:l,providers:r,cabinets:s,slots:i,warehouse:o,metrology:n,jackpots:u,invoices:h,onjnReports:d,legalDocuments:c}=te(),p=()=>{const T=[];return a.slice(0,2).forEach(g=>{T.push({id:`company-${g.id}`,type:"create",entity:"Companie",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:fe,color:"blue"})}),l.slice(0,2).forEach(g=>{T.push({id:`location-${g.id}`,type:"create",entity:"Locație",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:je,color:"green"})}),r.slice(0,1).forEach(g=>{T.push({id:`provider-${g.id}`,type:"update",entity:"Furnizor",name:g.name,user:g.updated_by||"Admin",time:f(g.updated_at||g.created_at),icon:$e,color:"purple"})}),c.slice(0,2).forEach(g=>{T.push({id:`legal-${g.id}`,type:"create",entity:"Document Legal",name:g.name,user:g.created_by||"Admin",time:f(g.created_at),icon:ee,color:"orange"})}),i.slice(0,1).forEach(g=>{T.push({id:`slot-${g.id}`,type:"create",entity:"Slot",name:g.name||g.serial_number,user:g.created_by||"Admin",time:f(g.created_at),icon:_e,color:"emerald"})}),T.sort((g,k)=>new Date(k.time)-new Date(g.time)).slice(0,6)},f=T=>{if(!T)return"Acum câteva minute";const g=new Date,k=new Date(T),z=Math.floor((g-k)/(1e3*60));if(z<1)return"Acum câteva secunde";if(z<60)return`Acum ${z} minute`;const S=Math.floor(z/60);if(S<24)return`Acum ${S} ore`;const U=Math.floor(S/24);return U<7?`Acum ${U} zile`:k.toLocaleDateString("ro-RO")},_=p(),v=T=>{switch(T){case"create":return me;case"update":return Te;case"delete":return De;case"report":return ee;case"jackpot":return ut;default:return Be}},N=T=>{switch(T){case"create":return"Creat";case"update":return"Actualizat";case"delete":return"Șters";case"report":return"Generat";case"jackpot":return"Câștigat";default:return"Modificat"}},C=T=>{switch(T){case"create":return"text-green-600 bg-green-100";case"update":return"text-blue-600 bg-blue-100";case"delete":return"text-red-600 bg-red-100";case"report":return"text-orange-600 bg-orange-100";case"jackpot":return"text-yellow-600 bg-yellow-100";default:return"text-slate-600 bg-slate-100"}},D={blue:"from-blue-500 to-indigo-500",green:"from-green-500 to-emerald-500",purple:"from-purple-500 to-violet-500",orange:"from-orange-500 to-amber-500",yellow:"from-yellow-500 to-orange-500",red:"from-red-500 to-pink-500"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Activitate Recentă"}),e(Be,{className:"w-6 h-6 text-blue-500 dark:text-blue-400"})]}),e("div",{className:"space-y-4",children:_.map(T=>{const g=v(T.type),k=T.icon;return t("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 group",children:[t("div",{className:"relative",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${D[T.color]} shadow-lg`,children:e(k,{className:"w-5 h-5 text-white"})}),e("div",{className:`absolute -top-1 -right-1 p-1 rounded-full ${C(T.type)}`,children:e(g,{className:"w-3 h-3"})})]}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center space-x-2 mb-1",children:[e("span",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:T.name}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${C(T.type)}`,children:N(T.type)})]}),t("div",{className:"flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e("span",{children:T.entity}),e("span",{children:"•"}),t("span",{children:["de ",T.user]}),e("span",{children:"•"}),t("div",{className:"flex items-center space-x-1",children:[e(Xe,{className:"w-3 h-3"}),e("span",{children:T.time})]})]})]})]},T.id)})}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:e("button",{className:"w-full py-3 text-blue-600 dark:text-blue-400 font-semibold hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"Vezi toată activitatea →"})})]})},Xn=()=>{const{loading:a,companies:l,locations:r,providers:s,legalDocuments:i}=te(),o=()=>{const f=[],_=l.length>0||r.length>0||s.length>0;f.push({name:"Baza de Date AWS RDS",status:_?"healthy":"warning",description:_?`Conectivitate optimă la PostgreSQL - ${l.length+r.length+s.length} înregistrări`:"Conectare în curs...",icon:Et,color:_?"green":"yellow"}),f.push({name:"API Backend",status:"healthy",description:"Toate endpoint-urile sunt disponibile",icon:Be,color:"green"}),f.push({name:"Sistem Principal",status:"healthy",description:"Toate serviciile funcționează normal",icon:pr,color:"green"});const v=l.length+r.length+s.length+i.length;f.push({name:"Integritate Date",status:v>0?"healthy":"warning",description:v>0?`${v} înregistrări active în sistem`:"Nu există date în sistem",icon:At,color:v>0?"green":"yellow"});const N=n();return f.push({name:"Ultima Activitate",status:"healthy",description:N,icon:Xe,color:"green"}),f},n=()=>{const f=[...l,...r,...s,...i];if(f.length===0)return"Sistem nou - fără activitate";const _=f.filter(g=>g.created_at||g.updated_at).sort((g,k)=>{const z=new Date(g.updated_at||g.created_at);return new Date(k.updated_at||k.created_at)-z});if(_.length===0)return"Sistem nou - fără activitate";const v=_[0],N=new Date(v.updated_at||v.created_at),D=Math.floor((new Date-N)/(1e3*60));if(D<1)return"Acum câteva secunde";if(D<60)return`Acum ${D} minute`;const T=Math.floor(D/60);return T<24?`Acum ${T} ore`:N.toLocaleDateString("ro-RO")},u=o(),h=f=>{switch(f){case"healthy":return ht;case"warning":return rt;case"error":return dl;default:return ht}},d=f=>{switch(f){case"healthy":return"text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30";case"warning":return"text-yellow-700 dark:text-yellow-300 bg-yellow-100 dark:bg-yellow-900/30";case"error":return"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30";default:return"text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-700"}},c=f=>{switch(f){case"healthy":return"Funcțional";case"warning":return"Atenție";case"error":return"Eroare";default:return"Necunoscut"}},p=f=>{switch(f){case"green":return"from-green-500 to-emerald-500 shadow-green-500/25";case"yellow":return"from-yellow-500 to-orange-500 shadow-yellow-500/25";case"red":return"from-red-500 to-pink-500 shadow-red-500/25";default:return"from-slate-500 to-gray-500 shadow-slate-500/25"}};return t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Starea Sistemului"}),t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:"Operațional"})]})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((f,_)=>{const v=h(f.status),N=f.icon;return e("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 rounded-2xl hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 group",children:t("div",{className:"flex items-start space-x-3",children:[e("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${p(f.color)} shadow-lg`,children:e(N,{className:"w-5 h-5 text-white"})}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center space-x-2 mb-2",children:[e("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:f.name}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${d(f.status)}`,children:c(f.status)})]}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:f.description})]}),e(v,{className:`w-5 h-5 ${d(f.status).split(" ")[0]}`})]})},_)})}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e("span",{className:"font-semibold",children:"Uptime:"})," 99.9% (Ultimele 30 zile)"]}),t("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e("span",{className:"font-semibold",children:"Ultima verificare:"})," ",new Date().toLocaleTimeString("ro-RO")]})]})})]})},Kn=()=>{const[a,l]=b.useState([]),[r,s]=b.useState(!1),[i,o]=b.useState(null),[n,u]=b.useState(new Date().getMonth()),[h,d]=b.useState(new Date().getFullYear()),c=[{id:1,title:"Comitetul de Supraveghere",date:"2025-10-16",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 16 octombrie 2025 (joi)"},{id:2,title:"Comitetul de Supraveghere",date:"2025-10-29",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 29 octombrie 2025 (miercuri)"},{id:3,title:"Comitetul de Supraveghere",date:"2025-11-13",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 13 noiembrie 2025 (joi)"},{id:4,title:"Comitetul de Supraveghere",date:"2025-11-27",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 27 noiembrie 2025 (joi)"},{id:5,title:"Comitetul de Supraveghere",date:"2025-12-11",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 11 decembrie 2025 (joi)"},{id:6,title:"Comitetul de Supraveghere",date:"2025-12-18",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 18 decembrie 2025 (joi)"},{id:7,title:"Comitetul de Supraveghere",date:"2026-01-15",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 15 ianuarie 2026 (joi)"},{id:8,title:"Comitetul de Supraveghere",date:"2026-01-29",time:"10:00",location:"București, Bd. Magheru 28-30",type:"Supraveghere",status:"Programată",description:"Ședința din 29 ianuarie 2026 (joi)"}];b.useEffect(()=>{p()},[]);const p=async()=>{s(!0),o(null);try{await new Promise(w=>setTimeout(w,1e3));const S=new Date,U=new Date(S.getTime()+90*24*60*60*1e3),L=c.filter(w=>{const I=new Date(w.date);return I>=S&&I<=U});l(L)}catch(S){o("Eroare la încărcarea calendarului ONJN"),console.error("Error loading ONJN calendar:",S)}finally{s(!1)}},f=S=>{switch(S){case"Programată":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"În desfășurare":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"Finalizată":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"Anulată":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}},_=S=>{switch(S){case"Supraveghere":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"Autorizare":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"Metrologie":return"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300";case"Control":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}},v=S=>new Date(S).toLocaleDateString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric"}),N=S=>S,C=()=>{n===0?(u(11),d(h-1)):u(n-1)},D=()=>{n===11?(u(0),d(h+1)):u(n+1)},T=()=>{u(new Date().getMonth()),d(new Date().getFullYear())},g=()=>{const S=new Date(h,n,1),L=new Date(h,n+1,0).getDate(),w=S.getDay();return{daysInMonth:L,startingDayOfWeek:w,year:h,month:n}},k=S=>{const{year:U,month:L}=g(),w=`${U}-${String(L+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;return c.some(I=>I.date===w)},z=S=>{const{year:U,month:L}=g(),w=`${U}-${String(L+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;return c.find(I=>I.date===w)};return t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg",children:e(Le,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Ședințe ONJN"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Următoarele 3 luni"})]})]}),e("button",{onClick:p,disabled:r,className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",title:"Actualizează calendarul",children:e(at,{className:`w-4 h-4 ${r?"animate-spin":""}`})})]}),r?e("div",{className:"flex items-center justify-center py-8",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i?e("div",{className:"flex items-center justify-center py-8",children:t("div",{className:"text-center",children:[e(rt,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),e("p",{className:"text-red-600 font-medium",children:i})]})}):a.length===0?t("div",{className:"text-center py-8",children:[e(Le,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e("p",{className:"text-slate-500",children:"Nu există ședințe ale Comitetului de Supraveghere în următoarele 3 luni"})]}):t("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[a.slice(0,3).map(S=>e("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800/50 dark:to-blue-900/20 border border-slate-200 dark:border-slate-700 rounded-xl p-4 hover:shadow-md transition-shadow",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center space-x-2 mb-2",children:[e("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm",children:S.title}),e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(S.type)}`,children:S.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(S.status)}`,children:S.status})]}),e("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:S.description}),t("div",{className:"grid grid-cols-1 gap-2",children:[t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(Le,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium",children:v(S.date)})]}),t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(Xe,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium",children:N(S.time)})]}),t("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[e(je,{className:"w-3 h-3"}),e("span",{className:"text-xs font-medium truncate",children:S.location})]})]})]}),e("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"ml-2 p-1 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Vezi pe site-ul ONJN",children:e(ya,{className:"w-4 h-4"})})]})},S.id)),a.length>3&&e("div",{className:"text-center pt-2",children:t("button",{onClick:()=>window.open("/metrology","_blank"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:["Vezi toate ședințele (",a.length,")"]})})]})]}),t("div",{className:"card p-6",children:[e("div",{className:"mb-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg",children:e(Le,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Calendar Evenimente"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(h,n).toLocaleDateString("ro-RO",{month:"long",year:"numeric"})})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:C,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Luna anterioară",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e("button",{onClick:T,className:"px-3 py-1 text-xs font-medium text-indigo-600 hover:text-white hover:bg-indigo-600 border border-indigo-200 rounded-lg transition-colors",title:"Azi",children:"Azi"}),e("button",{onClick:D,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Luna următoare",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),t("div",{className:"space-y-2",children:[e("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["D","L","M","M","J","V","S"].map((S,U)=>e("div",{className:"text-center text-xs font-bold text-slate-600 dark:text-slate-400 py-2",children:S},U))}),e("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const{daysInMonth:S,startingDayOfWeek:U,year:L,month:w}=g(),I=[],x=new Date().getDate(),F=new Date().getMonth(),y=new Date().getFullYear();for(let m=0;m<U;m++)I.push(e("div",{className:"aspect-square"},`empty-${m}`));for(let m=1;m<=S;m++){const E=m===x&&w===F&&L===y,M=k(m),O=z(m);I.push(e("div",{className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-all ${E?"bg-blue-600 text-white font-bold":M?"bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/40 dark:to-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-semibold hover:shadow-md cursor-pointer":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:O?`${O.title} - ${O.time}`:"",children:m},m))}return I})()}),e("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs",children:[t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-4 h-4 bg-blue-600 rounded"}),e("span",{className:"text-slate-600 dark:text-slate-400",children:"Astăzi"})]}),t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-4 h-4 bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/40 dark:to-indigo-900/40 rounded"}),e("span",{className:"text-slate-600 dark:text-slate-400",children:"Ședință ONJN"})]})]})})]})]})]})},Qr=({compact:a=!1})=>{const[l,r]=b.useState(null),[s,i]=b.useState(null),[o,n]=b.useState(!1),[u,h]=b.useState(!1),[d,c]=b.useState({type:"",text:""});b.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const N=await(await fetch("/api/backup/status")).json();N.success&&r(N.data);const D=await(await fetch("/api/backup/stats")).json();D.success&&i(D.data)}catch(v){console.error("Error loading backup info:",v),c({type:"error",text:"Eroare la încărcarea informațiilor despre backup"})}finally{n(!1)}},f=async()=>{h(!0),c({type:"",text:""});try{const N=await(await fetch("/api/backup/create",{method:"POST",headers:{"Content-Type":"application/json"}})).json();N.success?(c({type:"success",text:"Backup creat cu succes!"}),p()):c({type:"error",text:N.message||"Eroare la crearea backup-ului"})}catch(v){console.error("Error creating backup:",v),c({type:"error",text:"Eroare la crearea backup-ului"})}finally{h(!1)}},_=async()=>{try{const N=await(await fetch("/api/backup/export")).blob(),C=window.URL.createObjectURL(N),D=document.createElement("a");D.href=C,D.download=`cashpot_backup_${new Date().toISOString().split("T")[0]}.sql`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(C),document.body.removeChild(D),c({type:"success",text:"Backup descărcat cu succes!"})}catch(v){console.error("Error downloading backup:",v),c({type:"error",text:"Eroare la descărcarea backup-ului"})}};return o&&!l?e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-center py-8",children:[e(at,{className:"w-6 h-6 text-blue-500 dark:text-blue-400 animate-spin"}),e("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:"Se încarcă informațiile..."})]})}):a?t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:e(Et,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),t("div",{children:[e("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Backup Bază de Date"}),t("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(s==null?void 0:s.totalRecords)||0," înregistrări • ",(s==null?void 0:s.databaseSize)||"N/A"]})]})]}),e("button",{onClick:p,className:"p-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e(at,{className:`w-5 h-5 ${o?"animate-spin":""}`})})]}),t("div",{className:"space-y-3 mb-6",children:[t("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[t("div",{className:"flex items-center space-x-2",children:[l!=null&&l.s3Enabled?e(Ga,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):e(wa,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Stocare"})]}),e("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:(l==null?void 0:l.storageLocation)||"Local"})]}),t("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[t("div",{className:"flex items-center space-x-2",children:[e(Xe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Auto Backup"})]}),e("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:l!=null&&l.autoBackupEnabled?`La ${l==null?void 0:l.backupIntervalHours}h`:"Dezactivat"})]})]}),d.text&&t("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${d.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[d.type==="success"?e(ht,{className:"w-4 h-4"}):e(rt,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:d.text})]}),t("div",{className:"grid grid-cols-2 gap-3",children:[e("button",{onClick:f,disabled:u,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:u?t(ie,{children:[e(at,{className:"w-4 h-4 animate-spin"}),e("span",{className:"text-sm",children:"Creare..."})]}):t(ie,{children:[e(ue,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:"Creează Backup"})]})}),t("button",{onClick:_,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(se,{className:"w-4 h-4"}),e("span",{className:"text-sm",children:"Descarcă"})]})]})]}):t("div",{className:"space-y-6",children:[t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Backup Bază de Date"}),e("p",{className:"text-slate-600",children:"Gestionează backup-urile bazei de date și exportă datele"})]}),e("button",{onClick:p,className:"p-3 text-slate-400 hover:text-slate-600 transition-colors",children:e(at,{className:`w-6 h-6 ${o?"animate-spin":""}`})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[e(Et,{className:"w-8 h-8 text-blue-600"}),t("div",{children:[e("p",{className:"text-sm text-blue-600 font-medium",children:"Total Înregistrări"}),e("p",{className:"text-2xl font-bold text-blue-800",children:(s==null?void 0:s.totalRecords)||0})]})]})}),e("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[e(pr,{className:"w-8 h-8 text-green-600"}),t("div",{children:[e("p",{className:"text-sm text-green-600 font-medium",children:"Dimensiune BD"}),e("p",{className:"text-2xl font-bold text-green-800",children:(s==null?void 0:s.databaseSize)||"N/A"})]})]})}),e("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100",children:t("div",{className:"flex items-center space-x-3 mb-3",children:[l!=null&&l.s3Enabled?e(Ga,{className:"w-8 h-8 text-purple-600"}):e(wa,{className:"w-8 h-8 text-purple-600"}),t("div",{children:[e("p",{className:"text-sm text-purple-600 font-medium",children:"Stocare"}),e("p",{className:"text-lg font-bold text-purple-800",children:(l==null?void 0:l.storageLocation)||"Local"})]})]})})]}),t("div",{className:"p-6 bg-slate-50 rounded-xl mb-8",children:[e("h3",{className:"font-bold text-slate-800 mb-4",children:"Configurare Backup"}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Auto Backup:"}),e("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l!=null&&l.autoBackupEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:l!=null&&l.autoBackupEnabled?"Activ":"Inactiv"})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Interval Backup:"}),t("span",{className:"font-medium text-slate-800",children:[(l==null?void 0:l.backupIntervalHours)||6," ore"]})]}),(l==null?void 0:l.s3Enabled)&&t(ie,{children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"S3 Bucket:"}),e("span",{className:"font-medium text-slate-800",children:l==null?void 0:l.bucketName})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:"Regiune:"}),e("span",{className:"font-medium text-slate-800",children:l==null?void 0:l.region})]})]})]})]}),d.text&&t("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-3 ${d.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[d.type==="success"?e(ht,{className:"w-5 h-5"}):e(rt,{className:"w-5 h-5"}),e("span",{children:d.text})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("button",{onClick:f,disabled:u,className:"flex items-center justify-center space-x-2 px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?t(ie,{children:[e(at,{className:"w-5 h-5 animate-spin"}),e("span",{children:"Se creează backup..."})]}):t(ie,{children:[e(ue,{className:"w-5 h-5"}),e("span",{children:"Creează Backup Manual"})]})}),t("button",{onClick:_,className:"flex items-center justify-center space-x-2 px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(se,{className:"w-5 h-5"}),e("span",{children:"Descarcă Backup SQL"})]})]})]}),(s==null?void 0:s.tableStats)&&t("div",{className:"card p-8",children:[e("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"Statistici pe Tabele"}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(s.tableStats).map(([v,N])=>t("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e("p",{className:"text-sm text-slate-600 capitalize",children:v.replace("_"," ")}),e("p",{className:"text-2xl font-bold text-slate-800",children:N})]},v))})]})]})},Qn=()=>{const[a,l]=b.useState(!1),r={EUR_2024_OCT:4.9759,EUR_2025_OCT:5.082,lastUpdated_2024:"2024-10-01",lastUpdated_2025:"2025-10-01",source:"JOUE/BNR"};return t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl",children:e(la,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),t("div",{children:[e("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Curs Valutar ONJN"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cursuri de referință"})]})]}),e("button",{onClick:()=>{l(!0),setTimeout(()=>{l(!1)},1e3)},className:"p-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e(at,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl border border-blue-100 dark:border-blue-800/50",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-blue-600 rounded-lg",children:e(Va,{className:"w-4 h-4 text-white"})}),t("div",{children:[e("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"EUR - Oct 2024"}),e("p",{className:"text-xs text-blue-500 dark:text-blue-300",children:"Prima zi lucrătoare"})]})]}),t("div",{className:"text-right",children:[e("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:r.EUR_2024_OCT.toFixed(4)}),e("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"RON"})]})]})}),e("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl border border-green-100 dark:border-green-800/50",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-green-600 rounded-lg",children:e(Va,{className:"w-4 h-4 text-white"})}),t("div",{children:[e("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"EUR - 1 Oct 2025"}),e("p",{className:"text-xs text-green-500 dark:text-green-300",children:"1 Octombrie 2025"})]})]}),t("div",{className:"text-right",children:[e("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:r.EUR_2025_OCT.toFixed(4)}),e("p",{className:"text-xs text-green-600 dark:text-green-400",children:"RON"})]})]})})]}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[t("div",{className:"flex items-center space-x-2",children:[e(Le,{className:"w-4 h-4"}),e("span",{children:"Cursuri oficiale JOUE/BNR"})]}),t("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-slate-600 dark:text-slate-300 font-medium",children:["Sursa: ",r.source]})]})})]})},Zn=()=>{const a=Ke(),[l,r]=b.useState([]),[s,i]=b.useState(!0),[o,n]=b.useState({total:0,providers:0,topGames:[]});b.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const d=await fetch("/api/games");if(d.ok){const c=await d.json();r(c);const p=[...new Set(c.map(_=>_.provider))],f=c.slice(0,5);n({total:c.length,providers:p.length,topGames:f})}}catch(d){console.error("Error loading games:",d)}finally{i(!1)}},h=d=>{switch(d){case"low":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"low - medium":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"medium":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"high":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}};return s?e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-3 mb-6",children:[e("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl shadow-lg",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Jocuri din Librărie"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Se încarcă..."})]})]})}):t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl shadow-lg shadow-pink-500/25",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Jocuri din Librărie"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Top jocuri disponibile"})]})]}),t("button",{onClick:()=>a("/game-mixes/games-library"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-xl hover:shadow-lg hover:shadow-pink-500/25 transition-all",children:[e(ke,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:"Vezi Tot"})]})]}),t("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Jocuri"}),e(la,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),e("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:o.total})]}),t("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl border border-purple-200 dark:border-purple-800",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Furnizori"}),e(Dt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})]}),e("div",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:o.providers})]})]}),t("div",{className:"space-y-3",children:[e("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Top 5 Jocuri"}),o.topGames.map((d,c)=>t("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all cursor-pointer",onClick:()=>a(`/game-mixes/games-library/${d.game_id}`),children:[t("div",{className:"flex items-center space-x-3 flex-1",children:[t("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg",children:["#",c+1]}),d.image_url?e("img",{src:d.image_url,alt:d.name,className:"w-12 h-12 rounded-lg object-cover border-2 border-white dark:border-slate-600 shadow-sm",onError:p=>{p.target.style.display="none"}}):null,t("div",{className:"flex-1 min-w-0",children:[e("div",{className:"font-semibold text-slate-800 dark:text-slate-100 truncate",children:d.name}),e("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:d.provider})]})]}),d.volatility&&d.volatility!=="n/a"&&e("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${h(d.volatility)}`,children:d.volatility})]},d.game_id))]}),e("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t("div",{className:"flex items-center justify-between text-xs text-slate-600 dark:text-slate-400",children:[e("span",{children:"Ultima actualizare: acum"}),t("span",{className:"font-medium text-pink-600 dark:text-pink-400",children:[o.total," jocuri disponibile"]})]})})]})},ei=()=>{const{statistics:a,loading:l}=te(),{user:r}=qa(),[s,i]=b.useState(!1),[o,n]=b.useState(null),[u,h]=b.useState([]),[d,c]=b.useState([]),[p,f]=b.useState(()=>{const R=localStorage.getItem("cardSizes");return R?JSON.parse(R):{companies:"medium",locations:"medium",providers:"medium",cabinets:"medium",gameMixes:"medium",slots:"medium",games:"medium",warehouse:"medium",metrology:"medium",jackpots:"medium",invoices:"medium",onjnReports:"medium",legalDocuments:"medium",users:"medium"}}),[_,v]=b.useState(()=>{const R=localStorage.getItem("widgetSizes");return R?JSON.parse(R):{quickActions:"medium",recentActivity:"medium",databaseBackup:"medium",currencyRate:"small",onjnCalendar:"large",systemHealth:"large",gamesLibrary:"large",performanceCharts:"extra-large"}}),N={statCards:[{id:"companies",title:"Companii",visible:!0,order:1},{id:"locations",title:"Locații",visible:!0,order:2},{id:"providers",title:"Furnizori",visible:!0,order:3},{id:"cabinets",title:"Cabinete",visible:!0,order:4},{id:"gameMixes",title:"Game Mixes",visible:!0,order:5},{id:"slots",title:"Sloturi",visible:!0,order:6},{id:"games",title:"Librărie Jocuri",visible:!0,order:7},{id:"warehouse",title:"Depozit",visible:!0,order:8},{id:"metrology",title:"Metrologie",visible:!0,order:9},{id:"jackpots",title:"Jackpots",visible:!0,order:10},{id:"invoices",title:"Facturi",visible:!0,order:11},{id:"onjnReports",title:"Rapoarte ONJN",visible:!0,order:12},{id:"legalDocuments",title:"Documente Legale",visible:!0,order:13},{id:"users",title:"Utilizatori",visible:!0,order:14}],widgets:[{id:"quickActions",title:"Acțiuni Rapide",visible:!0,order:1},{id:"recentActivity",title:"Activitate Recentă",visible:!0,order:2},{id:"databaseBackup",title:"Backup Bază de Date",visible:!0,order:3},{id:"currencyRate",title:"Curs Valutar ONJN",visible:!0,order:4},{id:"onjnCalendar",title:"Calendar ONJN",visible:!0,order:5},{id:"systemHealth",title:"Sănătate Sistem",visible:!0,order:6},{id:"gamesLibrary",title:"Jocuri din Librărie",visible:!0,order:7},{id:"performanceCharts",title:"Grafice Performanță",visible:!0,order:8}]};b.useEffect(()=>{const R=localStorage.getItem("dashboardConfig");if(R){const G=JSON.parse(R),A={statCards:G.statCards||N.statCards,widgets:N.widgets.map(V=>{var Y;return((Y=G.widgets)==null?void 0:Y.find(be=>be.id===V.id))||V})};n(A)}else n(N)},[]);const C=()=>{localStorage.setItem("dashboardConfig",JSON.stringify(o)),i(!1),h([]),c([])},D=()=>{n(N),localStorage.removeItem("dashboardConfig"),h([]),c([]),f({companies:"medium",locations:"medium",providers:"medium",cabinets:"medium",gameMixes:"medium",slots:"medium",warehouse:"medium",metrology:"medium",jackpots:"medium",invoices:"medium",onjnReports:"medium",legalDocuments:"medium",users:"medium"}),localStorage.removeItem("cardSizes"),i(!1)},T=R=>{n(G=>({...G,statCards:G.statCards.map(A=>A.id===R?{...A,visible:!A.visible}:A)}))},g=R=>{n(G=>({...G,widgets:G.widgets.map(A=>A.id===R?{...A,visible:!A.visible}:A)}))},k=R=>{n(G=>{const A=[...G.statCards],V=A.findIndex(W=>W.id===R);return V>0&&([A[V],A[V-1]]=[A[V-1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,statCards:A}})},z=R=>{n(G=>{const A=[...G.statCards],V=A.findIndex(W=>W.id===R);return V<A.length-1&&([A[V],A[V+1]]=[A[V+1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,statCards:A}})},S=R=>{n(G=>{const A=[...G.widgets],V=A.findIndex(W=>W.id===R);return V>0&&([A[V],A[V-1]]=[A[V-1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,widgets:A}})},U=R=>{n(G=>{const A=[...G.widgets],V=A.findIndex(W=>W.id===R);return V<A.length-1&&([A[V],A[V+1]]=[A[V+1],A[V]],A.forEach((W,Y)=>W.order=Y+1)),{...G,widgets:A}})},L=(R,G)=>{f(A=>{const V={...A,[R]:G};return localStorage.setItem("cardSizes",JSON.stringify(V)),V})},w=(R,G)=>{v(A=>{const V={...A,[R]:G};return localStorage.setItem("widgetSizes",JSON.stringify(V)),V})},I=R=>{h(G=>G.includes(R)?G.filter(A=>A!==R):[...G,R])},x=R=>{c(G=>G.includes(R)?G.filter(A=>A!==R):[...G,R])},F=()=>{h(o.statCards.map(R=>R.id))},y=()=>{h([])},m=R=>{f(G=>{const A={...G};return u.forEach(V=>{A[V]=R}),localStorage.setItem("cardSizes",JSON.stringify(A)),A})},E=()=>{n(R=>{const G=R.statCards.map(A=>u.includes(A.id)?{...A,visible:!A.visible}:A);return{...R,statCards:G}})},M=()=>{c(o.widgets.map(R=>R.id))},O=()=>{c([])},q=R=>{v(G=>{const A={...G};return d.forEach(V=>{A[V]=R}),localStorage.setItem("widgetSizes",JSON.stringify(A)),A})},J=()=>{n(R=>{const G=R.widgets.map(A=>d.includes(A.id)?{...A,visible:!A.visible}:A);return{...R,widgets:G}})},H=R=>{switch(R){case"xs":return"dashboard-card-xs";case"small":return"dashboard-card-small";case"medium":return"dashboard-card-medium";case"large":return"dashboard-card-large";case"extra-large":return"dashboard-card-xl";default:return"dashboard-card-medium"}},X=R=>{switch(R){case"xs":return"dashboard-widget-xs";case"small":return"dashboard-widget-small";case"medium":return"dashboard-widget-medium";case"large":return"dashboard-widget-large";case"extra-large":return"dashboard-widget-xl";default:return"dashboard-widget-medium"}},re={companies:{title:"Companii",value:(a==null?void 0:a.totalCompanies)||0,icon:fe,color:"blue",change:"+12%",changeType:"positive"},locations:{title:"Locații",value:(a==null?void 0:a.totalLocations)||0,icon:je,color:"green",change:"+8%",changeType:"positive"},providers:{title:"Furnizori",value:(a==null?void 0:a.totalProviders)||0,icon:$e,color:"purple",change:"+5%",changeType:"positive"},cabinets:{title:"Cabinete",value:(a==null?void 0:a.totalCabinets)||0,icon:Se,color:"orange",change:"+15%",changeType:"positive"},gameMixes:{title:"Game Mixes",value:(a==null?void 0:a.totalGameMixes)||0,icon:Ye,color:"indigo",change:"+3%",changeType:"positive"},slots:{title:"Sloturi",value:(a==null?void 0:a.totalSlots)||0,icon:_e,color:"emerald",change:"+22%",changeType:"positive"},warehouse:{title:"Depozit",value:(a==null?void 0:a.totalWarehouse)||0,icon:Zt,color:"slate",change:"+7%",changeType:"positive"},metrology:{title:"Metrologie",value:(a==null?void 0:a.totalMetrology)||0,icon:Be,color:"cyan",change:"+2%",changeType:"positive"},jackpots:{title:"Jackpots",value:(a==null?void 0:a.totalJackpots)||0,icon:ut,color:"yellow",change:"+18%",changeType:"positive"},invoices:{title:"Facturi",value:(a==null?void 0:a.totalInvoices)||0,icon:ee,color:"red",change:"+9%",changeType:"positive"},onjnReports:{title:"Rapoarte ONJN",value:(a==null?void 0:a.totalOnjnReports)||0,icon:At,color:"blue",change:"+4%",changeType:"positive"},legalDocuments:{title:"Documente Legale",value:(a==null?void 0:a.totalLegalDocuments)||0,icon:ee,color:"gray",change:"+6%",changeType:"positive"},users:{title:"Utilizatori",value:(a==null?void 0:a.totalUsers)||0,icon:$e,color:"purple",change:"+1%",changeType:"positive"},games:{title:"Librărie Jocuri",value:(a==null?void 0:a.totalGames)||0,icon:Se,color:"pink",change:"+18%",changeType:"positive"}};return o?e(oe,{children:t("div",{className:"space-y-8",children:[e("div",{className:"card p-8",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent mb-2",children:["Bun venit, ",(r==null?void 0:r.fullName)||"Administrator","!"]}),e("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"Panoul principal al sistemului CASHPOT V7"}),t("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:["Ultima actualizare: ",new Date().toLocaleString("ro-RO")]})]}),t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"flex items-center space-x-2",children:s?o&&t("div",{className:"flex items-center space-x-2",children:[t("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:"Salvează"})]}),t("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[e(ml,{className:"w-4 h-4"}),e("span",{children:"Resetează"})]}),e("button",{onClick:()=>{i(!1),h([]),c([])},className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:e("span",{children:"Anulează"})})]}):t("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e(Ye,{className:"w-4 h-4"}),e("span",{children:"Configurează Dashboard"})]})}),t("div",{className:"text-right",children:[e("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"v7.0.1"}),e("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Build: 29.09.2025, 11:15"})]})]})]})}),o&&t("div",{className:"space-y-6",children:[s&&o&&t("div",{className:"card p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Configurează Cardurile de Statistici"}),t("div",{className:"flex items-center space-x-2",children:[u.length>0&&t(ie,{children:[t("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:[u.length," selectate"]}),t("select",{onChange:R=>{R.target.value&&(m(R.target.value),R.target.value="")},className:"px-3 py-1 text-xs border border-blue-300 dark:border-blue-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"",children:"Mărime pentru toate"}),e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:E,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Toggle Vizibilitate"}),e("button",{onClick:y,className:"px-3 py-1 text-xs bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Deselectează Tot"})]}),e("button",{onClick:u.length===o.statCards.length?y:F,className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:u.length===o.statCards.length?"Deselectează Tot":"Selectează Tot"})]})]}),e("div",{className:"space-y-2",children:o.statCards.sort((R,G)=>R.order-G.order).map((R,G)=>t("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${u.includes(R.id)?"bg-blue-100 dark:bg-blue-900/40 border-blue-400 dark:border-blue-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",checked:u.includes(R.id),onChange:()=>I(R.id),className:"w-4 h-4 text-blue-600 bg-white dark:bg-slate-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"}),e(Ja,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:R.title})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>k(R.id),disabled:G===0,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în sus",children:"↑"}),e("button",{onClick:()=>z(R.id),disabled:G===o.statCards.length-1,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în jos",children:"↓"}),t("select",{value:p[R.id],onChange:A=>L(R.id,A.target.value),className:"px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Mărimea cardului",children:[e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:()=>T(R.id),className:`p-2 rounded-lg transition-colors ${R.visible?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:R.visible?"Ascunde cardul":"Afișează cardul",children:R.visible?e(ke,{className:"w-4 h-4"}):e(Na,{className:"w-4 h-4"})})]})]},R.id))})]}),e("div",{className:"dashboard-grid-stats",children:o.statCards.filter(R=>R.visible).sort((R,G)=>R.order-G.order).map(R=>{const G=re[R.id],A=p[R.id]||"medium",V=H(A);return e("div",{className:V,children:e(tt,{title:G.title,value:G.value,icon:G.icon,color:G.color,change:G.change,changeType:G.changeType,loading:l.companies,size:A})},R.id)})}),s&&o&&t("div",{className:"card p-6 bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("h3",{className:"text-lg font-semibold text-purple-800 dark:text-purple-300",children:"Configurează Widget-urile"}),t("div",{className:"flex items-center space-x-2",children:[d.length>0&&t(ie,{children:[t("span",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:[d.length," selectate"]}),t("select",{onChange:R=>{R.target.value&&(q(R.target.value),R.target.value="")},className:"px-3 py-1 text-xs border border-purple-300 dark:border-purple-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e("option",{value:"",children:"Mărime pentru toate"}),e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:J,className:"px-3 py-1 text-xs bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Toggle Vizibilitate"}),e("button",{onClick:O,className:"px-3 py-1 text-xs bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Deselectează Tot"})]}),e("button",{onClick:d.length===o.widgets.length?O:M,className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:d.length===o.widgets.length?"Deselectează Tot":"Selectează Tot"})]})]}),e("div",{className:"space-y-2",children:o.widgets.sort((R,G)=>R.order-G.order).map((R,G)=>t("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${d.includes(R.id)?"bg-purple-100 dark:bg-purple-900/40 border-purple-400 dark:border-purple-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",checked:d.includes(R.id),onChange:()=>x(R.id),className:"w-4 h-4 text-purple-600 bg-white dark:bg-slate-700 border-gray-300 dark:border-gray-600 rounded focus:ring-purple-500 focus:ring-2"}),e(Ja,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),e("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:R.title})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>S(R.id),disabled:G===0,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în sus",children:"↑"}),e("button",{onClick:()=>U(R.id),disabled:G===o.widgets.length-1,className:"p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 disabled:opacity-30",title:"Mută în jos",children:"↓"}),t("select",{value:_[R.id]||"medium",onChange:A=>w(R.id,A.target.value),className:"px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Mărimea widget-ului",children:[e("option",{value:"xs",children:"XS"}),e("option",{value:"small",children:"S"}),e("option",{value:"medium",children:"M"}),e("option",{value:"large",children:"L"}),e("option",{value:"extra-large",children:"XL"})]}),e("button",{onClick:()=>g(R.id),className:`p-2 rounded-lg transition-colors ${R.visible?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:R.visible?"Ascunde widgetul":"Afișează widgetul",children:R.visible?e(ke,{className:"w-4 h-4"}):e(Na,{className:"w-4 h-4"})})]})]},R.id))})]}),e("div",{className:"dashboard-grid-widgets",children:o&&o.widgets.filter(R=>R.visible).sort((R,G)=>R.order-G.order).map(R=>{const G=_[R.id]||"medium",A=X(G);return e("div",{className:A,children:(()=>{switch(R.id){case"quickActions":return e(Wn,{});case"recentActivity":return e(Yn,{});case"databaseBackup":return e(Qr,{compact:!0});case"currencyRate":return e(Qn,{});case"onjnCalendar":return e(Kn,{});case"systemHealth":return e(Xn,{});case"gamesLibrary":return e(Zn,{});default:return null}})()},R.id)})}),o&&o.widgets.find(R=>R.id==="performanceCharts"&&R.visible)&&t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Performanță Sistem"}),e(la,{className:"w-6 h-6 text-green-500"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"CPU Usage"}),e("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"23%"})]}),t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Memory Usage"}),e("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"67%"})]}),t("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/30 dark:to-orange-900/30 rounded-2xl",children:[e("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Disk Usage"}),e("span",{className:"text-yellow-600 dark:text-yellow-400 font-bold",children:"45%"})]})]})]}),t("div",{className:"card p-8",children:[t("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Activitate Recentă"}),e(Be,{className:"w-6 h-6 text-blue-500"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Sistem pornit"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 2 minute"})]})]}),t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Backup completat"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 1 oră"})]})]}),t("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[e("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),t("div",{className:"flex-1",children:[e("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Actualizare disponibilă"}),e("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Acum 3 ore"})]})]})]})]})]})]})]})}):e("div",{children:"Loading..."})},we=({data:a,columns:l,onEdit:r,onDelete:s,onView:i,onViewContracts:o,onViewProprietari:n,loading:u=!1,searchTerm:h="",onSearchChange:d,itemsPerPage:c=15,selectedItems:p=[],onSelectAll:f,onSelectItem:_})=>{const[v,N]=b.useState(1),[C,D]=b.useState(""),[T,g]=b.useState("asc"),k=Math.ceil(a.length/c),z=(v-1)*c,S=a.slice(z,z+c),U=w=>{C===w?g(T==="asc"?"desc":"asc"):(D(w),g("asc"))},L=[...S].sort((w,I)=>{if(!C)return 0;const x=w[C]||"",F=I[C]||"";return T==="asc"?x.toString().localeCompare(F.toString()):F.toString().localeCompare(x.toString())});return u?e("div",{className:"card p-8",children:t("div",{className:"animate-pulse space-y-4",children:[e("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),e("div",{className:"space-y-3",children:[...Array(5)].map((w,I)=>e("div",{className:"h-16 bg-slate-200 rounded"},I))})]})}):t("div",{className:"card overflow-hidden",children:[e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full min-w-[800px] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700",children:[e("thead",{className:"table-header bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:t("tr",{children:[e("th",{className:"p-6 w-12",children:e("div",{className:"flex items-center justify-center",children:e("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-slate-100 dark:bg-slate-700 border-slate-300 dark:border-slate-600 rounded focus:ring-blue-500 focus:ring-2",checked:S.length>0&&S.every(w=>p.includes(w.id)),onChange:w=>f&&f(w.target.checked)})})}),e("th",{className:"text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider w-16",children:"#"}),l.map(w=>e("th",{className:`text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider ${w.sortable?"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors":""}`,onClick:()=>w.sortable&&U(w.key),children:t("div",{className:"flex items-center space-x-2",children:[e("span",{children:w.label}),w.sortable&&C===w.key&&e("span",{className:"text-blue-600",children:T==="asc"?"↑":"↓"})]})},w.key)),e("th",{className:"text-left p-6 font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wider",children:"Acțiuni"})]})}),e("tbody",{className:"divide-y divide-slate-200/50 dark:divide-slate-700/50",children:L.map((w,I)=>t("tr",{className:"table-row hover:bg-slate-50 dark:hover:bg-slate-750 transition-colors",children:[e("td",{className:"p-6",children:e("div",{className:"flex items-center justify-center",children:e("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-slate-100 dark:bg-slate-700 border-slate-300 dark:border-slate-600 rounded focus:ring-blue-500 focus:ring-2 group-hover:bg-blue-50 dark:group-hover:bg-slate-600",checked:p.includes(w.id),onChange:x=>_&&_(w.id,x.target.checked)})})}),e("td",{className:"p-6 text-slate-600 dark:text-slate-400 font-semibold text-sm",children:z+I+1}),l.map(x=>e("td",{className:"p-6",children:x.render?x.render(w):w[x.key]},x.key)),(r||s||i||o||n)&&e("td",{className:"p-6",children:t("div",{className:"flex space-x-2",children:[i&&e("button",{onClick:()=>i(w),className:"p-3 text-blue-600 dark:text-blue-400 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/40 dark:hover:to-indigo-800/40 rounded-2xl shadow-lg hover:shadow-blue-500/25 transition-all duration-200 group/btn",title:"Previzualizează",children:e(ke,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),o&&e("button",{onClick:()=>o(w),className:"p-3 text-green-600 dark:text-green-400 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-800/40 dark:hover:to-emerald-800/40 rounded-2xl shadow-lg hover:shadow-green-500/25 transition-all duration-200 group/btn",title:"Vezi contracte",children:e(ee,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),n&&e("button",{onClick:()=>n(w),className:"p-3 text-purple-600 dark:text-purple-400 bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/30 hover:from-purple-100 hover:to-violet-100 dark:hover:from-purple-800/40 dark:hover:to-violet-800/40 rounded-2xl shadow-lg hover:shadow-purple-500/25 transition-all duration-200 group/btn",title:"Vezi proprietari",children:e(fe,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),r&&e("button",{onClick:()=>r(w),className:"p-3 text-emerald-600 dark:text-emerald-400 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30 hover:from-emerald-100 hover:to-green-100 dark:hover:from-emerald-800/40 dark:hover:to-green-800/40 rounded-2xl shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 group/btn",title:"Editează",children:e(Te,{size:16,className:"group-hover/btn:scale-110 transition-transform"})}),s&&e("button",{onClick:()=>s(w),className:"p-3 text-red-600 dark:text-red-400 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/30 dark:to-pink-900/30 hover:from-red-100 hover:to-pink-100 dark:hover:from-red-800/40 dark:hover:to-pink-800/40 rounded-2xl shadow-lg hover:shadow-red-500/25 transition-all duration-200 group/btn",title:"Șterge",children:e(De,{size:16,className:"group-hover/btn:scale-110 transition-transform"})})]})})]},w._id||w.id))})]})}),t("div",{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-700 dark:via-slate-800 dark:to-slate-700 px-6 md:px-8 py-4 md:py-6 border-t border-slate-200/50 dark:border-slate-600/50 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t("div",{className:"flex flex-wrap items-center gap-4 md:gap-6",children:[e("span",{className:"text-sm md:text-base font-semibold text-slate-700 dark:text-slate-200",children:"Înregistrări:"}),t("select",{value:c,onChange:w=>{setItemsPerPage(Number(w.target.value)),N(1)},className:"border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-2 text-sm font-medium bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all duration-200 shadow-lg text-slate-900 dark:text-slate-100",children:[e("option",{value:15,children:"15"}),e("option",{value:25,children:"25"}),e("option",{value:50,children:"50"})]}),t("span",{className:"text-sm md:text-base text-slate-600 dark:text-slate-300 font-medium",children:[z+1,"-",Math.min(z+c,a.length)," din ",a.length]})]}),t("div",{className:"flex items-center justify-between sm:justify-start gap-3",children:[e("button",{onClick:()=>N(Math.max(1,v-1)),disabled:v===1,className:"px-4 md:px-6 py-2 md:py-3 border-2 border-slate-200 dark:border-slate-600 rounded-2xl text-sm md:text-base font-bold hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl group text-slate-700 dark:text-slate-200",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Înapoi"})}),e("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-sm md:text-base text-slate-600 dark:text-slate-200 font-bold bg-white/80 dark:bg-slate-800/80 px-4 py-2 rounded-2xl shadow-lg",children:["Pag ",v,"/",k||1]})}),e("button",{onClick:()=>N(Math.min(k,v+1)),disabled:v===k,className:"px-4 md:px-6 py-2 md:py-3 border-2 border-slate-200 dark:border-slate-600 rounded-2xl text-sm md:text-base font-bold hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl group text-slate-700 dark:text-slate-200",children:e("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:"Înainte"})})]})]})]})},bt=({pdfUrl:a,title:l="Document PDF",placeholder:r="Nu există document de afișat",placeholderSubtext:s="Atașează un document PDF pentru vizualizare"})=>a?t("div",{className:"space-y-4",children:[e("div",{className:"aspect-[3/4] bg-white dark:bg-slate-800 rounded-lg border-2 border-slate-200 dark:border-slate-600 overflow-hidden",children:e("iframe",{src:a,className:"w-full h-full",title:l})}),t("div",{className:"flex space-x-3",children:[t("button",{onClick:()=>window.open(a,"_blank"),className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[e(ke,{className:"w-4 h-4"}),e("span",{children:"Vizualizează"})]}),t("button",{onClick:()=>window.open(a,"_blank"),className:"flex-1 btn-secondary flex items-center justify-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Descarcă"})]})]})]}):e("div",{className:"aspect-[3/4] bg-slate-100 dark:bg-slate-700 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 flex items-center justify-center",children:t("div",{className:"text-center text-slate-500 dark:text-slate-400",children:[e(ee,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e("p",{className:"text-sm font-medium",children:r}),e("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:s})]})}),ti=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"Furnizor",license:"",email:"",phone:"",address:"",contactPerson:"",status:"Activ",notes:"",cui:"",cuiFile:null,cuiPreview:null});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"Furnizor",license:a.license||"",email:a.email||"",phone:a.phone||"",address:a.address||"",contactPerson:a.contact_person||"",status:a.status||"Activ",notes:a.notes||"",cui:a.cui||"",cuiFile:a.cuiFile||null,cuiPreview:a.cuiFile||null})},[a]);const o=c=>{i({...s,[c.target.name]:c.target.value})},n=c=>{const p=c.target.files[0];if(p){const f=new FileReader;f.onload=_=>{const v=_.target.result;i(N=>({...N,cuiFile:v,cuiPreview:v}))},f.readAsDataURL(p)}},u=()=>{window.confirm("Sigur doriți să ștergeți documentul CUI?")&&i(c=>({...c,cuiFile:null,cuiPreview:null}))},h=c=>c?c.includes("data:image")?e(St,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"});return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Companie":"Adaugă Companie"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre companie"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:c=>{c.preventDefault();const p={...s,contact_person:s.contactPerson};delete p.contactPerson,r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Tip Companie *"}),t("select",{name:"type",value:s.type,onChange:o,className:"input-field",required:!0,children:[e("option",{value:"Operator",children:"Operator (Proprietar)"}),e("option",{value:"Furnizor",children:"Furnizor (pentru contracte)"})]}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Operator = compania ta de bază | Furnizor = companii externe pentru contracte"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Nume Companie *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"input-field",placeholder:"ex: BRML Industries SRL",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Număr Licență *"}),e("input",{type:"text",name:"license",value:s.license,onChange:o,className:"input-field",placeholder:"ex: L-2024-001",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Persoană de Contact *"}),e("input",{type:"text",name:"contactPerson",value:s.contactPerson,onChange:o,className:"input-field",placeholder:"ex: Ion Popescu",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Email *"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"input-field",placeholder:"ex: contact@brml.ro",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Telefon *"}),e("input",{type:"tel",name:"phone",value:s.phone,onChange:o,className:"input-field",placeholder:"ex: +40 21 123 4567",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"CUI (Certificat Unic de Înregistrare)"}),e("input",{type:"text",name:"cui",value:s.cui,onChange:o,className:"input-field",placeholder:"ex: RO12345678"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Suspendat",children:"Suspendat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Adresă Completă *"}),e("textarea",{name:"address",value:s.address,onChange:o,className:"input-field min-h-[100px] resize-none",placeholder:"ex: Str. Centrală nr. 1, București, România",required:!0})]}),t("div",{className:"space-y-4",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Document CUI (PDF sau JPG)"}),t("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-6 text-center hover:border-blue-400 dark:hover:border-blue-500 transition-colors",children:[e("input",{type:"file",id:"cuiFile",accept:".pdf,.jpg,.jpeg,.png",onChange:n,className:"hidden"}),t("label",{htmlFor:"cuiFile",className:"cursor-pointer flex flex-col items-center space-y-3",children:[e("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white",children:e(ue,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:s.cuiFile?"Schimbă documentul":"Încarcă document CUI"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF, JPG, PNG (max 10MB)"})]})]})]}),s.cuiPreview&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-2",children:[h(s.cuiFile),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Document CUI"})]}),e("button",{type:"button",onClick:u,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge documentul",children:e(ne,{className:"w-4 h-4"})})]}),s.cuiFile.includes("data:image")?e("div",{className:"aspect-[3/4] bg-white rounded-lg border-2 border-slate-200 overflow-hidden",children:e("img",{src:s.cuiPreview,alt:"CUI Preview",className:"w-full h-full object-contain"})}):e(bt,{pdfUrl:s.cuiPreview,title:`CUI Document ${s.name}`,placeholder:"Documentul CUI nu este disponibil",placeholderSubtext:"Atașează documentul CUI pentru vizualizare"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Note Adiționale"}),e("textarea",{name:"notes",value:s.notes,onChange:o,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre companie..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 dark:border-slate-700/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Companie"]})})]})]})})]})})},ai=()=>{const a=Ke(),{companies:l,createItem:r,updateItem:s,deleteItem:i,exportData:o,loading:n}=te(),[u,h]=b.useState(!1),[d,c]=b.useState(null),[p,f]=b.useState(""),[_,v]=b.useState([]),[N,C]=b.useState(!1);b.useEffect(()=>{C(_.length>0)},[_]);const D=l.filter(y=>{var m,E,M,O;return((m=y.name)==null?void 0:m.toLowerCase().includes(p.toLowerCase()))||((E=y.license)==null?void 0:E.toLowerCase().includes(p.toLowerCase()))||((M=y.email)==null?void 0:M.toLowerCase().includes(p.toLowerCase()))||((O=y.contact_person)==null?void 0:O.toLowerCase().includes(p.toLowerCase()))}),T=[{key:"companyInfo",label:"Companie & CUI",sortable:!0,render:y=>t("div",{className:"space-y-2",children:[t("div",{className:"flex items-center space-x-2",children:[e(fe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e("button",{onClick:()=>a(`/companies/${y.id}`),className:"font-bold text-slate-900 dark:text-slate-100 hover:text-blue-700 dark:hover:text-blue-400 transition-colors text-left",children:y.name})]}),y.license&&e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:y.license})}),y.cui&&t("div",{className:"flex items-center space-x-2",children:[t("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:["CUI: ",y.cui]}),y.cuiFile&&t("div",{className:"flex items-center space-x-1",children:[e("button",{onClick:()=>window.open(y.cuiFile,"_blank"),className:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Previzualizează CUI",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>{const m=document.createElement("a");m.href=y.cuiFile,m.download=`CUI_${y.name||"company"}.${y.cuiFile.includes("data:image")?"jpg":"pdf"}`,m.click()},className:"p-1 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"Descarcă CUI",children:e(se,{className:"w-4 h-4"})})]})]})]})},{key:"contactInfo",label:"Contact",sortable:!0,render:y=>t("div",{className:"space-y-2",children:[y.contact_person&&t("div",{className:"flex items-center space-x-2",children:[e(vt,{className:"w-4 h-4 text-slate-500 dark:text-slate-400 flex-shrink-0"}),e("div",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:y.contact_person})]}),y.phone&&t("div",{className:"flex items-center space-x-2",children:[e(La,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:y.phone})]}),y.email&&t("div",{className:"flex items-center space-x-2",children:[e(ja,{className:"w-4 h-4 text-purple-600 dark:text-purple-400 flex-shrink-0"}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:y.email})]})]})},{key:"status",label:"Status",sortable:!0,render:y=>{var O;const m=((O=y.status)==null?void 0:O.toLowerCase())||"",E=m==="activ"||m==="active",M=m==="suspendat"||m==="suspended";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${E?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":M?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-yellow-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:E?"Activ":M?"Suspendat":"Inactiv"})}},{key:"created_at",label:"Data Creare",sortable:!0,render:y=>e("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(y.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:y=>{var m,E;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((E=(m=y.created_by)==null?void 0:m.charAt(0))==null?void 0:E.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:y.created_by||"Sistem"})]})}}],g=()=>{c(null),h(!0)},k=y=>{c(y),h(!0)},z=async y=>{window.confirm(`Sigur doriți să ștergeți compania "${y.name}"?`)&&await i("companies",y.id)},S=y=>{v(y?D.map(m=>m.id):[])},U=(y,m)=>{v(m?[..._,y]:_.filter(E=>E!==y))},L=async()=>{if(_.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${_.length} companii?`))try{for(const y of _)await i("companies",y);v([]),C(!1)}catch(y){console.error("Error bulk deleting companies:",y)}},w=()=>{_.length!==0&&console.log("Bulk edit for companies:",_)},I=async y=>{d?await s("companies",d.id,y):await r("companies",y),h(!1),c(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Management Companii"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Gestionează companiile de gaming din sistem"})]})]}),t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută companii...",value:p,onChange:y=>f(y.target.value),className:"input-field pl-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:border-blue-500 dark:focus:border-blue-400"})]}),t("button",{onClick:()=>{console.log("Import functionality to be implemented")},className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:async()=>{await o("companies","excel")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{size:16}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[N&&t(ie,{children:[t("button",{onClick:w,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:L,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Companie"})]})]})]})]})}),e(we,{data:D,columns:T,onEdit:k,onDelete:z,loading:n.companies,searchTerm:p,onSearchChange:f,selectedItems:_,onSelectAll:S,onSelectItem:U}),u&&e(ti,{item:d,onClose:()=>{h(!1),c(null)},onSave:I})]})})},ri=({item:a,onClose:l,onSave:r})=>{const{companies:s,users:i}=te(),[o,n]=b.useState({name:"",address:"",company:"",capacity:"",surface:"",planFile:null,status:"Activ",coordinates:"",contact_person:"",notes:""});b.useEffect(()=>{a&&n({name:a.name||"",address:a.address||"",company:a.company||"",capacity:a.capacity||"",surface:a.surface||"",planFile:a.planFile||null,status:a.status||"Activ",coordinates:a.coordinates||"",contact_person:a.contact_person||"",notes:a.notes||""})},[a]);const u=c=>{n({...o,[c.target.name]:c.target.value})},h=c=>{const p=c.target.files[0];p&&n({...o,planFile:p})};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-green-800 to-emerald-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:e(je,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Locație":"Adaugă Locație"}),e("p",{className:"text-green-100 text-sm font-medium",children:"Completează informațiile despre locație"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:c=>{c.preventDefault(),r(o)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Locație *"}),e("input",{type:"text",name:"name",value:o.name,onChange:u,className:"input-field",placeholder:"ex: Locația Centru",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Companie *"}),t("select",{name:"company",value:o.company,onChange:u,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează o companie"}),s.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Persoană de Contact"}),t("select",{name:"contact_person",value:o.contact_person,onChange:u,className:"input-field",children:[e("option",{value:"",children:"Selectează o persoană de contact"}),i.map(c=>t("option",{value:c.full_name||c.username,children:[c.full_name||c.username," (@",c.username,")"]},c.id))]}),e("p",{className:"text-xs text-slate-500",children:"Persoana responsabilă pentru această locație"})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Adresă Completă *"}),e("textarea",{name:"address",value:o.address,onChange:u,className:"input-field min-h-[100px] resize-none",placeholder:"ex: Str. Centrală nr. 1, București, România",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Suprafață (m²) *"}),e("input",{type:"number",name:"surface",value:o.surface,onChange:u,className:"input-field",placeholder:"ex: 150",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Capacitate (calculată din sloturi)"}),t("div",{className:"input-field bg-slate-50 text-slate-600 cursor-not-allowed",children:[o.capacity||0," sloturi"]}),e("p",{className:"text-xs text-slate-500",children:"Capacitatea se calculează automat din numărul de sloturi alocate acestei locații"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status"}),t("select",{name:"status",value:o.status,onChange:u,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Mentenanță",children:"Mentenanță"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Coordonate (lat, lng)"}),e("input",{type:"text",name:"coordinates",value:o.coordinates,onChange:u,className:"input-field",placeholder:"ex: 44.4268, 26.1025"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Plan Locație"}),t("div",{className:"relative",children:[e("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",onChange:h,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),o.planFile&&t("div",{className:"mt-2 text-sm text-green-600 font-medium",children:["✓ Fișier selectat: ",o.planFile.name]})]}),e("p",{className:"text-xs text-slate-500",children:"Formate acceptate: PDF, JPG, PNG, DWG, DXF"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:o.notes,onChange:u,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre locație..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Locație"]})})]})]})})]})})},li=({item:a,onClose:l,onSave:r,locationId:s})=>{const{locations:i,proprietari:o}=te(),[n,u]=b.useState({contract_number:"",title:"",location_id:s||"",proprietar_id:"",type:"Chirie Locație",status:"Active",start_date:"",end_date:"",monthly_rent:"",currency:"RON",deposit:"",payment_terms:"",description:"",contractFile:null,contractPreview:null}),h=()=>{const v=new Date,N=v.getFullYear(),C=String(v.getMonth()+1).padStart(2,"0"),D=String(v.getDate()).padStart(2,"0"),T=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`CT-CH-${N}${C}${D}-${T}`};b.useEffect(()=>{u(a?{contract_number:a.contract_number||"",title:a.title||"",location_id:a.location_id||s||"",proprietar_id:a.proprietar_id||"",type:a.type||"Chirie Locație",status:a.status||"Active",start_date:a.start_date?a.start_date.split("T")[0]:"",end_date:a.end_date?a.end_date.split("T")[0]:"",monthly_rent:a.monthly_rent||"",currency:a.currency||"RON",deposit:a.deposit||"",payment_terms:a.payment_terms||"",description:a.description||"",contractFile:a.contractFile||null,contractPreview:a.contractFile||null}:v=>({...v,contract_number:h()}))},[a,s]);const d=v=>{const{name:N,value:C}=v.target;u(D=>({...D,[N]:C}))},c=v=>{const N=v.target.files[0];if(N){const C=new FileReader;C.onload=D=>{const T=D.target.result;u(g=>({...g,contractFile:T,contractPreview:T}))},C.readAsDataURL(N)}},p=()=>{window.confirm("Sigur doriți să ștergeți fișierul contractului?")&&u(v=>({...v,contractFile:null,contractPreview:null}))},f=v=>v?e(ee,{className:"w-4 h-4"}):e(ee,{className:"w-4 h-4"});return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-green-800 to-emerald-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Contract":"Adaugă Contract Nou"}),e("p",{className:"text-green-100 text-sm font-medium",children:"Completează informațiile despre contract"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:v=>{v.preventDefault(),r(n)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Număr Contract *"}),t("div",{className:"flex space-x-2",children:[e("input",{type:"text",name:"contract_number",value:n.contract_number,onChange:d,required:!0,className:"flex-1 px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: CT-CH-2024-001"}),!a&&e("button",{type:"button",onClick:()=>u(v=>({...v,contract_number:h()})),className:"px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-colors",title:"Generează număr nou",children:"🔄"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Titlu Contract *"}),e("input",{type:"text",name:"title",value:n.title,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: Contract Chirie Locație București"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Locație *"}),t("select",{name:"location_id",value:n.location_id,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"",children:"Selectează locația"}),i==null?void 0:i.map(v=>e("option",{value:v.id,children:v.name},v.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Proprietar *"}),t("select",{name:"proprietar_id",value:n.proprietar_id,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"",children:"Selectează proprietarul"}),o==null?void 0:o.map(v=>e("option",{value:v.id,children:v.name},v.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Tip Contract *"}),t("select",{name:"type",value:n.type,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"Chirie Locație",children:"Chirie Locație"}),e("option",{value:"Chirie Comercială",children:"Chirie Comercială"}),e("option",{value:"Chirie Industrială",children:"Chirie Industrială"}),e("option",{value:"Chirie Oficiu",children:"Chirie Oficiu"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Status *"}),t("select",{name:"status",value:n.status,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Inactive",children:"Inactiv"}),e("option",{value:"Expired",children:"Expirat"}),e("option",{value:"Pending",children:"În așteptare"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Data Început *"}),e("input",{type:"date",name:"start_date",value:n.start_date,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Data Sfârșit *"}),e("input",{type:"date",name:"end_date",value:n.end_date,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Chiria Lunară *"}),e("input",{type:"number",name:"monthly_rent",value:n.monthly_rent,onChange:d,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"0.00"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Depozit Garantie"}),e("input",{type:"number",name:"deposit",value:n.deposit,onChange:d,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"0.00"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Monedă *"}),t("select",{name:"currency",value:n.currency,onChange:d,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",children:[e("option",{value:"RON",children:"RON"}),e("option",{value:"EUR",children:"EUR"}),e("option",{value:"USD",children:"USD"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Termeni de Plată"}),e("input",{type:"text",name:"payment_terms",value:n.payment_terms,onChange:d,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"ex: Lunar, până în data de 5"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Descriere"}),e("textarea",{name:"description",value:n.description,onChange:d,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:"Descrierea contractului..."})]}),t("div",{className:"space-y-4",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Fișier Contract (PDF)"}),t("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-6 text-center hover:border-green-400 dark:hover:border-green-500 transition-colors",children:[e("input",{type:"file",id:"contractFile",accept:".pdf",onChange:c,className:"hidden"}),t("label",{htmlFor:"contractFile",className:"cursor-pointer flex flex-col items-center space-y-3",children:[e("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white",children:e(ue,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:n.contractFile?"Schimbă contractul":"Încarcă fișier contract"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF (max 10MB)"})]})]})]}),n.contractPreview&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-2",children:[f(n.contractFile),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Fișier Contract"})]}),e("button",{type:"button",onClick:p,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge fișierul",children:e(ne,{className:"w-4 h-4"})})]}),e(bt,{pdfUrl:n.contractPreview,title:`Contract ${n.contract_number||n.title}`,placeholder:"Contractul nu este disponibil",placeholderSubtext:"Atașează fișierul contractului pentru vizualizare"})]})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ee,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Contract"]})]})]})]})})]})})},si=({locationId:a,locationName:l})=>{const{contracts:r,createItem:s,updateItem:i,deleteItem:o,loading:n}=te(),[u,h]=b.useState(!1),[d,c]=b.useState(null),[p,f]=b.useState([]);b.useEffect(()=>{if(r)if(a){const g=r.filter(k=>k.location_id==a);f(g)}else f(r);else f([])},[r,a]);const _=()=>{c(null),h(!0)},v=g=>{console.log("View contract:",g)},N=g=>{console.log("Download contract:",g)},C=g=>{c(g),h(!0)},D=async g=>{window.confirm(`Sigur doriți să ștergeți contractul "${g.contract_number}"?`)&&await o("contracts",g.id)},T=async g=>{d?await i("contracts",d.id,g):await s("contracts",g),h(!1),c(null)};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("h3",{className:"text-xl font-bold text-slate-800",children:["Contracte - ",l]}),e("p",{className:"text-slate-600",children:"Gestionează contractele asociate acestei locații"})]}),t("button",{onClick:_,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Contract"})]})]}),e("div",{className:"card overflow-hidden",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:t("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Nr. Contract"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Tip Contract"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Perioadă"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Chiria Lunară"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Proprietar"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Acțiuni"})]})}),e("tbody",{className:"divide-y divide-slate-200",children:p.map(g=>t("tr",{className:"table-row hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"font-bold text-slate-900",children:g.contract_number})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-slate-700 font-medium",children:g.title}),e("div",{className:"text-slate-500 text-sm",children:g.type})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"text-slate-600 text-sm",children:[new Date(g.start_date).toLocaleDateString("ro-RO")," - ",new Date(g.end_date).toLocaleDateString("ro-RO")]})}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[t("div",{className:"text-slate-700 font-sans",children:[parseFloat(g.monthly_rent||0).toLocaleString("ro-RO")," ",g.currency]}),g.deposit&&t("div",{className:"text-slate-500 text-xs",children:["Depozit: ",parseFloat(g.deposit).toLocaleString("ro-RO")," ",g.currency]})]}),t("td",{className:"px-6 py-4 whitespace-nowrap",children:[e("div",{className:"text-slate-700 font-medium",children:g.proprietar_name||"N/A"}),g.proprietar_contact&&e("div",{className:"text-slate-500 text-xs",children:g.proprietar_contact})]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${g.status==="Active"?"bg-green-100 text-green-800":g.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:g.status==="Active"?"Activ":g.status==="Inactive"?"Inactiv":g.status==="Expired"?"Expirat":g.status==="Pending"?"În așteptare":g.status})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v(g),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-50 transition-colors",title:"Vezi contract",children:e(ke,{size:16})}),e("button",{onClick:()=>N(g),className:"text-green-600 hover:text-green-900 p-1 rounded-lg hover:bg-green-50 transition-colors",title:"Descarcă contract",children:e(se,{size:16})}),e("button",{onClick:()=>C(g),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded-lg hover:bg-yellow-50 transition-colors",title:"Editează contract",children:e(Te,{size:16})}),e("button",{onClick:()=>D(g),className:"text-red-600 hover:text-red-900 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"Șterge contract",children:e(De,{size:16})})]})})]},g.id))})]})})}),p.length===0&&t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(ee,{className:"w-16 h-16 text-blue-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există contracte"}),e("p",{className:"text-slate-600 mb-6",children:"Adaugă primul contract pentru această locație"}),t("button",{onClick:_,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Contract"})]})]}),u&&e(li,{item:d,onClose:()=>{h(!1),c(null)},onSave:T,locationId:a})]})},ni=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",contact_person:"",email:"",phone:"",address:"",cnp_cui:"",type:"Persoana Fizica",status:"Activ",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",contact_person:a.contact_person||"",email:a.email||"",phone:a.phone||"",address:a.address||"",cnp_cui:a.cnp_cui||"",type:a.type||"Persoana Fizica",status:a.status||"Activ",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-purple-800 to-violet-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-violet-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg",children:e(fe,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Proprietar":"Adaugă Proprietar Nou"}),e("p",{className:"text-purple-100 text-sm font-medium",children:"Completează informațiile despre proprietar"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Nume Proprietar *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Ion Popescu sau SC Imobiliare SRL"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Persoană de Contact"}),e("input",{type:"text",name:"contact_person",value:s.contact_person,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Maria Ionescu"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Email"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: ion.popescu@email.com"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Telefon"}),e("input",{type:"tel",name:"phone",value:s.phone,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: +40712345678"})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Adresă"}),e("input",{type:"text",name:"address",value:s.address,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: Str. Mihai Viteazu nr. 10, București"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"CNP / CUI"}),e("input",{type:"text",name:"cnp_cui",value:s.cnp_cui,onChange:o,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ex: 1234567890123 sau RO12345678"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e("option",{value:"Persoana Fizica",children:"Persoană Fizică"}),e("option",{value:"Persoana Juridica",children:"Persoană Juridică"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"})]})]})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:3,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Note suplimentare despre proprietar..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(fe,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Proprietar"]})]})]})]})})]})})},ii=({locationId:a,locationName:l})=>{const{proprietari:r,createItem:s,updateItem:i,deleteItem:o}=te(),[n,u]=b.useState(!1),[h,d]=b.useState(null),[c,p]=b.useState(""),f=(r||[]).filter(k=>{var z,S,U,L;return((z=k.name)==null?void 0:z.toLowerCase().includes(c.toLowerCase()))||((S=k.contact_person)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||((U=k.email)==null?void 0:U.toLowerCase().includes(c.toLowerCase()))||((L=k.phone)==null?void 0:L.toLowerCase().includes(c.toLowerCase()))}),_=()=>{d(null),u(!0)},v=k=>{console.log("View proprietar:",k)},N=k=>{d(k),u(!0)},C=async k=>{if(window.confirm(`Sigur doriți să ștergeți proprietarul "${k.name}"?`))try{await o("proprietari",k.id)}catch(z){console.error("Error deleting proprietar:",z)}},D=async k=>{try{h?await i("proprietari",h.id,k):await s("proprietari",k),u(!1),d(null)}catch(z){console.error("Error saving proprietar:",z)}},T=k=>{switch(k){case"Persoana Fizica":return"bg-blue-100 text-blue-800";case"Persoana Juridica":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=k=>{switch(k){case"Activ":return"bg-green-100 text-green-800";case"Inactiv":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Proprietari"}),t("p",{className:"text-slate-600",children:["Gestionează proprietarii pentru ",l]})]}),t("button",{onClick:_,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Proprietar"})]})]}),t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută proprietari...",value:c,onChange:k=>p(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),f.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(k=>t("div",{className:"card p-6 hover:shadow-lg transition-all duration-200 group",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl",children:e(fe,{className:"w-8 h-8 text-white"})}),t("div",{children:[e("h3",{className:"font-bold text-slate-800 group-hover:text-blue-700 transition-colors",children:k.name}),e("p",{className:"text-slate-600 text-sm",children:k.contact_person})]})]}),t("div",{className:"flex space-x-1",children:[e("button",{onClick:()=>v(k),className:"p-2 text-slate-400 hover:text-blue-500 transition-colors",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>N(k),className:"p-2 text-slate-400 hover:text-green-500 transition-colors",children:e(Te,{className:"w-4 h-4"})}),e("button",{onClick:()=>C(k),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:e(De,{className:"w-4 h-4"})})]})]}),t("div",{className:"space-y-3",children:[t("div",{className:"space-y-2",children:[k.email&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(ja,{className:"w-4 h-4"}),e("span",{children:k.email})]}),k.phone&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(La,{className:"w-4 h-4"}),e("span",{children:k.phone})]}),k.address&&t("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e(je,{className:"w-4 h-4"}),e("span",{className:"truncate",children:k.address})]})]}),t("div",{className:"flex space-x-2",children:[e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${T(k.type)}`,children:k.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g(k.status)}`,children:k.status})]}),k.cnp_cui&&t("div",{className:"text-xs text-slate-500",children:[k.type==="Persoana Fizica"?"CNP:":"CUI:"," ",k.cnp_cui]}),k.notes&&e("div",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-lg",children:k.notes})]})]},k.id))}):t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(fe,{className:"w-20 h-20 text-blue-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există proprietari"}),e("p",{className:"text-slate-600 mb-6",children:"Adaugă primul proprietar pentru această locație"}),t("button",{onClick:_,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Proprietar"})]})]}),n&&e(ni,{item:h,onClose:()=>{u(!1),d(null)},onSave:D})]})},oi=()=>{const{locations:a,createItem:l,updateItem:r,deleteItem:s,exportData:i,loading:o}=te(),[n,u]=b.useState(!1),[h,d]=b.useState(null),[c,p]=b.useState(""),[f,_]=b.useState([]),[v,N]=b.useState(!1);b.useEffect(()=>{N(f.length>0)},[f]);const C=A=>{_(A?F.map(V=>V.id):[])},D=(A,V)=>{_(V?[...f,A]:f.filter(W=>W!==A))},T=async()=>{if(f.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${f.length} elemente?`))try{for(const A of f)await s("locations",A);_([]),N(!1)}catch(A){console.error("Error bulk deleting:",A)}},g=()=>{f.length!==0&&console.log("Bulk edit for:",f)},[k,z]=b.useState("locations"),[S,U]=b.useState(null),[L,w]=b.useState(null),[I,x]=b.useState(!1),F=a.filter(A=>{var V,W,Y,be;return((V=A.name)==null?void 0:V.toLowerCase().includes(c.toLowerCase()))||((W=A.address)==null?void 0:W.toLowerCase().includes(c.toLowerCase()))||((Y=A.company)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||((be=A.contact_person)==null?void 0:be.toLowerCase().includes(c.toLowerCase()))}),y=[{key:"name",label:"Nume Locație",sortable:!0,render:A=>t("div",{className:"space-y-1",children:[e("div",{className:"font-bold text-slate-900 dark:text-slate-100 group-hover:text-green-700 dark:group-hover:text-green-400 transition-colors",children:A.name}),e("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:A.address})]})},{key:"company",label:"Companie",sortable:!0,render:A=>t("div",{className:"space-y-1",children:[e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:A.company}),e("div",{className:"flex items-center space-x-2",children:A.contact_person?t(ie,{children:[e("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:A.contact_person.charAt(0).toUpperCase()}),e("span",{className:"text-xs font-medium text-slate-700",children:A.contact_person})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-xs italic",children:"Nu este setată"})})]})},{key:"surface",label:"Suprafață (m²)",sortable:!0,render:A=>e("div",{className:"text-slate-600 text-sm font-sans",children:A.surface?`${A.surface} m²`:"N/A"})},{key:"capacity",label:"Capacitate (Sloturi)",sortable:!0,render:A=>t("div",{className:"text-slate-600 text-sm font-sans",children:[A.capacity||0," sloturi"]})},{key:"plan_file",label:"Plan Locație",sortable:!1,render:A=>e("div",{className:"flex items-center space-x-2",children:A.plan_file?t(ie,{children:[e("button",{onClick:()=>re(A),className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Vizualizează planul",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>G(A),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",title:"Descarcă planul",children:e(se,{className:"w-4 h-4"})}),e("button",{onClick:()=>R(A),className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",title:"Șterge planul",children:e(ne,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-sm italic",children:"Nu există plan"})})},{key:"created_at",label:"Data Creare",sortable:!0,render:A=>e("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(A.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:A=>{var V,W;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((W=(V=A.created_by)==null?void 0:V.charAt(0))==null?void 0:W.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:A.created_by||"Sistem"})]})}}],m=()=>{d(null),u(!0)},E=A=>{d(A),u(!0)},M=async A=>{window.confirm(`Sigur doriți să ștergeți locația "${A.name}"?`)&&await s("locations",A.id)},O=async A=>{h?await r("locations",h.id,A):await l("locations",A),u(!1),d(null)},q=async()=>{await i("locations","excel")},J=()=>{console.log("Import functionality to be implemented")},H=A=>{U(A),z("contracts")},X=A=>{U(A),z("proprietari")},re=A=>{A.plan_file&&(w(A.plan_file),x(!0))},R=async A=>{if(window.confirm(`Sigur doriți să ștergeți planul locației "${A.name}"?`))try{await r("locations",A.id,{plan_file:null})}catch(V){console.error("Error deleting document:",V)}},G=A=>{if(A.plan_file){const V=document.createElement("a");V.href=A.plan_file,V.download=`Plan_${A.name||"location"}.pdf`,V.click()}};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>z("locations"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${k==="locations"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(je,{size:20}),e("span",{children:"Locații"})]})}),e("button",{onClick:()=>z("contracts"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${k==="contracts"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(ee,{size:20}),e("span",{children:"Contracte"})]})}),e("button",{onClick:()=>z("proprietari"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${k==="proprietari"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(fe,{size:20}),e("span",{children:"Proprietari"})]})})]})}),k==="locations"?t(ie,{children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută locații...",value:c,onChange:A=>p(A.target.value),className:"input-field pl-12 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400"})]}),t("button",{onClick:J,className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:q,className:"btn-secondary flex items-center space-x-2",children:[e(se,{size:16}),e("span",{children:"Exportă"})]}),v&&t(ie,{children:[t("button",{onClick:g,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:T,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:m,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Locație"})]})]})}),e(we,{data:F,columns:y,onEdit:E,onDelete:M,onViewContracts:H,onViewProprietari:X,loading:o.locations,searchTerm:c,onSearchChange:p,selectedItems:f,onSelectAll:C,onSelectItem:D}),n&&e(ri,{item:h,onClose:()=>{u(!1),d(null)},onSave:O}),I&&L&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-3xl w-full max-w-6xl h-[90vh] overflow-hidden shadow-2xl",children:[t("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 px-6 py-4 flex justify-between items-center",children:[t("h3",{className:"text-xl font-bold text-white flex items-center",children:[e(ee,{className:"w-6 h-6 mr-2"}),"Vizualizare Plan Locație"]}),e("button",{onClick:()=>{x(!1),w(null)},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e(ne,{className:"w-6 h-6"})})]}),e("div",{className:"h-full p-6",children:e(bt,{pdfUrl:L,title:"Plan Locație",placeholder:"Planul locației nu este disponibil",placeholderSubtext:"Atașează planul locației pentru vizualizare"})})]})})]}):k==="contracts"?e(si,{locationId:(S==null?void 0:S.id)||null,locationName:(S==null?void 0:S.name)||"Toate Contractele"}):e(ii,{locationId:S==null?void 0:S.id,locationName:(S==null?void 0:S.name)||"Selectați o locație"})]})})},ci=({item:a,onClose:l,onSave:r})=>{te();const[s,i]=b.useState({name:"",contact_person:"",contact:"",phone:"",company:"",status:"Activ",notes:"",logo:{type:"upload",url:"",file:null}});b.useEffect(()=>{a&&i({name:a.name||"",contact_person:a.contact_person||"",contact:a.contact||"",phone:a.phone||"",company:a.company||"",status:a.status||"Activ",notes:a.notes||"",logo:a.logo?typeof a.logo=="object"?a.logo:{type:"upload",url:"",file:null}:{type:"upload",url:"",file:null}})},[a]);const o=c=>{i({...s,[c.target.name]:c.target.value})},n=c=>{i({...s,logo:{...s.logo,type:c}})},u=c=>{i({...s,logo:{...s.logo,url:c}})},h=c=>{const p=c.target.files[0];if(p){const f=new FileReader;f.onloadend=()=>{i({...s,logo:{...s.logo,file:f.result}})},f.readAsDataURL(p)}};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-purple-800 to-violet-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-violet-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg",children:e($e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Furnizor":"Adaugă Furnizor"}),e("p",{className:"text-purple-100 text-sm font-medium",children:"Completează informațiile despre furnizor"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:c=>{c.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Furnizor *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"input-field",placeholder:"ex: EGT Digital",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Persoana de Contact *"}),e("input",{type:"text",name:"contact_person",value:s.contact_person,onChange:o,className:"input-field",placeholder:"ex: Ion Popescu",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Companie Furnizor *"}),e("input",{type:"text",name:"company",value:s.company,onChange:o,className:"input-field",placeholder:"Introdu numele companiei",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Compania care deține furnizorul (pentru facturi și contracte)"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Email Contact *"}),e("input",{type:"email",name:"contact",value:s.contact,onChange:o,className:"input-field",placeholder:"ex: contact@egt-digital.com",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Telefon *"}),e("input",{type:"text",name:"phone",value:s.phone,onChange:o,className:"input-field",placeholder:"ex: +40 21 555 1234",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"input-field",children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Suspendat",children:"Suspendat"})]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Logo Furnizor"}),t("div",{className:"flex space-x-4 mb-4",children:[e("button",{type:"button",onClick:()=>n("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${s.logo.type==="upload"?"bg-purple-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Upload Logo"}),e("button",{type:"button",onClick:()=>n("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${s.logo.type==="link"?"bg-purple-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Link URL"})]}),s.logo.type==="upload"?t("div",{children:[e("input",{type:"file",accept:"image/*",onChange:h,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),s.logo.file&&t("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg flex items-center space-x-4",children:[e("img",{src:s.logo.file,alt:"Logo Preview",className:"h-9 w-9 object-contain rounded"}),e("span",{className:"text-sm text-green-600 font-medium",children:"✓ Logo încărcat"})]})]}):t("div",{children:[e("input",{type:"text",value:s.logo.url,onChange:c=>u(c.target.value),className:"input-field",placeholder:"https://example.com/logo.png"}),s.logo.url&&t("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg flex items-center space-x-4",children:[e("img",{src:s.logo.url,alt:"Logo Preview",className:"h-9 w-9 object-contain rounded"}),e("span",{className:"text-sm text-green-600 font-medium",children:"✓ Logo settat"})]})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:s.notes,onChange:o,className:"input-field min-h-[80px] resize-none",placeholder:"Informații suplimentare despre furnizor..."})]}),t("div",{className:"flex justify-end space-x-4 pt-8 border-t-2 border-slate-200/50 mt-8",children:[e("button",{type:"button",onClick:l,className:"btn-secondary group",children:e("span",{className:"group-hover:-translate-x-1 transition-transform inline-block",children:"Anulează"})}),e("button",{type:"submit",className:"btn-primary group",children:t("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:[a?"Actualizează":"Adaugă"," Furnizor"]})})]})]})})]})})},di=()=>{const{providers:a,games:l,createItem:r,updateItem:s,deleteItem:i,exportData:o,loading:n}=te(),[u,h]=b.useState(!1),[d,c]=b.useState(null),[p,f]=b.useState(""),[_,v]=b.useState([]),[N,C]=b.useState(!1),D=m=>!l||!m?0:l.filter(E=>E.provider&&E.provider.toLowerCase()===m.toLowerCase()).length;b.useEffect(()=>{C(_.length>0)},[_]);const T=m=>{v(m?S.map(E=>E.id):[])},g=(m,E)=>{v(E?[..._,m]:_.filter(M=>M!==m))},k=async()=>{if(_.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${_.length} elemente?`))try{for(const m of _)await i("providers",m);v([]),C(!1)}catch(m){console.error("Error bulk deleting:",m)}},z=()=>{_.length!==0&&console.log("Bulk edit for:",_)},S=a.filter(m=>{var E,M,O;return((E=m.name)==null?void 0:E.toLowerCase().includes(p.toLowerCase()))||((M=m.contact)==null?void 0:M.toLowerCase().includes(p.toLowerCase()))||((O=m.contractType)==null?void 0:O.toLowerCase().includes(p.toLowerCase()))}),U=[{key:"name",label:"Nume Furnizor",sortable:!0,render:m=>{var M,O,q;const E=((M=m.logo)==null?void 0:M.file)||((O=m.logo)==null?void 0:O.url);return t("div",{className:"flex items-center space-x-3",children:[E?e("img",{src:E,alt:m.name,className:"w-9 h-9 rounded-full object-cover border-2 border-slate-200 bg-white shadow-md",onError:J=>{J.target.style.display="none",J.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center text-white font-bold shadow-lg",style:{display:E?"none":"flex"},children:((q=m.name)==null?void 0:q.charAt(0))||"F"}),e("div",{className:"font-bold text-slate-900 dark:text-slate-100 group-hover:text-purple-700 dark:group-hover:text-purple-400 transition-colors",children:m.name})]})}},{key:"company",label:"Companie",sortable:!0,render:m=>e("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:m.company||"N/A"})},{key:"contact",label:"Contact",sortable:!0,render:m=>t("div",{className:"space-y-1",children:[e("div",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:m.contact}),e("div",{className:"text-slate-500 dark:text-slate-400 text-xs font-sans",children:m.phone})]})},{key:"games_count",label:"Nr. Jocuri",sortable:!0,render:m=>{const E=D(m.name);return t("span",{className:"text-blue-800 dark:text-blue-300 text-xs font-bold",children:[E," jocuri"]})}},{key:"status",label:"Status",sortable:!0,render:m=>{var O;const E=((O=m.status)==null?void 0:O.toLowerCase())||"",M=E==="activ"||E==="active";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${M?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:M?"Activ":"Inactiv"})}},{key:"created_by",label:"CREAT DE",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.created_at?new Date(m.created_at).toLocaleDateString("ro-RO"):"N/A"})}],L=()=>{c(null),h(!0)},w=m=>{c(m),h(!0)},I=async m=>{window.confirm(`Sigur doriți să ștergeți furnizorul "${m.name}"?`)&&await i("providers",m.id)},x=async m=>{d?await s("providers",d.id,m):await r("providers",m),h(!1),c(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap items-center gap-3",children:[t("div",{className:"relative flex-1 min-w-[200px] group",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-400 transition-colors",size:18}),e("input",{type:"text",placeholder:"Caută furnizori...",value:p,onChange:m=>f(m.target.value),className:"input-field pl-12"})]}),t("button",{onClick:()=>{console.log("Import functionality to be implemented")},className:"btn-secondary flex items-center space-x-2",children:[e(ue,{size:16}),e("span",{children:"Importă"})]}),t("button",{onClick:async()=>{await o("providers","excel")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{size:16}),e("span",{children:"Exportă"})]}),N&&t(ie,{children:[t("button",{onClick:z,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:k,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Furnizor"})]})]})}),e(we,{data:S,columns:U,loading:n.providers,searchTerm:p,onSearchChange:f,onEdit:w,onDelete:I,selectedItems:_,onSelectAll:T,onSelectItem:g}),u&&e(ci,{item:d,onClose:()=>{h(!1),c(null)},onSave:x})]})})},mi=({item:a,onClose:l,onSave:r})=>{const{providers:s,platforms:i}=te(),[o,n]=b.useState({provider:"",name:"",model:"",platform:"",status:"Activ",notes:""});b.useEffect(()=>{a&&n({provider:a.provider||"",name:a.name||"",model:a.model||"",platform:a.platform||"",status:a.status||"Activ",notes:a.notes||""})},[a]);const u=d=>{d.preventDefault(),r(o)},h=d=>{const{name:c,value:p}=d.target;n(f=>({...f,[c]:p}))};return e("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-purple-700 to-violet-600 text-white px-8 py-6 flex items-center justify-between rounded-t-3xl shadow-lg",children:[e("h2",{className:"text-2xl font-bold flex items-center",children:a?"Editează Cabinet":"Adaugă Cabinet Nou"}),e("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110",children:e(ne,{size:24})})]}),t("form",{onSubmit:u,className:"p-8 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:o.provider,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează furnizor"}),s==null?void 0:s.map(d=>e("option",{value:d.name,children:d.name},d.id))]}),e("p",{className:"text-xs text-slate-500",children:"Furnizorul cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Cabinet *"}),e("input",{type:"text",name:"name",value:o.name,onChange:h,className:"input-field",placeholder:"Ex: Cabinet Premium 01",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Numele cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Model"}),e("input",{type:"text",name:"model",value:o.model,onChange:h,className:"input-field",placeholder:"Ex: Deluxe 2024"}),e("p",{className:"text-xs text-slate-500",children:"Modelul cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Platformă *"}),t("select",{name:"platform",value:o.platform,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"",children:"Selectează platformă"}),i==null?void 0:i.map(d=>e("option",{value:d.name,children:d.name},d.id))]}),e("p",{className:"text-xs text-slate-500",children:"Platforma tehnică a cabinetului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status *"}),t("select",{name:"status",value:o.status,onChange:h,className:"input-field",required:!0,children:[e("option",{value:"Activ",children:"Activ"}),e("option",{value:"Inactiv",children:"Inactiv"}),e("option",{value:"Mentenanță",children:"Mentenanță"})]}),e("p",{className:"text-xs text-slate-500",children:"Statusul actual"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note Adiționale"}),e("textarea",{name:"notes",value:o.notes,onChange:h,className:"input-field min-h-[100px] resize-none",placeholder:"Informații suplimentare despre cabinet..."}),e("p",{className:"text-xs text-slate-500",children:"Observații și detalii adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary px-8",children:"Anulează"}),e("button",{type:"submit",className:"btn-primary px-8",children:a?"Actualizează Cabinet":"Adaugă Cabinet"})]})]})]})})},Zr=({item:a,onClose:l,onSave:r})=>{const{providers:s}=te(),[i,o]=b.useState({name:"",serial_numbers:"",provider_id:"",avatar_url:"",avatar_file:"",status:"Active",notes:""}),[n,u]=b.useState(null);b.useEffect(()=>{a&&(o({name:a.name||"",serial_numbers:a.serial_numbers||"",provider_id:a.provider_id||"",avatar_url:a.avatar_url||"",avatar_file:a.avatar_file||"",status:a.status||"Active",notes:a.notes||""}),a.avatar_url?u(a.avatar_url):a.avatar_file&&a.avatar_file!=="{}"?u(a.avatar_file):u(null))},[a]);const h=f=>{f.preventDefault(),r(i)},d=f=>{const{name:_,value:v}=f.target;o(N=>({...N,[_]:v}))},c=f=>{const _=f.target.files[0];if(_){const v=new FileReader;v.onload=N=>{const C=N.target.result;o(D=>({...D,avatar_file:C,avatar_url:""})),u(C)},v.readAsDataURL(_)}},p=f=>{o(_=>({..._,avatar_url:f.target.value,avatar_file:""})),f.target.value?u(f.target.value):u(null)};return e("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:t("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white px-8 py-6 flex items-center justify-between rounded-t-3xl shadow-lg",children:[e("h2",{className:"text-2xl font-bold flex items-center",children:a?"Editează Platformă":"Adaugă Platformă Nouă"}),e("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110",children:e(ne,{size:24})})]}),t("form",{onSubmit:h,className:"p-6",children:[t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Platformă *"}),e("input",{type:"text",name:"name",value:i.name,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",placeholder:"Ex: Android 10 Pro",required:!0})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor"}),t("select",{name:"provider_id",value:i.provider_id,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",children:[e("option",{value:"",children:"Selectează furnizor"}),s.map(f=>e("option",{value:f.id,children:f.name},f.id))]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Avatar Platformă"}),t("div",{className:"space-y-3",children:[n&&e("div",{className:"flex justify-center",children:e("img",{src:n,alt:"Preview",className:"w-20 h-20 rounded-xl object-cover border-2 border-slate-200 shadow-sm"})}),e("input",{type:"url",name:"avatar_url",value:i.avatar_url,onChange:p,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",placeholder:"https://example.com/avatar.png"}),e("div",{className:"relative",children:e("input",{type:"file",name:"avatar_file",onChange:c,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100",accept:"image/*"})})]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:i.status,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm",required:!0,children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:i.notes,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm resize-none",placeholder:"Informații adiționale despre platformă...",rows:3})]})]}),t("div",{className:"mt-6 space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numere Seriale *"}),e("textarea",{name:"serial_numbers",value:i.serial_numbers,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 bg-white shadow-sm text-sm resize-none",placeholder:`Introdu numerele seriale, separate prin virgulă sau pe rânduri diferite:
SN001, SN002, SN003
sau:
SN001
SN002
SN003`,rows:4,required:!0}),t("div",{className:"flex items-center space-x-2 text-xs text-slate-500",children:[e("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-blue-50 text-blue-700",children:"💡 Exemplu: SN12345, SN12346, SN12347"}),e("span",{children:"sau pe rânduri separate"})]})]}),t("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-2.5 text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-xl transition-all duration-200 font-medium",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl hover:from-cyan-600 hover:to-blue-600 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:a?"Actualizează":"Adaugă Platformă"})]})]})]})})},ui=({locationId:a,locationName:l,hideSearchAndAdd:r=!1})=>{const{platforms:s,createItem:i,updateItem:o,deleteItem:n}=te(),[u,h]=b.useState(!1),[d,c]=b.useState(null),[p,f]=b.useState(""),_=s.filter(S=>{var U,L,w,I;return((U=S.name)==null?void 0:U.toLowerCase().includes(p.toLowerCase()))||((L=S.type)==null?void 0:L.toLowerCase().includes(p.toLowerCase()))||((w=S.status)==null?void 0:w.toLowerCase().includes(p.toLowerCase()))||((I=S.description)==null?void 0:I.toLowerCase().includes(p.toLowerCase()))}),v=()=>{c(null),h(!0)},N=S=>{console.log("View platform:",S)},C=S=>{c(S),h(!0)},D=async S=>{if(window.confirm(`Sigur doriți să ștergeți platforma "${S.name}"?`))try{await n("platforms",S.id)}catch(U){console.error("Error deleting platform:",U)}},T=async S=>{try{d?await o("platforms",d.id,S):await i("platforms",S),h(!1),c(null)}catch(U){console.error("Error saving platform:",U)}},g=S=>{switch(S){case"Gaming":return"bg-purple-100 text-purple-800";case"Server":return"bg-blue-100 text-blue-800";case"Workstation":return"bg-green-100 text-green-800";case"Terminal":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},k=S=>{switch(S){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=S=>{switch(S){case"Gaming":return e(gt,{className:"w-6 h-6 text-white"});case"Server":return e(wa,{className:"w-6 h-6 text-white"});case"Workstation":return e(br,{className:"w-6 h-6 text-white"});case"Terminal":return e(gt,{className:"w-6 h-6 text-white"});default:return e(gt,{className:"w-6 h-6 text-white"})}};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Platforme"}),e("p",{className:"text-slate-600",children:a?`Gestionează platformele pentru ${l}`:"Toate platformele din sistem"})]}),!r&&t("button",{onClick:v,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:"Adaugă Platformă"})]})]}),!r&&t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută platforme...",value:p,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),_.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(S=>t("div",{className:"card p-6 hover:shadow-lg transition-all duration-200 group",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl",children:z(S.type)}),t("div",{children:[e("h3",{className:"font-bold text-slate-800 group-hover:text-purple-700 transition-colors",children:S.name}),e("p",{className:"text-slate-600 text-sm",children:S.type})]})]}),t("div",{className:"flex space-x-1",children:[e("button",{onClick:()=>N(S),className:"p-2 text-slate-400 hover:text-blue-500 transition-colors",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>C(S),className:"p-2 text-slate-400 hover:text-green-500 transition-colors",children:e(Te,{className:"w-4 h-4"})}),e("button",{onClick:()=>D(S),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:e(De,{className:"w-4 h-4"})})]})]}),t("div",{className:"space-y-3",children:[t("div",{className:"space-y-2",children:[S.description&&e("div",{className:"text-sm text-slate-600",children:S.description}),S.specifications&&t("div",{className:"text-xs text-slate-500",children:[e("strong",{children:"Specs:"})," ",S.specifications]}),S.location&&t("div",{className:"text-xs text-slate-500",children:[e("strong",{children:"Locație:"})," ",S.location]})]}),t("div",{className:"flex space-x-2",children:[e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g(S.type)}`,children:S.type}),e("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${k(S.status)}`,children:S.status==="Active"?"Activ":S.status==="Inactive"?"Inactiv":S.status==="Maintenance"?"În mentenanță":S.status==="Offline"?"Offline":S.status})]}),S.notes&&e("div",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-lg",children:S.notes})]})]},S.id))}):t("div",{className:"card p-12 text-center",children:[e("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-3xl inline-block mb-6",children:e(gt,{className:"w-16 h-16 text-purple-500 mx-auto"})}),e("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nu există platforme"}),e("p",{className:"text-slate-600 mb-6",children:a?"Adaugă prima platformă pentru această locație":"Nu există platforme în sistem"}),!r&&t("button",{onClick:v,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(me,{size:18}),e("span",{children:"Adaugă Platformă"})]})]}),u&&e(Zr,{item:d,onClose:()=>{h(!1),c(null)},onSave:T})]})},hi=()=>{const{cabinets:a,platforms:l,providers:r,createItem:s,updateItem:i,deleteItem:o,exportData:n,loading:u}=te(),[h,d]=b.useState(!1),[c,p]=b.useState(!1),[f,_]=b.useState(null),[v,N]=b.useState(""),[C,D]=b.useState([]),[T,g]=b.useState(!1);b.useEffect(()=>{g(C.length>0)},[C]);const k=O=>{D(O?I.map(q=>q.id):[])},z=(O,q)=>{D(q?[...C,O]:C.filter(J=>J!==O))},S=async()=>{if(C.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${C.length} elemente?`))try{for(const O of C)await o("cabinets",O);D([]),g(!1)}catch(O){console.error("Error bulk deleting:",O)}},U=()=>{C.length!==0&&console.log("Bulk edit for:",C)},[L,w]=b.useState("cabinets"),I=a.filter(O=>{var q,J,H,X;return((q=O.name)==null?void 0:q.toLowerCase().includes(v.toLowerCase()))||((J=O.provider)==null?void 0:J.toLowerCase().includes(v.toLowerCase()))||((H=O.model)==null?void 0:H.toLowerCase().includes(v.toLowerCase()))||((X=O.platform)==null?void 0:X.toLowerCase().includes(v.toLowerCase()))});l!=null&&l.filter(O=>{var q,J;return((q=O.name)==null?void 0:q.toLowerCase().includes(v.toLowerCase()))||((J=O.serial_numbers)==null?void 0:J.toLowerCase().includes(v.toLowerCase()))});const x=[{key:"name",label:"Nume Cabinet",sortable:!0,render:O=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold shadow-lg",children:e(Se,{className:"w-4 h-4 text-white"})}),e("div",{className:"font-bold text-slate-900",children:O.name})]})},{key:"provider",label:"Furnizor",sortable:!0,render:O=>{var H;const J=(X=>{if(X.provider_logo)try{const re=typeof X.provider_logo=="string"?JSON.parse(X.provider_logo):X.provider_logo;return re.file||re.url||re}catch{return X.provider_logo}return null})(O);return t("div",{className:"flex items-center space-x-3",children:[J?e("img",{src:J,alt:O.provider_name||O.provider,className:"w-8 h-8 rounded-full object-cover border-2 border-slate-200 bg-white shadow-md",onError:X=>{X.target.style.display="none",X.target.nextSibling.style.display="flex"}}):null,e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center text-white font-bold shadow-lg",style:{display:J?"none":"flex"},children:((H=O.provider_name||O.provider)==null?void 0:H.charAt(0))||"F"}),e("span",{className:"text-purple-800 dark:text-purple-300 text-xs font-bold",children:O.provider_name||O.provider||"N/A"})]})}},{key:"model",label:"Model",sortable:!0},{key:"platform",label:"Platformă",sortable:!0,render:O=>{const J=(H=>H.platform_avatar_url&&H.platform_avatar_url.trim()!==""?H.platform_avatar_url:H.platform_avatar_file&&H.platform_avatar_file!=="{}"&&H.platform_avatar_file.trim()!==""?H.platform_avatar_file:null)(O);return t("div",{className:"flex items-center space-x-3",children:[J?e("img",{src:J,alt:O.platform_name||O.platform,className:"w-[60px] h-[30px] rounded object-contain border border-slate-200 bg-white shadow-sm",onError:H=>{H.target.style.display="none",H.target.nextSibling.style.display="flex"}}):null,e("div",{className:`w-[60px] h-[30px] rounded flex items-center justify-center text-white font-bold shadow-sm ${J?"bg-white border border-slate-200":"bg-gradient-to-br from-cyan-500 to-blue-500"}`,style:{display:J?"none":"flex"},children:e(gt,{className:`w-5 h-5 ${J?"text-slate-600":"text-white"}`})}),e("span",{className:"text-cyan-800 dark:text-cyan-300 text-xs font-bold",children:O.platform_name||O.platform||"N/A"})]})}},{key:"status",label:"Status",sortable:!0,render:O=>{var J,H;const q=((J=O.status)==null?void 0:J.toLowerCase())==="activ"||((H=O.status)==null?void 0:H.toLowerCase())==="active";return e("span",{className:`px-4 py-2 rounded-2xl text-xs font-bold shadow-lg ${q?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/25":"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-red-500/25"}`,children:q?"Activ":"Inactiv"})}},{key:"created_at",label:"Data Creare",sortable:!0,render:O=>e("div",{className:"text-sm text-slate-600",children:new Date(O.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:O=>{var q,J;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((J=(q=O.created_by)==null?void 0:q.charAt(0))==null?void 0:J.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700",children:O.created_by||"Sistem"})]})}}];b.useState({});const F=()=>{_(null),d(!0)},y=()=>{_(null),p(!0)},m=O=>{_(O),L==="cabinets"?d(!0):p(!0)},E=async O=>{const q=L==="cabinets"?"cabinets":"platforms";f?await i(q,f.id,O):await s(q,O),d(!1),p(!1)},M=async O=>{const q=L==="cabinets"?"cabinets":"platforms";window.confirm(`Sigur vrei să ștergi acest ${L==="cabinets"?"cabinet":"platformă"}?`)&&await o(q,O)};return t(oe,{children:[t("div",{className:"space-y-6",children:[e("div",{className:"card p-4",children:t("div",{className:"flex space-x-2 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>{w("cabinets"),N("")},className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${L==="cabinets"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25 scale-105":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(Se,{size:20}),e("span",{children:"CABINETE"}),e("span",{className:`px-2 py-1 rounded-full text-xs ${L==="cabinets"?"bg-white/20":"bg-slate-200 text-slate-700"}`,children:a.length})]})}),e("button",{onClick:()=>{w("platforms"),N("")},className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${L==="platforms"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg shadow-cyan-500/25 scale-105":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(gt,{size:20}),e("span",{children:"PLATFORME"}),e("span",{className:`px-2 py-1 rounded-full text-xs ${L==="platforms"?"bg-white/20":"bg-slate-200 text-slate-700"}`,children:(l==null?void 0:l.length)||0})]})})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e("div",{className:"flex-1 max-w-md",children:t("div",{className:"relative",children:[e(Ae,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),e("input",{type:"text",placeholder:`Caută ${L==="cabinets"?"cabinete":"platforme"}...`,value:v,onChange:O=>N(O.target.value),className:"input-field pl-12"})]})}),t("div",{className:"flex gap-3",children:[t("button",{onClick:()=>n(L==="cabinets"?"cabinets":"platforms"),className:"btn-secondary flex items-center space-x-2",children:[e(se,{size:18}),e("span",{className:"hidden sm:inline",children:"Export"})]}),T&&L==="cabinets"&&t(ie,{children:[t("button",{onClick:U,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:S,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L==="cabinets"?F:y,className:"btn-primary flex items-center space-x-2",children:[e(me,{size:18}),e("span",{children:L==="cabinets"?"Adaugă Cabinet":"Adaugă Platformă"})]})]})]})}),L==="cabinets"?e("div",{className:"card p-6",children:e(we,{data:I,columns:x,onEdit:m,onDelete:M,loading:u,selectedItems:C,onSelectAll:k,onSelectItem:z})}):e(ui,{locationId:null,locationName:"Toate Platformele",hideSearchAndAdd:!0})]}),h&&e(mi,{item:f,onClose:()=>d(!1),onSave:E}),c&&e(Zr,{item:f,onClose:()=>p(!1),onSave:E})]})},pi=({item:a,onClose:l,onSave:r})=>{const{providers:s}=te(),[i,o]=b.useState({name:"",provider:"",games:"",rtp:"",denomination:.01,max_bet:"",gaming_places:1,status:"Active",notes:""});b.useEffect(()=>{if(a){let d="";try{if(typeof a.games=="string"){const c=JSON.parse(a.games);d=Array.isArray(c)?c.join(`
`):""}else Array.isArray(a.games)&&(d=a.games.join(`
`))}catch(c){console.error("Error parsing games:",c),d=""}o({name:a.name||"",provider:a.provider||"",games:d,rtp:a.rtp||"",denomination:a.denomination||.01,max_bet:a.max_bet||"",gaming_places:a.gaming_places||1,status:a.status||"Active",notes:a.notes||""})}},[a]);const n=d=>{const{name:c,value:p}=d.target;o(f=>({...f,[c]:p}))},u=()=>i.games.trim()?i.games.split(`
`).filter(d=>d.trim()).length:0;return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-indigo-800 to-blue-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-blue-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg",children:e(ft,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Game Mix":"Adaugă Game Mix"}),e("p",{className:"text-indigo-100 text-sm font-medium",children:"Completează informațiile despre game mix"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:d=>{d.preventDefault();const c=i.games.split(`
`).map(f=>f.trim()).filter(f=>f.length>0),p={...i,games:c,rtp:i.rtp?parseFloat(i.rtp):null,denomination:i.denomination?parseFloat(i.denomination):.01,max_bet:i.max_bet?parseFloat(i.max_bet):null,gaming_places:i.gaming_places?parseInt(i.gaming_places):1};console.log("🎮 GameMix submitData:",p),r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Nume Game Mix *"}),e("input",{type:"text",name:"name",value:i.name,onChange:n,className:"input-field",placeholder:"ex: Mix Clasice Novomatic",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Furnizor"}),t("select",{name:"provider",value:i.provider,onChange:n,className:"input-field",children:[e("option",{value:"",children:"Selectează furnizor"}),s==null?void 0:s.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"RTP (%)"}),e("input",{type:"number",step:"0.01",name:"rtp",value:i.rtp,onChange:n,className:"input-field",placeholder:"ex: 96.5"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Status *"}),t("select",{name:"status",value:i.status,onChange:n,className:"input-field",required:!0,children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Jocuri în Mix"}),t("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[e("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold shadow-lg",children:u()}),t("div",{children:[t("div",{className:"font-bold text-slate-900",children:[u()," jocuri"]}),e("div",{className:"text-sm text-slate-500",children:"în acest mix"})]})]})]})]}),e("div",{className:"space-y-4",children:t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Jocuri în Mix *"}),e("textarea",{name:"games",value:i.games,onChange:n,className:"input-field",rows:6,placeholder:`Introdu numele jocurilor, separate pe rânduri diferite:
Book of Ra
Sizzling Hot
Lucky Lady Charm
Dolphins Pearl`,required:!0}),t("div",{className:"flex items-center space-x-2 text-xs text-slate-500",children:[e("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-green-50 text-green-700",children:"💡 Exemplu: Un joc pe fiecare rând"}),e("span",{className:"text-slate-400",children:"•"}),t("span",{children:[u()," jocuri adăugate"]})]})]})}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Configurație Tehnică"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Denomination"}),e("input",{type:"number",step:"0.01",name:"denomination",value:i.denomination,onChange:n,className:"input-field",placeholder:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Max Bet"}),e("input",{type:"number",step:"0.01",name:"max_bet",value:i.max_bet,onChange:n,className:"input-field",placeholder:"100.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Gaming Places"}),e("input",{type:"number",name:"gaming_places",value:i.gaming_places,onChange:n,className:"input-field",placeholder:"1"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:i.notes,onChange:n,className:"input-field",rows:3,placeholder:"Note adiționale despre acest game mix..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ft,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Game Mix"]})]})]})]})})]})})},bi=()=>{const a=Ke();te();const[l,r]=b.useState([]),[s,i]=b.useState(!1),[o,n]=b.useState(""),[u,h]=b.useState(""),[d,c]=b.useState(""),[p,f]=b.useState(""),[_,v]=b.useState("grid"),[N,C]=b.useState("name"),D=[{game_id:"00000004-0000-5000-9000-000000000001",name:"10 Burning Heart",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"fruits",volatility:"low - medium",lines:10,layout:"5x3",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000001.png"},{game_id:"00000004-0000-5000-9000-000000000002",name:"100 Burning Hot",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"fruits",volatility:"medium",lines:100,layout:"5x4",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000002.png"},{game_id:"00000004-0000-5000-9000-000000000003",name:"100 Cats",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"animals and nature and wildlife",volatility:"low - medium",lines:100,layout:"5x4",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000003.png"},{game_id:"00000004-0000-5000-9000-000000000005",name:"2 Dragons",provider:"Amusnet",provider_id:"00000005-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"video slot",mechanic:"rng",theme:"dragons and mythical creatures;asian cultures;oriental and asian prosperity",volatility:"high",lines:20,layout:"5x3",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000005.png"},{game_id:"00000004-0000-5000-9000-000000000099",name:"Mini Burning Hot",provider:"Egypt Quest",provider_id:"00000555-dc86-47af-8013-c46b4c5105af",category:"Slots",type:"slots",product:"Casino",classification:"n/a",mechanic:"n/a",theme:"n/a",volatility:"n/a",lines:5,layout:"n/a",image_url:"https://cdn.cashpot.ro/cashpot/t1/thumbnail_games/00000004-0000-5000-9000-000000000099.png"}];b.useEffect(()=>{T()},[]);const T=async()=>{i(!0);try{const x=await fetch("/api/games");if(!x.ok)throw new Error("Failed to load games");const F=await x.json();r(F)}catch(x){console.error("Error loading games:",x),r(D)}finally{i(!1)}},g=[...new Set(l.map(x=>x.provider))],k=[...new Set(l.map(x=>x.volatility).filter(x=>x&&x!=="n/a"))];[...new Set(l.map(x=>x.theme).filter(x=>x&&x!=="n/a"))];const z=l.filter(x=>{const F=x.name.toLowerCase().includes(o.toLowerCase()),y=!u||x.provider===u,m=!d||x.volatility===d,E=!p||x.theme.includes(p);return F&&y&&m&&E}),S=[...z].sort((x,F)=>{switch(N){case"provider":return x.provider.localeCompare(F.provider);case"volatility":const y={low:1,"low - medium":2,medium:3,high:4};return(y[x.volatility]||5)-(y[F.volatility]||5);default:return x.name.localeCompare(F.name)}}),U=x=>{switch(x){case"low":return"bg-green-100 text-green-800";case"low - medium":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=x=>{switch(x){case"low":return e(Xe,{className:"w-3 h-3"});case"low - medium":return e(Dt,{className:"w-3 h-3"});case"medium":return e(xr,{className:"w-3 h-3"});case"high":return e(Dt,{className:"w-3 h-3"});default:return e(Xe,{className:"w-3 h-3"})}};return t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e(Se,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Biblioteca Jocuri"}),e("p",{className:"text-slate-600",children:"Toate jocurile disponibile de la toți furnizorii"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{console.log("Export games library")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("button",{onClick:()=>{console.log("Import games from Google Sheets")},className:"btn-primary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă din Sheets"})]})]})]})}),t("div",{className:"card p-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t("div",{className:"lg:col-span-2 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută jocuri...",value:o,onChange:x=>n(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t("select",{value:u,onChange:x=>h(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"",children:"Toți furnizorii"}),g.map(x=>e("option",{value:x,children:x},x))]}),t("select",{value:d,onChange:x=>c(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"",children:"Toate volatilitățile"}),k.map(x=>e("option",{value:x,children:x},x))]}),t("select",{value:N,onChange:x=>C(x.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e("option",{value:"name",children:"Sortare: Nume"}),e("option",{value:"provider",children:"Sortare: Furnizor"}),e("option",{value:"volatility",children:"Sortare: Volatilitate"})]})]}),t("div",{className:"flex items-center justify-between mt-4",children:[e("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-sm text-slate-600",children:[z.length," jocuri din ",l.length," total"]})}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-colors ${_==="grid"?"bg-purple-100 text-purple-600":"text-slate-400 hover:text-slate-600"}`,children:e(ul,{className:"w-4 h-4"})}),e("button",{onClick:()=>v("list"),className:`p-2 rounded-lg transition-colors ${_==="list"?"bg-purple-100 text-purple-600":"text-slate-400 hover:text-slate-600"}`,children:e(hl,{className:"w-4 h-4"})})]})]})]}),e("div",{className:"card p-6",children:s?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):z.length===0?t("div",{className:"text-center py-12",children:[e(Se,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există jocuri"}),e("p",{className:"text-slate-500",children:"Importă jocurile din Google Sheets pentru a începe"})]}):e("div",{className:_==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4":"space-y-4",children:S.map(x=>_==="grid"?e("div",{className:"group cursor-pointer",onClick:()=>a(`/games/${x.game_id}`),children:t("div",{className:"bg-white rounded-xl border border-slate-200 p-3 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[t("div",{className:"w-full h-64 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg mb-3 overflow-hidden flex items-center justify-center",children:[e("img",{src:x.image_url,alt:x.name,className:"max-w-full max-h-full object-contain group-hover:scale-105 transition-transform duration-300",style:{imageRendering:"crisp-edges"},onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-8 h-8 text-purple-400"})})]}),t("div",{className:"space-y-2",children:[e("h3",{className:"font-semibold text-slate-800 text-sm line-clamp-2 group-hover:text-purple-600 transition-colors",children:x.name}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:x.provider}),x.volatility&&x.volatility!=="n/a"&&t("span",{className:`text-xs px-2 py-1 rounded-full flex items-center space-x-1 ${U(x.volatility)}`,children:[L(x.volatility),e("span",{children:x.volatility})]})]}),x.lines&&x.lines!=="n/a"&&t("div",{className:"text-xs text-slate-500",children:[x.lines," linii • ",x.layout]})]})]})},x.game_id):t("div",{className:"flex items-center space-x-4 p-4 bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(`/games/${x.game_id}`),children:[t("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:[e("img",{src:x.image_url,alt:x.name,className:"max-w-full max-h-full object-contain",style:{imageRendering:"crisp-edges"},onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-6 h-6 text-purple-400"})})]}),t("div",{className:"flex-1 min-w-0",children:[e("h3",{className:"font-semibold text-slate-800 group-hover:text-purple-600 transition-colors",children:x.name}),e("p",{className:"text-sm text-slate-500 truncate",children:x.theme}),t("div",{className:"flex items-center space-x-2 mt-1",children:[e("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:x.provider}),x.volatility&&x.volatility!=="n/a"&&t("span",{className:`text-xs px-2 py-1 rounded-full flex items-center space-x-1 ${U(x.volatility)}`,children:[L(x.volatility),e("span",{children:x.volatility})]}),x.lines&&x.lines!=="n/a"&&t("span",{className:"text-xs text-slate-500",children:[x.lines," linii"]})]})]}),e("button",{onClick:F=>{F.stopPropagation(),a(`/games/${x.game_id}`)},className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:e(ke,{className:"w-4 h-4"})})]},x.game_id))})})]})},xi=()=>{const{gameMixes:a,createItem:l,updateItem:r,deleteItem:s,refreshData:i}=te(),[o,n]=b.useState("mixes"),[u,h]=b.useState(!1),[d,c]=b.useState(null),[p,f]=b.useState(""),[_,v]=b.useState("all"),[N,C]=b.useState([]),[D,T]=b.useState(!1);b.useEffect(()=>{T(N.length>0)},[N]);const g=()=>{c(null),h(!0)},k=m=>{c(m),h(!0)},z=()=>{h(!1),c(null)},S=async m=>{try{console.log("🎮 GameMixes handleSave:",{selectedItem:d,formData:m}),d?(console.log("🎮 Updating game mix:",d.id,m),await r("gameMixes",d.id,m)):(console.log("🎮 Creating game mix:",m),await l("gameMixes",m)),await i(),z()}catch(E){console.error("Error saving game mix:",E)}},U=async m=>{if(window.confirm("Ești sigur că vrei să ștergi acest game mix?"))try{await s("gameMixes",m)}catch(E){console.error("Error deleting game mix:",E)}},L=m=>{C(m?F.map(E=>E.id):[])},w=(m,E)=>{C(E?[...N,m]:N.filter(M=>M!==m))},I=async()=>{if(N.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${N.length} game mix-uri?`))try{for(const m of N)await s("gameMixes",m);C([]),T(!1)}catch(m){console.error("Error bulk deleting game mixes:",m)}},x=()=>{N.length!==0&&console.log("Bulk edit for:",N)},F=a.filter(m=>{var O,q;const E=((O=m.name)==null?void 0:O.toLowerCase().includes(p.toLowerCase()))||((q=m.provider)==null?void 0:q.toLowerCase().includes(p.toLowerCase())),M=_==="all"||m.status===_;return E&&M}),y=[{key:"name",label:"Nume Game Mix",sortable:!0,render:m=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center text-white font-bold shadow-lg",children:e(ft,{className:"w-5 h-5"})}),t("div",{children:[e("div",{className:"font-bold text-slate-900",children:m.name}),t("div",{className:"text-sm text-slate-500",children:["ID: ",m.id]})]})]})},{key:"provider",label:"Furnizor",sortable:!0,render:m=>e("span",{className:"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-800 px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm",children:m.provider||"N/A"})},{key:"games",label:"Jocuri",render:m=>{const E=typeof m.games=="string"?JSON.parse(m.games):m.games,M=Array.isArray(E)?E.length:0;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold shadow-lg",children:M}),t("span",{className:"text-sm font-medium text-slate-700",children:[M," jocuri"]})]})}},{key:"status",label:"Status",sortable:!0,render:m=>{var O;const E=((O=m.status)==null?void 0:O.toLowerCase())||"";return e("span",{className:`px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm ${E==="activ"||E==="active"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800"}`,children:m.status})}},{key:"created_at",label:"Data Creare",sortable:!0,render:m=>e("div",{className:"text-sm text-slate-600",children:new Date(m.created_at).toLocaleDateString("ro-RO")})},{key:"created_by",label:"Creat de",sortable:!0,render:m=>{var E,M;return t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xs shadow-lg",children:((M=(E=m.created_by)==null?void 0:E.charAt(0))==null?void 0:M.toUpperCase())||"A"}),e("span",{className:"text-sm font-medium text-slate-700",children:m.created_by||"Sistem"})]})}}];return e(oe,{children:t("div",{className:"space-y-6",children:[t("div",{className:"card p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg shadow-red-500/25",children:e(ft,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Game Mixes"}),e("p",{className:"text-slate-600",children:"Gestionează mixurile de jocuri și biblioteca de jocuri"})]})]}),t("div",{className:"flex items-center space-x-3",children:[o==="mixes"&&D&&t(ie,{children:[t("button",{onClick:x,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),t("span",{children:["Bulk Edit (",N.length,")"]})]}),t("button",{onClick:I,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),t("span",{children:["Bulk Delete (",N.length,")"]})]})]}),o==="mixes"&&t("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-5 h-5"}),e("span",{children:"Adaugă Game Mix"})]})]})]}),t("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-lg",children:[t("button",{onClick:()=>n("mixes"),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all duration-200 ${o==="mixes"?"bg-white text-red-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:[e(ft,{className:"w-4 h-4"}),e("span",{className:"font-medium",children:"Game Mixes"})]}),t("button",{onClick:()=>n("games"),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all duration-200 ${o==="games"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"}`,children:[e(Se,{className:"w-4 h-4"}),e("span",{className:"font-medium",children:"Biblioteca Jocuri"})]})]})]}),o==="mixes"?t(ie,{children:[e("div",{className:"card p-6",children:t("div",{className:"flex flex-wrap gap-4 items-center",children:[e("div",{className:"flex-1 min-w-64",children:t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută game mix sau furnizor...",value:p,onChange:m=>f(m.target.value),className:"input-field pl-10"})]})}),t("div",{className:"flex items-center space-x-2",children:[e(ka,{className:"w-5 h-5 text-slate-500"}),t("select",{value:_,onChange:m=>v(m.target.value),className:"input-field",children:[e("option",{value:"all",children:"Toate statusurile"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"flex items-center space-x-2",children:[t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Export"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Import"})]})]})]})}),e("div",{className:"card",children:e(we,{data:F,columns:y,onEdit:k,onDelete:U,searchTerm:p,emptyMessage:"Nu există game mixes în sistem",selectedItems:N,onSelectAll:L,onSelectItem:w})})]}):e(bi,{}),u&&e(pi,{item:d,onClose:z,onSave:S})]})})},gi=()=>{const{gameId:a}=ra(),l=Ke(),{slots:r,gameMixes:s,providers:i,companies:o,locations:n,cabinets:u}=te(),[h,d]=b.useState(null),[c,p]=b.useState(!0),[f,_]=b.useState(null),[v,N]=b.useState([]);b.useEffect(()=>{k(),C()},[a,r,s]);const C=()=>{if(!h||!r||!s)return;const L=[];r.forEach(w=>{if(w.game_mix){const I=s.find(x=>x.name===w.game_mix||x.id===w.game_mix);if(I&&I.games){let x=[];try{x=typeof I.games=="string"?JSON.parse(I.games):I.games}catch{x=[I.games]}x.includes(h.name)&&L.push({...w,gameMixName:I.name,providerName:D(w.provider),locationName:T(w.location),cabinetName:g(w.cabinet)})}}}),N(L)},D=L=>{const w=i==null?void 0:i.find(I=>I.id===L||I.name===L);return w?w.name:L},T=L=>{const w=n==null?void 0:n.find(I=>I.id===L||I.name===L);return w?w.name:L},g=L=>{const w=u==null?void 0:u.find(I=>I.id===L||I.name===L);return w?w.name||w.model:L},k=async()=>{p(!0);try{const L=await fetch(`/api/games/${a}`);if(!L.ok)throw new Error("Game not found");const w=await L.json();d(w),z(w)}catch(L){console.error("Error loading game details:",L)}finally{p(!1)}},z=L=>{const w=r.filter(y=>{if(!y.game_mix)return!1;const m=s.find(M=>M.name===y.game_mix||M.id===y.game_mix);if(!m||!m.games)return!1;let E=[];try{E=typeof m.games=="string"?JSON.parse(m.games):m.games}catch{E=[m.games]}return E.includes(L.name)}),I={};w.forEach(y=>{const m=y.location||"Unknown";I[m]||(I[m]={count:0,cabinets:new Set,gameMixes:new Set,slots:[]}),I[m].count++,I[m].cabinets.add(y.cabinet||"Unknown"),I[m].gameMixes.add(y.game_mix||"None"),I[m].slots.push(y)});const x={};w.forEach(y=>{const m=y.cabinet||"Unknown";x[m]||(x[m]={count:0,locations:new Set,gameMixes:new Set,slots:[]}),x[m].count++,x[m].locations.add(y.location||"Unknown"),x[m].gameMixes.add(y.game_mix||"None"),x[m].slots.push(y)});const F={};w.forEach(y=>{const m=y.game_mix||"None";F[m]||(F[m]={count:0,locations:new Set,cabinets:new Set,slots:[]}),F[m].count++,F[m].locations.add(y.location||"Unknown"),F[m].cabinets.add(y.cabinet||"Unknown"),F[m].slots.push(y)}),_({totalSlots:w.length,uniqueLocations:Object.keys(I).length,uniqueCabinets:Object.keys(x).length,uniqueGameMixes:Object.keys(F).length,locationStats:I,cabinetStats:x,gameMixStats:F,allSlots:w})},S=L=>{switch(L){case"low":return"bg-green-100 text-green-800";case"low - medium":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=L=>{switch(L){case"low":return e(Xe,{className:"w-4 h-4"});case"low - medium":return e(Dt,{className:"w-4 h-4"});case"medium":return e(xr,{className:"w-4 h-4"});case"high":return e(Dt,{className:"w-4 h-4"});default:return e(Xe,{className:"w-4 h-4"})}};return c?e(oe,{children:e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})})}):h?e(oe,{children:t("div",{className:"space-y-6",children:[t("div",{className:"card p-6",children:[e("div",{className:"flex items-center justify-between mb-6",children:t("button",{onClick:()=>l("/game-mixes/games-library"),className:"flex items-center space-x-2 text-slate-600 hover:text-purple-600 transition-colors",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Biblioteca Jocuri"})]})}),t("div",{className:"flex items-start space-x-6",children:[e("div",{className:"flex-shrink-0",children:t("div",{className:"w-40 h-40 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-2xl overflow-hidden shadow-lg flex items-center justify-center",children:[e("img",{src:h.image_url,alt:h.name,className:"max-w-full max-h-full object-contain",style:{imageRendering:"crisp-edges"},onError:L=>{L.target.style.display="none",L.target.nextSibling.style.display="flex"}}),e("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",style:{display:"none"},children:e(Se,{className:"w-16 h-16 text-purple-400"})})]})}),t("div",{className:"flex-1",children:[e("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:h.name}),e("p",{className:"text-slate-600 mb-4",children:h.theme}),t("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Furnizor"}),e("div",{className:"font-semibold text-slate-800",children:h.provider})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Linii"}),e("div",{className:"font-semibold text-slate-800",children:h.lines||"N/A"})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Layout"}),e("div",{className:"font-semibold text-slate-800",children:h.layout||"N/A"})]}),t("div",{className:"bg-slate-50 rounded-lg p-3",children:[e("div",{className:"text-sm text-slate-500 mb-1",children:"Tip"}),e("div",{className:"font-semibold text-slate-800",children:h.classification})]})]}),h.volatility&&h.volatility!=="n/a"&&t("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full ${S(h.volatility)}`,children:[U(h.volatility),e("span",{className:"font-medium",children:h.volatility})]})]})]})]}),f&&t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl inline-block mb-4",children:e(_e,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.totalSlots}),e("p",{className:"text-slate-600",children:"Sloturi totale"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl inline-block mb-4",children:e(je,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueLocations}),e("p",{className:"text-slate-600",children:"Locații"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl inline-block mb-4",children:e(fe,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueCabinets}),e("p",{className:"text-slate-600",children:"Cabinete"})]}),t("div",{className:"card p-6 text-center",children:[e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl inline-block mb-4",children:e($e,{className:"w-6 h-6 text-white"})}),e("h3",{className:"text-2xl font-bold text-slate-800",children:f.uniqueGameMixes}),e("p",{className:"text-slate-600",children:"Game Mixes"})]})]}),f&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.keys(f.locationStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(je,{className:"w-5 h-5 text-green-500"}),e("span",{children:"Locații"})]}),e("div",{className:"space-y-3",children:Object.entries(f.locationStats).map(([L,w])=>t("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-green-800 mb-2",children:L}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-green-800",children:w.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-green-800",children:w.cabinets.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-green-600",children:"Game Mixes:"}),e("span",{className:"font-semibold text-green-800",children:w.gameMixes.size})]})]})]},L))})]}),Object.keys(f.cabinetStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(fe,{className:"w-5 h-5 text-purple-500"}),e("span",{children:"Cabinete"})]}),e("div",{className:"space-y-3",children:Object.entries(f.cabinetStats).map(([L,w])=>t("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 border border-purple-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-purple-800 mb-2",children:L}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-purple-800",children:w.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Locații:"}),e("span",{className:"font-semibold text-purple-800",children:w.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-purple-600",children:"Game Mixes:"}),e("span",{className:"font-semibold text-purple-800",children:w.gameMixes.size})]})]})]},L))})]}),Object.keys(f.gameMixStats).length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e($e,{className:"w-5 h-5 text-orange-500"}),e("span",{children:"Game Mixes"})]}),e("div",{className:"space-y-3",children:Object.entries(f.gameMixStats).map(([L,w])=>t("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-orange-800 mb-2",children:L}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-orange-800",children:w.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Locații:"}),e("span",{className:"font-semibold text-orange-800",children:w.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-orange-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-orange-800",children:w.cabinets.size})]})]})]},L))})]}),f&&f.allSlots.length>0&&t("div",{className:"card p-4",children:[t("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center space-x-2",children:[e(fe,{className:"w-5 h-5 text-blue-500"}),e("span",{children:"Furnizori"})]}),e("div",{className:"space-y-3",children:(()=>{const L={};return f.allSlots.forEach(w=>{w.provider&&(L[w.provider]||(L[w.provider]={count:0,locations:new Set,cabinets:new Set}),L[w.provider].count++,w.location&&L[w.provider].locations.add(w.location),w.cabinet&&L[w.provider].cabinets.add(w.cabinet))}),Object.entries(L).map(([w,I])=>t("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:[e("h4",{className:"font-semibold text-blue-800 mb-2",children:w}),t("div",{className:"space-y-1 text-sm",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Sloturi:"}),e("span",{className:"font-semibold text-blue-800",children:I.count})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Locații:"}),e("span",{className:"font-semibold text-blue-800",children:I.locations.size})]}),t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-blue-600",children:"Cabinete:"}),e("span",{className:"font-semibold text-blue-800",children:I.cabinets.size})]})]})]},w))})()})]})]}),f&&f.allSlots.length>0&&t("div",{className:"card p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center space-x-2",children:[e(Be,{className:"w-5 h-5 text-blue-500"}),t("span",{children:["Toate sloturile cu acest joc (",f.allSlots.length,")"]})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{children:t("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Serial Number"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Locație"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Furnizor"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Cabinet"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Game Mix"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Status"}),e("th",{className:"text-left py-3 px-4 font-semibold text-slate-700 dark:text-slate-300",children:"Denomination"})]})}),e("tbody",{children:f.allSlots.map(L=>t("tr",{className:"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",children:[e("td",{className:"py-3 px-4",children:e("button",{onClick:()=>l(`/slots/${L.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold hover:underline transition-colors",children:L.serial_number||"N/A"})}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:L.location||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:L.provider||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:L.cabinet||"N/A"}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:L.game_mix||"N/A"}),e("td",{className:"py-3 px-4",children:e("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:L.status||"N/A"})}),e("td",{className:"py-3 px-4 text-slate-800 dark:text-slate-200",children:L.denomination||"N/A"})]},L.id))})]})})]})]})}):e(oe,{children:t("div",{className:"text-center py-12",children:[e(Se,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Jocul nu a fost găsit"}),e("button",{onClick:()=>l("/game-mixes/games-library"),className:"btn-primary",children:"Înapoi la Biblioteca Jocuri"})]})})},fi=({item:a,onClose:l,onSave:r})=>{const{locations:s,cabinets:i,gameMixes:o,providers:n}=te(),[u,h]=b.useState({serial_number:"",provider:"",location:"",game:"",cabinet:"",game_mix:"",denomination:.01,max_bet:"",rtp:"",gaming_places:1,commission_date:"",invoice_number:"",status:"Active",notes:""});b.useEffect(()=>{a&&h({serial_number:a.serial_number||"",provider:a.provider||"",location:a.location||"",game:a.game||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",denomination:a.denomination||.01,max_bet:a.max_bet||"",rtp:a.rtp||"",gaming_places:a.gaming_places||1,commission_date:a.commission_date||"",invoice_number:a.invoice_number||"",status:a.status||"Active",notes:a.notes||""})},[a]);const d=p=>{const{name:f,value:_}=p.target;h(v=>{const N={...v,[f]:_};if(f==="provider")N.cabinet="",N.game_mix="";else if(f==="cabinet"){N.game_mix="";const C=i.find(D=>D.name===_);C&&C.provider&&C.provider!==N.provider&&(N.provider=C.provider)}return N})};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-emerald-800 to-green-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600/20 to-green-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl shadow-lg",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Slot":"Adaugă Slot Nou"}),e("p",{className:"text-emerald-100 text-sm font-medium",children:"Completează informațiile despre slot"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:p=>{p.preventDefault(),r(u)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numărul de serie *"}),e("input",{type:"text",name:"serial_number",value:u.serial_number,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Serial number unic",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locație *"}),t("select",{name:"location",value:u.location,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează locația"}),s==null?void 0:s.map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:u.provider,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),n==null?void 0:n.map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet"}),t("select",{name:"cabinet",value:u.cabinet,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(p=>!u.provider||p.provider===u.provider).map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix"}),t("select",{name:"game_mix",value:u.game_mix,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează game mix-ul"}),o.filter(p=>!(u.provider&&p.provider!==u.provider)).map(p=>e("option",{value:p.name,children:p.name},p.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:u.status,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0,children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Inactive",children:"Inactiv"}),e("option",{value:"Maintenance",children:"Mentenanță"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Denomination"}),e("input",{type:"number",step:"0.01",name:"denomination",value:u.denomination,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Max Bet"}),e("input",{type:"number",step:"0.01",name:"max_bet",value:u.max_bet,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Max bet"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"RTP (%)"}),e("input",{type:"number",step:"0.01",name:"rtp",value:u.rtp,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"RTP"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Gaming Places"}),e("input",{type:"number",name:"gaming_places",value:u.gaming_places,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"1"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[t("div",{className:"space-y-1",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip proprietate"}),e("input",{type:"text",value:"Se actualizează automat din Facturi",readOnly:!0,disabled:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-slate-100 text-slate-500 cursor-not-allowed"})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-xs font-medium text-slate-600",children:"Data comisionării"}),e("input",{type:"text",value:u.commission_date||"Auto din Comisii",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg bg-slate-100 text-slate-600 cursor-not-allowed",readOnly:!0,disabled:!0})]}),t("div",{className:"space-y-1",children:[e("label",{className:"block text-xs font-medium text-slate-600",children:"Numărul facturii"}),e("input",{type:"text",value:u.invoice_number||"Se actualizează automat din Facturi",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg bg-slate-100 text-slate-600 cursor-not-allowed",readOnly:!0,disabled:!0})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:u.notes,onChange:d,rows:2,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Note adiționale despre slot"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(_e,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Slot"]})]})]})]})})]})})},vi=()=>{const{slots:a,invoices:l,warehouse:r,loading:s,createItem:i,updateItem:o,deleteItem:n,exportData:u}=te(),h=Ke(),[d,c]=b.useState(""),[p,f]=b.useState("all"),[_,v]=b.useState("all"),[N,C]=b.useState("all"),[D,T]=b.useState(!1),[g,k]=b.useState(null),[z,S]=b.useState([]),[U,L]=b.useState(!1),[w,I]=b.useState({totalSlots:!0,activeSlots:!0,inactiveSlots:!0,maintenanceSlots:!0,ownedSlots:!0,rentedSlots:!0}),[x,F]=b.useState(!1);b.useEffect(()=>{L(z.length>0)},[z]),b.useEffect(()=>{const $=localStorage.getItem("slots-card-visibility");$&&I(JSON.parse($))},[]);const y=$=>{I($),localStorage.setItem("slots-card-visibility",JSON.stringify($))},m=$=>{const le={...w,[$]:!w[$]};y(le)},E=()=>{y({totalSlots:!0,activeSlots:!0,inactiveSlots:!0,maintenanceSlots:!0,ownedSlots:!0,rentedSlots:!0})},M=()=>{y({totalSlots:!1,activeSlots:!1,inactiveSlots:!1,maintenanceSlots:!1,ownedSlots:!1,rentedSlots:!1})},O=a.filter($=>{var Ie,nt,Fe,Ve,Qe;const le=((Ie=$.name)==null?void 0:Ie.toLowerCase().includes(d.toLowerCase()))||((nt=$.model)==null?void 0:nt.toLowerCase().includes(d.toLowerCase()))||((Fe=$.provider)==null?void 0:Fe.toLowerCase().includes(d.toLowerCase()))||((Ve=$.location)==null?void 0:Ve.toLowerCase().includes(d.toLowerCase()))||((Qe=$.serial_number)==null?void 0:Qe.toLowerCase().includes(d.toLowerCase())),he=p==="all"||$.status===p,ce=_==="all"||$.provider===_,Ne=N==="all"||$.property_type===N;return le&&he&&ce&&Ne}),q=[...new Set(a.map($=>$.provider).filter(Boolean))],J=a.length,H=a.filter($=>$.status==="Active").length,X=a.filter($=>$.status==="Inactive").length,re=a.filter($=>$.status==="Maintenance").length,R=a.filter($=>$.property_type==="Owned").length,G=a.filter($=>$.property_type==="Rented").length,A=[{key:"serial_number",label:"SERIAL NUMBER",sortable:!0,render:$=>e("button",{onClick:()=>h(`/slots/${$.id}`),className:"text-blue-600 hover:text-blue-800 font-semibold text-base hover:underline transition-colors text-left",children:$.serial_number||"N/A"})},{key:"provider",label:"FURNIZOR",sortable:!0,render:$=>e("div",{className:"text-slate-800 font-medium text-base",children:$.provider||"N/A"})},{key:"location",label:"LOCAȚIE",sortable:!0,render:$=>e("div",{className:"text-slate-800 font-medium text-base",children:$.location||"N/A"})},{key:"cabinet",label:"CABINET",sortable:!0,render:$=>e("div",{className:"text-slate-800 font-medium text-base",children:$.cabinet||"N/A"})},{key:"game_mix",label:"GAME MIX",sortable:!0,render:$=>e("div",{className:"text-slate-800 font-medium text-base",children:$.game_mix||"N/A"})},{key:"property_type",label:"TIP PROPRIETATE",sortable:!0,render:$=>{const le=l==null?void 0:l.find(ce=>{if(!ce.serial_number||!$.serial_number)return!1;let Ne=[];try{typeof ce.serial_number=="string"?Ne=JSON.parse(ce.serial_number):Array.isArray(ce.serial_number)?Ne=ce.serial_number:Ne=[ce.serial_number]}catch{Ne=[ce.serial_number.toString()]}return Ne.some(Ie=>Ie.toString()===$.serial_number.toString())});let he=$.property_type||"Necunoscut";return le&&le.invoice_type&&(le.invoice_type==="Vânzare"?he="Owned":le.invoice_type==="Chirie"?he="Rented":he=le.invoice_type),e("div",{className:"text-slate-800 dark:text-slate-200 font-medium text-sm",children:he})}},{key:"invoice",label:"FACTURĂ",sortable:!1,render:$=>{const le=l==null?void 0:l.find(he=>{if(!he.serial_number||!$.serial_number)return!1;let ce=[];try{typeof he.serial_number=="string"?ce=JSON.parse(he.serial_number):Array.isArray(he.serial_number)?ce=he.serial_number:ce=[he.serial_number]}catch{ce=[he.serial_number.toString()]}return ce.some(Ne=>Ne.toString()===$.serial_number.toString())});return le?t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>h(`/invoices/${le.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-sm hover:underline transition-colors",children:le.invoice_number}),le.file_path&&e("button",{onClick:()=>window.open(le.file_path,"_blank"),className:"p-1 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Vezi factura",children:e(ke,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 dark:text-slate-500 text-sm",children:"-"})}},{key:"status",label:"STATUS",sortable:!0,render:$=>{var Ne;const le=async()=>{var Ve;const Ie=((Ve=$.status)==null?void 0:Ve.toLowerCase())||"",Fe=Ie==="activ"||Ie==="active"?"Inactive":"Active";try{Fe==="Inactive"?(await i("warehouse",{serial_number:$.serial_number,provider:$.provider,location:"Depozit",cabinet:$.cabinet,game_mix:$.game_mix,status:"Inactive",notes:"Mutat automat din sloturi când a devenit inactiv"}),await n("slots",$.id),K.success("Slot mutat în Depozit")):(await o("slots",$.id,{...$,status:Fe}),K.success(`Status schimbat în ${Fe}`))}catch(Qe){K.error("Eroare la actualizare status"),console.error("Error updating slot status:",Qe)}},he=((Ne=$.status)==null?void 0:Ne.toLowerCase())||"",ce=he==="activ"||he==="active";return t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:le,className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${ce?"bg-green-500":"bg-gray-300"}`,children:e("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${ce?"translate-x-9":"translate-x-1"}`})}),e("span",{className:`text-xs font-bold ${ce?"text-green-600":"text-gray-600"}`,children:ce?"ON":"OFF"})]})}},{key:"created_at",label:"DATA CREARE",sortable:!0,render:$=>e("div",{className:"text-slate-800 font-medium text-base",children:$.created_at?new Date($.created_at).toLocaleDateString("ro-RO"):"N/A"})}],V=()=>{k(null),T(!0)},W=$=>{k($),T(!0)},Y=$=>{h(`/slots/${$.id}`)},be=$=>{S($?O.map(le=>le.id):[])},Ee=($,le)=>{S(le?[...z,$]:z.filter(he=>he!==$))},ve=async()=>{if(z.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${z.length} sloturi?`))try{for(const $ of z)await n("slots",$);S([]),L(!1),K.success(`${z.length} sloturi șterse cu succes!`)}catch($){console.error("Error bulk deleting slots:",$),K.error("Eroare la ștergerea sloturilor!")}},Pe=()=>{z.length!==0&&(console.log("Bulk edit for slots:",z),K.info("Funcționalitatea de editare în masă va fi implementată în curând!"))},qe=async $=>{if(window.confirm("Sigur vrei să ștergi acest slot?"))try{await n("slots",$),K.success("Slot șters cu succes!")}catch(le){K.error("Eroare la ștergerea slotului"),console.error("Error deleting slot:",le)}},Ge=async $=>{try{g?(await o("slots",g.id,$),K.success("Slot actualizat cu succes!")):(await i("slots",$),K.success("Slot adăugat cu succes!")),T(!1),k(null)}catch(le){K.error("Eroare la salvarea slotului"),console.error("Error saving slot:",le)}},st=()=>{try{u("slots"),K.success("Datele au fost exportate cu succes!")}catch($){K.error("Eroare la exportarea datelor"),console.error("Error exporting data:",$)}},xt=()=>{K.info("Funcționalitatea de import va fi implementată în curând")};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-green-500 rounded-2xl shadow-lg shadow-emerald-500/25",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Sloturi"}),e("p",{className:"text-slate-600",children:"Gestionează sloturile de gaming din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>F(!x),className:"btn-secondary flex items-center space-x-2",children:[e(ka,{className:"w-4 h-4"}),e("span",{children:"Setări Carduri"})]}),t("button",{onClick:st,className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[U&&t(ie,{children:[t("button",{onClick:Pe,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:ve,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:V,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Slot"})]})]})]})]})}),x&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md",children:[t("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Setări Carduri"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Selectează ce carduri să afișezi"})]}),t("div",{className:"p-6 space-y-4",children:[t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Selectează tot"}),t("div",{className:"flex space-x-2",children:[e("button",{onClick:E,className:"text-xs px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Selectează tot"}),e("button",{onClick:M,className:"text-xs px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:"Deselectează tot"})]})]}),e("div",{className:"space-y-3",children:[{key:"totalSlots",label:"Total Sloturi"},{key:"activeSlots",label:"Active"},{key:"inactiveSlots",label:"Inactive"},{key:"maintenanceSlots",label:"Mentenanță"},{key:"ownedSlots",label:"Proprietate"},{key:"rentedSlots",label:"Închiriate"}].map($=>t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:$.label}),e("input",{type:"checkbox",checked:w[$.key],onChange:()=>m($.key),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]},$.key))})]}),e("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end",children:e("button",{onClick:()=>F(!1),className:"btn-primary px-6 py-2",children:"Salvează"})})]})}),w.totalSlots&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(tt,{title:"Total Sloturi",value:J,icon:_e,color:"blue",trend:null}),w.activeSlots&&e(tt,{title:"Active",value:H,icon:ht,color:"green",trend:null}),w.inactiveSlots&&e(tt,{title:"Inactive",value:X,icon:rt,color:"red",trend:null}),w.maintenanceSlots&&e(tt,{title:"Mentenanță",value:re,icon:_t,color:"yellow",trend:null})]}),(w.ownedSlots||w.rentedSlots)&&t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[w.ownedSlots&&e(tt,{title:"Proprietate",value:R,icon:ht,color:"emerald",trend:null}),w.rentedSlots&&e(tt,{title:"Închiriate",value:G,icon:rt,color:"orange",trend:null})]}),e("div",{className:"card p-6",children:t("div",{className:"space-y-4",children:[t("div",{className:"relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută după nume, model, furnizor, locație sau numărul de serie...",value:d,onChange:$=>c($.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),t("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[t("div",{className:"flex items-center space-x-2",children:[e(ka,{className:"w-4 h-4 text-slate-500"}),e("span",{className:"text-sm font-semibold text-slate-700",children:"Filtre:"})]}),t("select",{value:p,onChange:$=>f($.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toate Statusurile"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"}),e("option",{value:"Maintenance",children:"Mentenanță"})]}),t("select",{value:_,onChange:$=>v($.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toți Furnizorii"}),q.map($=>e("option",{value:$,children:$},$))]}),t("select",{value:N,onChange:$=>C($.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",children:[e("option",{value:"all",children:"Toate Tipurile"}),e("option",{value:"Owned",children:"Proprietate"}),e("option",{value:"Rented",children:"Închiriate"})]}),t("button",{onClick:xt,className:"btn-secondary flex items-center space-x-2 text-sm",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})]})}),e("div",{className:"card p-6",children:s?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})}):O.length===0?t("div",{className:"text-center py-12",children:[e(_e,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există sloturi"}),e("p",{className:"text-slate-500",children:"Adaugă primul slot pentru a începe"})]}):e(we,{data:O,columns:A,onEdit:W,onDelete:qe,onView:Y,searchTerm:d,selectedItems:z,onSelectAll:be,onSelectItem:Ee})}),D&&e(fi,{item:g,onClose:()=>T(!1),onSave:Ge})]})})},Ni=()=>{const{id:a}=ra(),l=Ke(),{slots:r,locations:s,companies:i,providers:o,cabinets:n,gameMixes:u,platforms:h,metrology:d,invoices:c,jackpots:p,loading:f}=te();console.log("🔍 useData Debug:",{loading:f,slots:r==null?void 0:r.length,locations:s==null?void 0:s.length,companies:i==null?void 0:i.length,providers:o==null?void 0:o.length,cabinets:n==null?void 0:n.length,gameMixes:u==null?void 0:u.length,platforms:h==null?void 0:h.length,metrology:d==null?void 0:d.length,invoices:c==null?void 0:c.length,jackpots:p==null?void 0:p.length});const[_,v]=b.useState(!1),[N,C]=b.useState(!0),[D,T]=b.useState([]),g=r==null?void 0:r.find(m=>{const E=m.id==a,M=m.serial_number===a;return console.log(`🔍 Checking slot ${m.id}/${m.serial_number} against ${a}: ${E}/${M}`),E||M});console.log("🔍 SlotDetail Debug:",{id:a,idType:typeof a,slotsCount:r==null?void 0:r.length,slot:g,allSlots:r==null?void 0:r.map(m=>({id:m.id,serial_number:m.serial_number}))}),b.useEffect(()=>{const m=localStorage.getItem("showAttachments");m!==null&&C(JSON.parse(m))},[]),b.useEffect(()=>{(async()=>{if(!(!(g!=null&&g.id)&&!(g!=null&&g.serial_number)))try{const E=await Oe.get("/api/slot-history",{params:{slot_id:g.id,limit:3,offset:0}});T(E.data.data||E.data||[])}catch(E){console.error("Error fetching slot history:",E),T([])}})()},[g==null?void 0:g.id,g==null?void 0:g.serial_number]);const k=m=>{C(m),localStorage.setItem("showAttachments",JSON.stringify(m))};if(f)return e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă detaliile slotului..."})]})})});const z=m=>{const E=s.find(M=>M.id===m||M.name===m);return E?E.name:m},S=m=>{const E=o.find(M=>M.id===m||M.name===m);return E?E.name:m},U=m=>{const E=n.find(M=>M.id===m);return E?E.name||E.model:m},L=m=>{const E=u.find(M=>M.id===m||M.name===m);return E?E.name:m},w=m=>{const E=u.find(M=>M.id===m||M.name===m);return E&&E.platform?E.platform:"N/A"},I=(d==null?void 0:d.filter(m=>m.serial_number===(g==null?void 0:g.serial_number)))||[],x=(c==null?void 0:c.filter(m=>{if(!m.serial_number||!(g!=null&&g.serial_number))return!1;try{return(typeof m.serial_number=="string"?JSON.parse(m.serial_number):Array.isArray(m.serial_number)?m.serial_number:[m.serial_number]).includes(g.serial_number)}catch{return m.serial_number===g.serial_number}}))||[],F=(p==null?void 0:p.filter(m=>m.slot_id===(g==null?void 0:g.id)))||[],y=x.length>0&&x[0].invoice_type==="Vânzare"?"Owned":"Rented";return g?e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-6",children:[e("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 mb-6",children:e("div",{className:"bg-gradient-to-r from-emerald-800 via-green-800 to-teal-800 px-6 py-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("button",{onClick:()=>l("/slots"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e(He,{className:"w-5 h-5 text-white"})}),e("div",{className:"p-2 bg-gradient-to-r from-emerald-500 to-green-500 rounded-xl",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[t("h1",{className:"text-2xl font-bold text-white",children:["Slot ",g.serial_number]}),t("p",{className:"text-emerald-100",children:["Serial: ",g.serial_number]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>v(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Setări",children:e(Ye,{className:"w-5 h-5 text-white"})}),e("button",{onClick:()=>l(`/slots/${g.id}/edit`),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Editează",children:e(Te,{className:"w-5 h-5 text-white"})}),e("button",{onClick:()=>{window.confirm("Sigur vrei să ștergi acest slot?")&&(K.success("Slot șters cu succes!"),l("/slots"))},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Șterge",children:e(De,{className:"w-5 h-5 text-white"})})]})]})})}),_&&e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md",children:[e("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Setări Afișare"})}),e("div",{className:"p-6 space-y-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Afișare automată atașamente"}),e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Afișează automat PDF-urile în pagina de detalii"})]}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:N,onChange:m=>k(m.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),e("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end",children:e("button",{onClick:()=>v(!1),className:"btn-primary",children:"Închide"})})]})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{children:t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(Ye,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Informații Slot"]}),t("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t("div",{className:"space-y-2",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Serial Number"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.serial_number})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Locație"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:z(g.location)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Furnizor"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:S(g.provider)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Cabinet"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:U(g.cabinet)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Platformă"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:w(g.game_mix)})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Game Mix"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:L(g.game_mix)})]})]}),t("div",{className:"space-y-2",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Status"}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${g.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:g.status})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Denomination"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.denomination||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"RTP"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.rtp||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Gaming Places"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.gaming_places||"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Max Bet"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.max_bet||"N/A"})]})]})]}),e("div",{className:"border-t border-slate-200 dark:border-slate-700 my-4"}),t("div",{className:"grid grid-cols-3 gap-4",children:[t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Tip proprietate"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:y})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Data comisionării"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:g.commissioning_date?new Date(g.commissioning_date).toLocaleDateString("ro-RO"):"N/A"})]}),t("div",{children:[e("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Numărul facturii"}),e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:x.length>0?x[0].invoice_number:"N/A"}),x.length>0&&e("button",{onClick:()=>l(`/invoices/${x[0].id}`),className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 mt-1",children:"Vezi factura →"})]})]})]})}),g.game_mix&&t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(Se,{className:"w-4 h-4 mr-2 text-purple-600"}),"Jocuri din Game Mix"]}),t("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg border border-purple-200 dark:border-purple-700 mb-3",children:[e("h4",{className:"font-semibold text-purple-800 dark:text-purple-300 text-sm",children:g.game_mix}),e("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Game Mix activ"})]}),(()=>{const m=u.find(E=>E.name===g.game_mix);if(m&&m.games){const E=typeof m.games=="string"?JSON.parse(m.games):m.games;return t("div",{children:[e("div",{className:"mb-2 p-2 bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded",children:t("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:[t("strong",{children:[E.length," jocuri"]})," în acest game mix",m.rtp&&t("span",{children:[" • RTP mediu: ",m.rtp,"%"]})]})}),e("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:E.map((M,O)=>t("div",{className:"p-2 bg-white dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600",children:[e("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-xs",children:M}),t("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Joc #",O+1]})]},O))})]})}return e("p",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:"Nu s-au găsit jocuri pentru acest game mix"})})()]}),F.length>0&&t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 flex items-center",children:[e(_e,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Jackpots (",F.length,")"]}),e("div",{className:"space-y-2",children:F.map((m,E)=>e("div",{className:"p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:m.name}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[m.amount," ",m.currency]}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:m.triggered_date?`Declanșat: ${new Date(m.triggered_date).toLocaleDateString("ro-RO")}`:"Nu a fost declanșat"})]}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:m.status})]})},E))})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("div",{className:"flex items-center justify-between mb-3",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 flex items-center",children:[e(Ia,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Istoric Modificări"]}),e("button",{onClick:()=>l("/slots/history"),className:"text-xs text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium",children:"Vezi toate →"})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm",children:[e("thead",{children:t("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Data"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Câmp"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Valoare veche"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Valoare nouă"}),e("th",{className:"text-left py-2 px-2 font-medium text-slate-700 dark:text-slate-300",children:"Utilizator"})]})}),e("tbody",{children:D.length===0?e("tr",{children:e("td",{colSpan:"5",className:"px-4 py-3 text-center text-slate-500 dark:text-slate-400",children:"Nu există modificări înregistrate pentru acest slot."})}):D.map((m,E)=>t("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:new Date(m.created_at).toLocaleDateString("ro-RO")}),e("td",{className:"py-2 px-2",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m.field_name==="location"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":m.field_name==="status"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":m.field_name==="game_mix"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":m.field_name==="serial_number"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400":m.field_name==="provider"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":m.field_name==="cabinet"?"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:m.field_name})}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:m.old_value||"N/A"}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:m.new_value||"N/A"}),e("td",{className:"py-2 px-2 text-slate-600 dark:text-slate-400",children:m.username||"Sistem"})]},m.id||E))})]})}),e("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:t("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Afișate ultimele 3 modificări pentru slot ",g==null?void 0:g.serial_number," •",e("button",{onClick:()=>l("/slots/history"),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 ml-1",children:"Vezi istoricul complet"})]})})]})]}),(I.length>0||x.length>0)&&e("div",{className:"mt-6",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-slate-200 dark:border-slate-700 p-4",children:[t("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Atașamente (",I.length+x.length,")"]}),N&&e("div",{className:"mb-4",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[I.length>0&&I[0]&&I[0].cvtFile&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[t("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-orange-600"}),"CVT ",I[0].cvt_number]}),e("div",{className:"h-64 border border-slate-200 dark:border-slate-600 rounded overflow-hidden",children:e("iframe",{src:`http://localhost:5001/api/cvt-pdf/${I[0].id}`,className:"w-full h-full",title:`CVT Document ${I[0].cvt_number}`})})]}),x.length>0&&x[0]&&x[0].file_path&&t("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[t("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-blue-600"}),"Factură ",x[0].invoice_number]}),e("div",{className:"h-64 border border-slate-200 dark:border-slate-600 rounded overflow-hidden",children:e("iframe",{src:x[0].file_path,className:"w-full h-full",title:`Factură ${x[0].invoice_number}`})})]})]})}),t("div",{className:"space-y-3",children:[I.length>0&&t("div",{children:[t("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-orange-600"}),"Certificat CVT"]}),e("div",{className:"space-y-2",children:I.map((m,E)=>t("div",{className:"p-2 bg-slate-50 dark:bg-slate-700 rounded-lg flex items-center justify-between",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:m.cvt_number}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["CVT: ",new Date(m.cvt_date).toLocaleDateString("ro-RO")," • Expirare: ",m.expiry_date?new Date(m.expiry_date).toLocaleDateString("ro-RO"):"N/A"]})]}),e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:m.status})]},E))})]}),x.length>0&&t("div",{children:[t("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[e(ee,{className:"w-3 h-3 mr-1 text-blue-600"}),"Facturi"]}),e("div",{className:"space-y-2",children:x.map((m,E)=>t("div",{className:"p-2 bg-slate-50 dark:bg-slate-700 rounded-lg flex items-center justify-between",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:m.invoice_number}),t("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[m.amount," ",m.currency," • ",m.invoice_type]})]}),e("button",{onClick:()=>l(`/invoices/${m.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Vezi →"})]},E))})]})]})]})})]})})}):e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă..."})]})})})},yi=()=>{const a=Ke(),{slots:l,users:r,loading:s}=te(),[i,o]=b.useState([]),[n,u]=b.useState(!0),[h,d]=b.useState(null),[c,p]=b.useState({slot_id:"",serial_number:"",field_name:"",user_id:"",username:"",start_date:"",end_date:"",change_type:""}),[f,_]=b.useState({limit:20,offset:0,total:0,currentPage:1,totalPages:1}),[v,N]=b.useState("created_at"),[C,D]=b.useState("DESC"),T=b.useCallback(async()=>{u(!0),d(null);try{const y={...c,limit:f.limit,offset:(f.currentPage-1)*f.limit,sort_by:v,sort_order:C};Object.keys(y).forEach(E=>{(y[E]===""||y[E]===null||y[E]===void 0)&&delete y[E]});const m=await Oe.get("/api/slot-history",{params:y});o(m.data.data||m.data.history||[]),_(E=>{var M,O;return{...E,total:((M=m.data.pagination)==null?void 0:M.total)||m.data.total||0,totalPages:Math.ceil((((O=m.data.pagination)==null?void 0:O.total)||m.data.total||0)/E.limit)}})}catch(y){console.error("Error fetching slot history:",y),d("Eroare la încărcarea istoricului sloturilor."),K.error("Eroare la încărcarea istoricului sloturilor.")}finally{u(!1)}},[c,f.limit,f.currentPage,v,C]);b.useEffect(()=>{T()},[T]);const g=y=>{const{name:m,value:E}=y.target;p(M=>({...M,[m]:E})),_(M=>({...M,currentPage:1,offset:0}))},k=y=>{const m=y.getFullYear(),E=String(y.getMonth()+1).padStart(2,"0"),M=String(y.getDate()).padStart(2,"0");return`${m}-${E}-${M}`},z=()=>{if(!c.start_date||!c.end_date)return"all";const y=new Date,m=new Date(y.getFullYear(),y.getMonth(),y.getDate()),E=k(m);if(c.start_date===E&&c.end_date===E)return"today";const M=m.getDay(),O=M===0?-6:1-M,q=new Date(m);q.setDate(m.getDate()+O);const J=new Date(q);if(J.setDate(q.getDate()+6),c.start_date===k(q)&&c.end_date===k(J))return"thisWeek";const H=k(new Date(y.getFullYear(),y.getMonth(),1)),X=k(new Date(y.getFullYear(),y.getMonth()+1,0));if(c.start_date===H&&c.end_date===X)return"thisMonth";const re=k(new Date(y.getFullYear(),0,1)),R=k(new Date(y.getFullYear(),11,31));if(c.start_date===re&&c.end_date===R)return"thisYear";const G=k(new Date(y.getFullYear()-1,0,1)),A=k(new Date(y.getFullYear()-1,11,31));return c.start_date===G&&c.end_date===A?"lastYear":"custom"},S=y=>{const m=new Date,E=new Date(m.getFullYear(),m.getMonth(),m.getDate());let M="",O="";switch(y){case"today":M=k(E),O=k(E);break;case"thisWeek":const q=new Date(E),J=E.getDay(),H=J===0?-6:1-J;q.setDate(E.getDate()+H),M=k(q);const X=new Date(q);X.setDate(q.getDate()+6),O=k(X);break;case"thisMonth":M=k(new Date(m.getFullYear(),m.getMonth(),1));const re=new Date(m.getFullYear(),m.getMonth()+1,0);O=k(re);break;case"thisYear":M=k(new Date(m.getFullYear(),0,1));const R=new Date(m.getFullYear(),11,31);O=k(R);break;case"lastYear":M=k(new Date(m.getFullYear()-1,0,1));const G=new Date(m.getFullYear()-1,11,31);O=k(G);break;case"all":M="",O="";break}p(q=>({...q,start_date:M,end_date:O})),_(q=>({...q,currentPage:1,offset:0}))},U=y=>{v===y?D(m=>m==="ASC"?"DESC":"ASC"):(N(y),D("ASC"))},L=y=>{y>0&&y<=f.totalPages&&_(m=>({...m,currentPage:y,offset:(y-1)*m.limit}))},w=(y,m=null)=>{if(m)return m;const E=l==null?void 0:l.find(M=>M.id===y);return E?E.serial_number:"N/A"},I=y=>{const m=r==null?void 0:r.find(E=>E.id===y);return m?m.username:"Sistem"},x=y=>{switch(y.toLowerCase()){case"location":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"status":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"game_mix":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"serial_number":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400";case"provider":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"cabinet":return"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},F=y=>y==null?"N/A":typeof y=="boolean"?y?"Da":"Nu":typeof y=="object"?JSON.stringify(y):String(y);return s||n?e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-400",children:"Se încarcă istoricul modificărilor..."})]})})}):h?e(oe,{children:e("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"text-center",children:[e("p",{className:"text-red-600 dark:text-red-400 text-lg",children:h}),e("button",{onClick:()=>T(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Reîncearcă"})]})})}):e(oe,{children:t("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 bg-white dark:bg-slate-900 rounded-xl shadow-lg min-h-screen",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center",children:[e(Ia,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Istoric Modificări Sloturi"]}),t("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md shadow-sm text-sm font-medium text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e(He,{className:"w-4 h-4 mr-2"}),"Înapoi"]})]}),t("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg shadow-inner mb-6",children:[t("div",{className:"mb-4",children:[e("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtre rapide:"}),t("div",{className:"flex flex-wrap gap-2",children:[e("button",{onClick:()=>S("today"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="today"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Azi"}),e("button",{onClick:()=>S("thisWeek"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="thisWeek"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Săptămâna curentă"}),e("button",{onClick:()=>S("thisMonth"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="thisMonth"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Luna curentă"}),e("button",{onClick:()=>S("thisYear"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="thisYear"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Anul curent"}),e("button",{onClick:()=>S("lastYear"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="lastYear"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Anul precedent"}),e("button",{onClick:()=>S("all"),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${z()==="all"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-white text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"} border border-slate-300 dark:border-slate-600`,children:"Toate"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t("div",{children:[e("label",{htmlFor:"serial_number",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Număr Serie Slot"}),e("input",{type:"text",name:"serial_number",id:"serial_number",value:c.serial_number,onChange:g,placeholder:"Caută după număr serie",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"field_name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Câmp Modificat"}),e("input",{type:"text",name:"field_name",id:"field_name",value:c.field_name,onChange:g,placeholder:"Ex: location, status",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utilizator"}),e("input",{type:"text",name:"username",id:"username",value:c.username,onChange:g,placeholder:"Nume utilizator",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"change_type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tip Modificare"}),t("select",{name:"change_type",id:"change_type",value:c.change_type,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200",children:[e("option",{value:"",children:"Toate"}),e("option",{value:"CREATE",children:"Creare"}),e("option",{value:"UPDATE",children:"Actualizare"}),e("option",{value:"DELETE",children:"Ștergere"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{htmlFor:"start_date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Data Început"}),e("input",{type:"date",name:"start_date",id:"start_date",value:c.start_date,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]}),t("div",{children:[e("label",{htmlFor:"end_date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Data Sfârșit"}),e("input",{type:"date",name:"end_date",id:"end_date",value:c.end_date,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-slate-700 dark:text-slate-200"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(Xe,{className:"w-6 h-6 text-indigo-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Modificări"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:f.total})]})]}),t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(Et,{className:"w-6 h-6 text-green-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Sloturi Modificate"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:new Set(i.map(y=>y.slot_id)).size})]})]}),t("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700 flex items-center",children:[e(vt,{className:"w-6 h-6 text-blue-500 mr-3"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Utilizatori Unici"}),e("p",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:new Set(i.map(y=>y.user_id)).size})]})]})]}),e("div",{className:"overflow-x-auto bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:t("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e("thead",{className:"bg-slate-50 dark:bg-slate-700",children:t("tr",{children:[t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>U("created_at"),children:["Data",v==="created_at"&&e("span",{className:"ml-1",children:C==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>U("serial_number"),children:["Slot",v==="serial_number"&&e("span",{className:"ml-1",children:C==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>U("field_name"),children:["Câmp",v==="field_name"&&e("span",{className:"ml-1",children:C==="ASC"?"▲":"▼"})]}),e("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Valoare Veche"}),e("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Valoare Nouă"}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>U("username"),children:["Utilizator",v==="username"&&e("span",{className:"ml-1",children:C==="ASC"?"▲":"▼"})]}),t("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider cursor-pointer",onClick:()=>U("change_type"),children:["Tip",v==="change_type"&&e("span",{className:"ml-1",children:C==="ASC"?"▲":"▼"})]})]})}),e("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:i.length===0?e("tr",{children:e("td",{colSpan:"7",className:"px-4 py-4 text-center text-slate-500 dark:text-slate-400",children:"Nu s-au găsit modificări."})}):i.map(y=>t("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(y.created_at).toLocaleString("ro-RO")}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-indigo-600 dark:text-indigo-400",children:e("button",{onClick:()=>a(`/slots/${y.slot_id}`),className:"hover:underline",children:y.slot_serial||w(y.slot_id,y.serial_number)})}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x(y.field_name)}`,children:y.field_name})}),e("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs truncate",children:F(y.old_value)}),e("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs truncate",children:F(y.new_value)}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:y.username||I(y.user_id)}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${y.change_type==="CREATE"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":y.change_type==="DELETE"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:y.change_type})})]},y.id))})]})}),f.totalPages>1&&t("nav",{className:"flex items-center justify-between px-4 py-3 sm:px-6 mt-4 bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700","aria-label":"Pagination",children:[t("div",{className:"flex-1 flex justify-between sm:justify-end",children:[e("button",{onClick:()=>L(f.currentPage-1),disabled:f.currentPage===1,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),e("button",{onClick:()=>L(f.currentPage+1),disabled:f.currentPage===f.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Următor"})]}),t("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e("div",{children:t("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Afișez"," ",e("span",{className:"font-medium",children:(f.currentPage-1)*f.limit+1})," ","până la"," ",e("span",{className:"font-medium",children:Math.min(f.currentPage*f.limit,f.total)})," ","din"," ",e("span",{className:"font-medium",children:f.total})," ","rezultate"]})}),e("div",{children:e("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:Array.from({length:f.totalPages},(y,m)=>m+1).map(y=>e("button",{onClick:()=>L(y),"aria-current":y===f.currentPage?"page":void 0,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${y===f.currentPage?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-600 dark:text-indigo-400":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:y},y))})})]})]}),e("div",{className:"mt-6 text-right",children:t("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e(se,{className:"w-4 h-4 mr-2"}),"Exportă CSV"]})})]})})},wi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",category:"",quantity:"",location:"",status:"Available",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",category:a.category||"",quantity:a.quantity||"",location:a.location||"",status:a.status||"Available",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-orange-800 to-amber-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/20 to-amber-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-amber-500 rounded-2xl shadow-lg",children:e(Ha,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Produs":"Adaugă Produs în Depozit"}),e("p",{className:"text-orange-100 text-sm font-medium",children:"Completează informațiile despre produs"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Produs *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Nume produs",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Categorie *"}),e("input",{type:"text",name:"category",value:s.category,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Categoria produsului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cantitate *"}),e("input",{type:"number",name:"quantity",value:s.quantity,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Cantitatea",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locație *"}),e("input",{type:"text",name:"location",value:s.location,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Locația în depozit",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",required:!0,children:[e("option",{value:"Available",children:"Disponibil"}),e("option",{value:"Out of Stock",children:"Stoc epuizat"}),e("option",{value:"Reserved",children:"Rezervat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Ha,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Produs"]})]})]})]})})]})})},ki=()=>{const{warehouse:a,slots:l,loading:r,createItem:s,updateItem:i,deleteItem:o,exportData:n}=te(),[u,h]=b.useState(""),[d,c]=b.useState([]),[p,f]=b.useState(!1);b.useEffect(()=>{f(d.length>0)},[d]);const _=m=>{c(m?z.map(E=>E.id):[])},v=(m,E)=>{c(E?[...d,m]:d.filter(M=>M!==m))},N=async()=>{if(d.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${d.length} elemente?`))try{for(const m of d)await o("warehouse",m);c([]),f(!1)}catch(m){console.error("Error bulk deleting:",m)}},C=()=>{d.length!==0&&console.log("Bulk edit for:",d)},[D,T]=b.useState(!1),[g,k]=b.useState(null),z=a.filter(m=>{var E,M,O,q,J;return((E=m.serial_number)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))||((M=m.provider)==null?void 0:M.toLowerCase().includes(u.toLowerCase()))||((O=m.location)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))||((q=m.cabinet)==null?void 0:q.toLowerCase().includes(u.toLowerCase()))||((J=m.game_mix)==null?void 0:J.toLowerCase().includes(u.toLowerCase()))}),S=a.length,U=a.filter(m=>m.status==="Inactive").length,L=[{key:"serial_number",label:"SERIAL NUMBER",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-semibold text-base",children:m.serial_number||"N/A"})},{key:"provider",label:"FURNIZOR",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.provider||"N/A"})},{key:"location",label:"LOCAȚIE",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.location||"N/A"})},{key:"cabinet",label:"CABINET",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.cabinet||"N/A"})},{key:"game_mix",label:"GAME MIX",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.game_mix||"N/A"})},{key:"status",label:"STATUS",sortable:!0,render:m=>{var q;const E=async()=>{var re;const J=((re=m.status)==null?void 0:re.toLowerCase())||"",X=J==="activ"||J==="active"?"Inactive":"Active";try{X==="Active"?(await s("slots",{name:"Slot Machine",serial_number:m.serial_number,provider:m.provider,location:"Locație principală",game:"",cabinet:m.cabinet,game_mix:m.game_mix,denomination:.01,max_bet:null,rtp:null,gaming_places:1,property_type:"Owned",commission_date:null,invoice_number:null,status:"Active",notes:"Mutat automat din depozit când a devenit activ"}),await o("warehouse",m.id),K.success("Slot mutat înapoi în sloturi")):(await i("warehouse",m.id,{...m,status:X}),K.success(`Status schimbat în ${X}`))}catch(R){K.error("Eroare la actualizare status"),console.error("Error updating warehouse slot status:",R)}},M=((q=m.status)==null?void 0:q.toLowerCase())||"",O=M==="activ"||M==="active";return t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:E,className:`relative inline-flex h-8 w-16 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${O?"bg-green-500":"bg-gray-300"}`,children:e("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${O?"translate-x-9":"translate-x-1"}`})}),e("span",{className:`text-xs font-bold ${O?"text-green-600":"text-gray-600"}`,children:O?"ON":"OFF"})]})}},{key:"created_by",label:"CREAT DE",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:m=>e("div",{className:"text-slate-800 font-medium text-base",children:m.created_at?new Date(m.created_at).toLocaleDateString("ro-RO"):"N/A"})}],w=m=>{k(m),T(!0)},I=async m=>{if(window.confirm("Sigur vrei să ștergi acest slot din depozit?"))try{await o("warehouse",m),K.success("Slot șters din depozit cu succes!")}catch(E){K.error("Eroare la ștergerea slotului"),console.error("Error deleting slot from warehouse:",E)}},x=()=>{k(null),T(!0)},F=async m=>{try{g?(await i("warehouse",g.id,m),K.success("Slot actualizat cu succes!")):(await s("warehouse",m),K.success("Slot adăugat în depozit cu succes!")),T(!1),k(null)}catch(E){K.error("Eroare la salvarea slotului"),console.error("Error saving slot to warehouse:",E)}};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-slate-500 to-gray-500 rounded-2xl shadow-lg shadow-slate-500/25",children:e(Zt,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Depozit Sloturi"}),e("p",{className:"text-slate-600",children:"Sloturile inactive din depozit"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{n("warehouse")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),p&&t(ie,{children:[t("button",{onClick:C,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:N,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:x,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Slot"})]})]})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(tt,{title:"Total Sloturi",value:S,icon:_e,color:"blue",trend:null}),e(tt,{title:"Inactive",value:U,icon:rt,color:"red",trend:null})]}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută după numărul de serie, furnizor, locație, cabinet sau game mix...",value:u,onChange:m=>h(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:r?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-500"})}):z.length===0?t("div",{className:"text-center py-12",children:[e(Zt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există sloturi în depozit"}),e("p",{className:"text-slate-500",children:"Sloturile inactive vor apărea aici automat"})]}):e(we,{data:z,columns:L,onEdit:w,onDelete:I,searchTerm:u,selectedItems:d,onSelectAll:_,onSelectItem:v})}),D&&e(wi,{item:g,onClose:()=>T(!1),onSave:F})]})})},Ci=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState([]),[o,n]=b.useState([]),[u,h]=b.useState([]),[d,c]=b.useState([]),[p,f]=b.useState([]),[_,v]=b.useState([]),[N,C]=b.useState({cvt_number:"",serial_number:"",cvt_type:"Periodică",cvt_date:"",expiry_date:"",issuing_authority:"",provider:"",cabinet:"",game_mix:"",approval_type:"",software:"",cvtFile:null,cvtPreview:null,notes:""});b.useEffect(()=>{if((async()=>{try{const[I,x,F,y,m,E]=await Promise.all([fetch("/api/authorities"),fetch("/api/providers"),fetch("/api/cabinets"),fetch("/api/gameMixes"),fetch("/api/approvals"),fetch("/api/software")]),[M,O,q,J,H,X]=await Promise.all([I.json(),x.json(),F.json(),y.json(),m.json(),E.json()]);i(Array.isArray(M)?M:[]),n(Array.isArray(O)?O:[]),h(Array.isArray(q)?q:[]),c(Array.isArray(J)?J:[]),f(Array.isArray(H)?H:[]),v(Array.isArray(X)?X:[])}catch(I){console.error("Error loading data:",I)}})(),a){const I=x=>{if(!x)return"";const F=new Date(x);return isNaN(F.getTime())?"":F.toISOString().split("T")[0]};C({cvt_number:a.cvt_number||"",serial_number:a.serial_number||"",cvt_type:a.cvt_type||"Periodică",cvt_date:I(a.cvt_date),expiry_date:I(a.expiry_date),issuing_authority:a.issuing_authority||"",provider:a.provider||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",approval_type:a.approval_type||"",software:a.software||"",cvtFile:a.cvtFile||null,cvtPreview:a.cvtFile||null,notes:a.notes||""})}},[a]);const D=()=>N.provider?u.filter(w=>w.provider===N.provider||w.provider_name===N.provider):u,T=()=>N.provider?d.filter(w=>w.provider===N.provider||w.provider_name===N.provider):d,g=()=>{if(!N.cabinet)return p;const w=u.find(I=>I.name===N.cabinet||I.model===N.cabinet);return w?p.filter(I=>I.cabinet===N.cabinet||I.model===w.model):p},k=()=>{if(!N.game_mix)return _;const w=d.find(I=>I.name===N.game_mix);return w?_.filter(I=>I.game_mix===N.game_mix||I.provider===w.provider):_},z=w=>{const{name:I,value:x}=w.target;C(F=>{const y={...F,[I]:x};if(I==="provider"?(y.cabinet="",y.game_mix="",y.approval_type="",y.software=""):I==="cabinet"?(y.approval_type="",y.software=""):I==="game_mix"&&(y.software=""),(I==="cvt_type"||I==="cvt_date")&&(y.cvt_type==="Periodică"||y.cvt_type==="Inițială")&&y.cvt_date){const m=new Date(y.cvt_date),E=new Date(m);E.setFullYear(E.getFullYear()+1),E.setDate(E.getDate()-1),y.expiry_date=E.toISOString().split("T")[0]}return y})},S=w=>{const I=w.target.files[0];if(I){const x=new FileReader;x.onload=F=>{C(y=>({...y,cvtFile:F.target.result,cvtPreview:F.target.result}))},x.readAsDataURL(I)}},U=()=>{window.confirm("Sigur doriți să ștergeți documentul CVT?")&&C(w=>({...w,cvtFile:null,cvtPreview:null}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-cyan-800 to-teal-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600/20 to-teal-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl shadow-lg",children:e(Be,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Certificat":"Adaugă Certificat Nou"}),e("p",{className:"text-cyan-100 text-sm font-medium",children:"Completează informațiile despre certificatul de metrologie"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:w=>{w.preventDefault(),r(N)},className:"p-6 space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații CVT"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr CVT *"}),e("input",{type:"text",name:"cvt_number",value:N.cvt_number,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Numărul CVT",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr de Serie *"}),e("input",{type:"text",name:"serial_number",value:N.serial_number,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Serial number slot",required:!0}),e("p",{className:"text-xs text-slate-500",children:"Numărul de serie care leagă CVT-ul cu slot-ul din aplicație"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip CVT *"}),t("select",{name:"cvt_type",value:N.cvt_type,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0,children:[e("option",{value:"Periodică",children:"Periodică"}),e("option",{value:"Inițială",children:"Inițială"}),e("option",{value:"Reparație",children:"Reparație"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data CVT *"}),e("input",{type:"date",name:"cvt_date",value:N.cvt_date,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data expirării *"}),e("input",{type:"date",name:"expiry_date",value:N.expiry_date,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0,disabled:N.cvt_type==="Periodică"||N.cvt_type==="Inițială"}),N.cvt_type==="Periodică"||N.cvt_type==="Inițială"?e("p",{className:"text-xs text-slate-500",children:"Calculat automat: 1 an - 1 zi"}):e("p",{className:"text-xs text-slate-500",children:"Completează manual pentru Reparație"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Autoritatea emitentă"}),t("select",{name:"issuing_authority",value:N.issuing_authority,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează autoritatea emitentă"}),s.map(w=>e("option",{value:w.name,children:w.name},w.id))]})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Dispozitiv"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor"}),t("select",{name:"provider",value:N.provider,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[e("option",{value:"",children:"Selectează furnizorul"}),o.map(w=>e("option",{value:w.name,children:w.name},w.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet"}),t("select",{name:"cabinet",value:N.cabinet,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.provider,children:[e("option",{value:"",children:N.provider?"Selectează cabinetul":"Selectează mai întâi furnizorul"}),D().map(w=>e("option",{value:w.name,children:w.name},w.id))]}),!N.provider&&e("p",{className:"text-xs text-slate-500",children:"Cabinetul depinde de furnizorul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix"}),t("select",{name:"game_mix",value:N.game_mix,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.provider,children:[e("option",{value:"",children:N.provider?"Selectează game mix-ul":"Selectează mai întâi furnizorul"}),T().map(w=>e("option",{value:w.name,children:w.name},w.id))]}),!N.provider&&e("p",{className:"text-xs text-slate-500",children:"Game mix-ul depinde de furnizorul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Aprobare de Tip"}),t("select",{name:"approval_type",value:N.approval_type,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.cabinet,children:[e("option",{value:"",children:N.cabinet?"Selectează aprobarea de tip":"Selectează mai întâi cabinetul"}),g().map(w=>e("option",{value:w.name,children:w.name},w.id))]}),!N.cabinet&&e("p",{className:"text-xs text-slate-500",children:"Aprobarea de tip depinde de cabinetul selectat"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Software"}),t("select",{name:"software",value:N.software,onChange:z,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",disabled:!N.game_mix,children:[e("option",{value:"",children:N.game_mix?"Selectează software-ul":"Selectează mai întâi game mix-ul"}),k().map(w=>e("option",{value:w.name,children:w.name},w.id))]}),!N.game_mix&&e("p",{className:"text-xs text-slate-500",children:"Software-ul depinde de game mix-ul selectat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Document CVT (PDF)"}),e("input",{type:"file",name:"cvtFile",accept:".pdf",onChange:S,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"}),N.cvtPreview&&t("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("div",{className:"flex items-center space-x-3",children:[e(et,{className:"w-5 h-5 text-cyan-600"}),t("div",{children:[e("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:typeof N.cvtPreview=="string"&&N.cvtPreview.includes("data:")?"Document CVT încărcat":"Document CVT existent"}),e("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PDF Document"})]})]}),e("button",{type:"button",onClick:U,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Șterge documentul",children:e(ne,{className:"w-4 h-4"})})]}),e(bt,{pdfUrl:N.cvtPreview,title:`CVT Document ${N.cvt_number}`,placeholder:"Documentul CVT nu este disponibil",placeholderSubtext:"Atașează documentul CVT pentru vizualizare"})]}),e("p",{className:"text-xs text-slate-500",children:"Încărcați documentul CVT în format PDF"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:N.notes,onChange:z,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Be,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Certificat"]})]})]})]})})]})})},Si=({item:a,onClose:l})=>{if(!a)return null;const s=(()=>{if(!a.expiry_date)return null;const n=new Date,h=new Date(a.expiry_date)-n;return Math.ceil(h/(1e3*60*60*24))})(),i=()=>s===null?"text-slate-400":s<0?"text-red-600":s<=30?"text-orange-600":"text-green-600",o=()=>s===null?"N/A":s<0?`Expirat (${Math.abs(s)} zile)`:`${s} zile rămase`;return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-500 px-6 py-4 flex justify-between items-center",children:[t("h3",{className:"text-xl font-bold text-white flex items-center",children:[e(ee,{className:"w-6 h-6 mr-2"}),"Detalii Certificat CVT - ",a.cvt_number]}),e("button",{onClick:l,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e(ne,{className:"w-6 h-6"})})]}),e("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-6",children:[t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații CVT"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Număr CVT"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cvt_number})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Tip CVT"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cvt_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Autoritatea Emitentă"}),e("p",{className:"text-base font-medium text-slate-900",children:a.issuing_authority||"N/A"})]})]})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Dispozitiv"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Furnizor"}),e("p",{className:"text-base font-medium text-slate-900",children:a.provider||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Cabinet"}),e("p",{className:"text-base font-medium text-slate-900",children:a.cabinet||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Game Mix"}),e("p",{className:"text-base font-medium text-slate-900",children:a.game_mix||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Aprobare de Tip"}),e("p",{className:"text-base font-medium text-slate-900",children:a.approval_type||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Software"}),e("p",{className:"text-base font-medium text-slate-900",children:a.software||"N/A"})]})]})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Date & Status"}),t("div",{className:"space-y-3",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data CVT"}),t("p",{className:"text-base font-medium text-slate-900 flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-cyan-500"}),a.cvt_date?new Date(a.cvt_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A"]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data Expirării"}),t("p",{className:"text-base font-medium text-slate-900 flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-orange-500"}),a.expiry_date?new Date(a.expiry_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A"]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),t("p",{className:`text-base font-bold flex items-center ${i()}`,children:[s!==null&&s>=0?e(ht,{className:"w-4 h-4 mr-2"}):e(rt,{className:"w-4 h-4 mr-2"}),o()]})]})]})]}),a.notes&&t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-4",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Note"}),e("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:a.notes})]})]}),t("div",{className:"space-y-4",children:[t("div",{className:"bg-slate-50 rounded-2xl p-6",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2 mb-4",children:"Document CVT"}),e(bt,{pdfUrl:a.cvtFile?`http://localhost:5001/api/cvt-pdf/${a.id}`:null,title:"CVT Document",placeholder:"Nu există document CVT",placeholderSubtext:"Atașează documentul CVT pentru vizualizare"})]}),t("div",{className:"bg-slate-50 rounded-2xl p-6 space-y-3",children:[e("h4",{className:"text-lg font-bold text-slate-800 border-b border-slate-200 pb-2",children:"Informații Adiționale"}),t("div",{className:"space-y-2",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Creat de"}),e("p",{className:"text-base font-medium text-slate-900",children:a.created_by||"N/A"})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Data creării"}),e("p",{className:"text-base font-medium text-slate-900",children:a.created_at?new Date(a.created_at).toLocaleDateString("ro-RO"):"N/A"})]})]})]})]})]})})]})})},_i=({item:a,onClose:l,onSave:r})=>{const{providers:s,cabinets:i}=te(),[o,n]=b.useState({name:"",provider:"",cabinet:"",notes:""});b.useEffect(()=>{a&&n({name:a.name||"",provider:a.provider||"",cabinet:a.cabinet||"",notes:a.notes||""})},[a]);const u=d=>{const{name:c,value:p}=d.target;n(f=>({...f,[c]:p}))};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Aprobare de Tip":"Adaugă Aprobare de Tip"}),e("p",{className:"text-green-100",children:a?"Modifică datele aprobării":"Adaugă o aprobare de tip nouă"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(ne,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:d=>{d.preventDefault(),r(o)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:o.name,onChange:u,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Introdu numele aprobării",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:o.provider,onChange:u,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),s.map(d=>e("option",{value:d.name,children:d.name},d.id))]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet *"}),t("select",{name:"cabinet",value:o.cabinet,onChange:u,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(d=>!o.provider||d.provider===o.provider).map(d=>e("option",{value:d.name,children:d.name},d.id))]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:o.notes,onChange:u,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg hover:shadow-green-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},Ai=({item:a,onClose:l,onSave:r})=>{te();const[s,i]=b.useState({name:"",serial_numbers:"",commission_date:"",expiry_date:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",serial_numbers:a.serial_numbers||"",commission_date:a.commission_date||"",expiry_date:a.expiry_date||"",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;if(i(c=>({...c,[h]:d})),h==="commission_date"&&d){const c=new Date(d),p=new Date(c);p.setFullYear(p.getFullYear()+1),p.setDate(p.getDate()-1),i(f=>({...f,expiry_date:p.toISOString().split("T")[0]}))}};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(Ye,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Comisie":"Adaugă Comisie"}),e("p",{className:"text-blue-100",children:a?"Modifică datele comisiei":"Adaugă o comisie nouă"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(ne,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introdu numele comisiei",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Comisiei *"}),e("input",{type:"date",name:"commission_date",value:s.commission_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Valabilității *"}),e("input",{type:"date",name:"expiry_date",value:s.expiry_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numerele de Serie *"}),e("textarea",{name:"serial_numbers",value:s.serial_numbers,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introdu numerele de serie separate prin rânduri nouă",required:!0}),e("p",{className:"text-sm text-slate-500",children:"Separă numerele de serie prin rânduri nouă"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all shadow-lg hover:shadow-blue-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},Ei=({item:a,onClose:l,onSave:r})=>{const{providers:s,cabinets:i,gameMixes:o}=te(),[n,u]=b.useState({name:"",provider:"",cabinet:"",game_mix:"",version:"",notes:""});b.useEffect(()=>{a&&u({name:a.name||"",provider:a.provider||"",cabinet:a.cabinet||"",game_mix:a.game_mix||"",version:a.version||"",notes:a.notes||""})},[a]);const h=c=>{const{name:p,value:f}=c.target;u(_=>{const v={..._,[p]:f};return p==="provider"?(v.cabinet="",v.game_mix=""):p==="cabinet"&&(v.game_mix=""),v})};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 p-6 rounded-t-2xl",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:e(_t,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-white",children:a?"Editează Software":"Adaugă Software"}),e("p",{className:"text-purple-100",children:a?"Modifică datele software-ului":"Adaugă un software nou"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(ne,{className:"w-6 h-6 text-white"})})]})}),t("form",{onSubmit:c=>{c.preventDefault(),r(n)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:n.name,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Introdu numele software-ului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Versiunea"}),e("input",{type:"text",name:"version",value:n.version,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"ex: v1.0.0"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Furnizor *"}),t("select",{name:"provider",value:n.provider,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),s.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cabinet *"}),t("select",{name:"cabinet",value:n.cabinet,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează cabinetul"}),i.filter(c=>!n.provider||c.provider===n.provider).map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Game Mix *"}),t("select",{name:"game_mix",value:n.game_mix,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează game mix-ul"}),o.filter(c=>!(n.provider&&c.provider!==n.provider)).map(c=>e("option",{value:c.name,children:c.name},c.id))]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:n.notes,onChange:h,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Adaugă note suplimentare"})]}),t("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Anulează"}),e("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-lg hover:from-purple-600 hover:to-violet-600 transition-all shadow-lg hover:shadow-purple-500/25",children:t("div",{className:"flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Salvează"})]})})]})]})]})})},Di=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",address:"",price_initiala:"",price_reparatie:"",price_periodica:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",address:a.address||"",price_initiala:a.price_initiala||"",price_reparatie:a.price_reparatie||"",price_periodica:a.price_periodica||"",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[t("div",{className:"relative bg-gradient-to-r from-orange-500 to-red-500 p-8 text-white",children:[t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Autoritatea Emitentă":"Adaugă Autoritate Emitentă"}),e("p",{className:"text-orange-100 text-sm font-medium",children:"Completează informațiile despre autoritatea emitentă"})]})]}),e("button",{onClick:l,className:"absolute top-4 right-4 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații de bază"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numele *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Numele autorității",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Adresa"}),e("input",{type:"text",name:"address",value:s.address,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Adresa autorității"})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Prețuri (opțional)"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Inițială (LEI)"}),e("input",{type:"number",name:"price_initiala",value:s.price_initiala,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Reparație (LEI)"}),e("input",{type:"number",name:"price_reparatie",value:s.price_reparatie,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Preț Periodică (LEI)"}),e("input",{type:"number",name:"price_periodica",value:s.price_periodica,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t("button",{type:"button",onClick:l,className:"btn-secondary",children:[e(ne,{className:"w-4 h-4"}),"Anulează"]}),t("button",{type:"submit",className:"btn-primary",children:[e(ot,{className:"w-4 h-4"}),a?"Actualizează":"Adaugă"," Autoritate"]})]})]})})]})})},zi=({isOpen:a,onClose:l})=>{const[r,s]=b.useState([]),[i,o]=b.useState(!1),[n,u]=b.useState(null),[h,d]=b.useState(new Date().getMonth()),[c,p]=b.useState(new Date().getFullYear()),f=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],_=[{id:1,title:"Comisia de Autorizare - Sloturi Electronice",date:"2025-10-15",time:"09:00",location:"București, Bd. Magheru 28-30",type:"Autorizare",status:"Programată",description:"Examinarea cererilor de autorizare pentru sloturi electronice"},{id:2,title:"Comisia de Metrologie - Verificare CVT",date:"2025-10-22",time:"10:30",location:"București, Bd. Magheru 28-30",type:"Metrologie",status:"Programată",description:"Verificarea certificatelor de verificare tehnică"},{id:3,title:"Comisia de Control - Inspecții Teren",date:"2025-11-05",time:"08:00",location:"Cluj-Napoca, Str. Memorandumului 28",type:"Control",status:"Programată",description:"Inspecții de control la operatorii de jocuri de noroc"},{id:4,title:"Comisia de Autorizare - Licențe",date:"2025-11-12",time:"14:00",location:"București, Bd. Magheru 28-30",type:"Autorizare",status:"Programată",description:"Examinarea cererilor de licențiere pentru operatori"}];b.useEffect(()=>{a&&v()},[a,h,c]);const v=async()=>{o(!0),u(null);try{await new Promise(k=>setTimeout(k,1e3));const g=_.filter(k=>{const z=new Date(k.date);return z.getMonth()===h&&z.getFullYear()===c});s(g)}catch(g){u("Eroare la încărcarea calendarului ONJN"),console.error("Error loading ONJN calendar:",g)}finally{o(!1)}},N=g=>{switch(g){case"Programată":return"bg-blue-100 text-blue-800";case"În desfășurare":return"bg-yellow-100 text-yellow-800";case"Finalizată":return"bg-green-100 text-green-800";case"Anulată":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=g=>{switch(g){case"Autorizare":return"bg-purple-100 text-purple-800";case"Metrologie":return"bg-indigo-100 text-indigo-800";case"Control":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},D=g=>new Date(g).toLocaleDateString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric"}),T=g=>g;return a?e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[e("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-white bg-opacity-20 rounded-xl",children:e(Le,{className:"w-6 h-6"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold",children:"Calendar ONJN"}),e("p",{className:"text-blue-100",children:"Comisiile organizate de Oficiul Național pentru Jocuri de Noroc"})]})]}),e("button",{onClick:l,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-colors",children:e(ne,{className:"w-6 h-6"})})]})}),e("div",{className:"p-6 border-b border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex items-center space-x-2",children:[e("label",{className:"text-sm font-medium text-gray-700",children:"Luna:"}),e("select",{value:h,onChange:g=>d(parseInt(g.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map((g,k)=>e("option",{value:k,children:g},k))})]}),t("div",{className:"flex items-center space-x-2",children:[e("label",{className:"text-sm font-medium text-gray-700",children:"Anul:"}),e("select",{value:c,onChange:g=>p(parseInt(g.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[2024,2025,2026].map(g=>e("option",{value:g,children:g},g))})]})]}),t("button",{onClick:v,disabled:i,className:"btn-secondary flex items-center space-x-2",children:[e(at,{className:`w-4 h-4 ${i?"animate-spin":""}`}),e("span",{children:"Actualizează"})]})]})}),e("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?e("div",{className:"flex items-center justify-center py-12",children:t("div",{className:"text-center",children:[e(rt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Eroare la încărcare"}),e("p",{className:"text-gray-500 mb-4",children:n}),e("button",{onClick:v,className:"btn-primary",children:"Încearcă din nou"})]})}):r.length===0?t("div",{className:"text-center py-12",children:[e(Le,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nu există comisii programate"}),t("p",{className:"text-gray-500",children:["Pentru luna ",f[h]," ",c]})]}):e("div",{className:"space-y-4",children:r.map(g=>e("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center space-x-3 mb-3",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:g.title}),e("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(g.type)}`,children:g.type}),e("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N(g.status)}`,children:g.status})]}),e("p",{className:"text-gray-600 mb-4",children:g.description}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(Le,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:D(g.date)})]}),t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(Xe,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:T(g.time)})]}),t("div",{className:"flex items-center space-x-2 text-gray-600",children:[e(je,{className:"w-4 h-4"}),e("span",{className:"text-sm font-medium",children:g.location})]})]})]}),e("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"ml-4 p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Vezi pe site-ul ONJN",children:e(ya,{className:"w-5 h-5"})})]})},g.id))})}),e("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-sm text-gray-500",children:"Datele sunt preluate de pe site-ul oficial ONJN"}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>window.open("https://onjn.gov.ro/structura-organizatorica/autorizare/","_blank"),className:"btn-secondary flex items-center space-x-2",children:[e(ya,{className:"w-4 h-4"}),e("span",{children:"Site ONJN"})]}),e("button",{onClick:l,className:"btn-primary",children:"Închide"})]})]})})]})}):null},Ti=()=>{const{metrology:a,providers:l,cabinets:r,gameMixes:s,loading:i,createItem:o,updateItem:n,deleteItem:u,exportData:h}=te(),[d,c]=b.useState(""),[p,f]=b.useState([]),[_,v]=b.useState(!1),[N,C]=b.useState(null),[D,T]=b.useState(!1),[g,k]=b.useState(null),[z,S]=b.useState(!1),[U,L]=b.useState(null),[w,I]=b.useState([]),[x,F]=b.useState([]),[y,m]=b.useState([]),[E,M]=b.useState([]),[O,q]=b.useState(!1),[J,H]=b.useState(!1),[X,re]=b.useState(!1),[R,G]=b.useState(!1),[A,V]=b.useState(null),[W,Y]=b.useState(null),[be,Ee]=b.useState(null),[ve,Pe]=b.useState(null),[qe,Ge]=b.useState(!1);b.useEffect(()=>{v(p.length>0)},[p]),b.useEffect(()=>{N&&(async()=>{try{if(N==="approvals"){const de=await(await fetch("/api/approvals")).json();I(de)}else if(N==="commissions"){const de=await(await fetch("/api/commissions")).json();F(de)}else if(N==="software"){const de=await(await fetch("/api/software")).json();m(de)}else if(N==="authorities"){const de=await(await fetch("/api/authorities")).json();M(de)}}catch(Q){console.error("Error loading sub-page data:",Q)}})()},[N]);const st=a.filter(B=>{var de,pe,j;return((de=B.serial_number)==null?void 0:de.toLowerCase().includes(d.toLowerCase()))||((pe=B.provider)==null?void 0:pe.toLowerCase().includes(d.toLowerCase()))||((j=B.cabinet)==null?void 0:j.toLowerCase().includes(d.toLowerCase()))}),xt=B=>{f(B?st.map(Q=>Q.id):[])},$=(B,Q)=>{f(Q?[...p,B]:p.filter(de=>de!==B))},le=async()=>{if(p.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${p.length} elemente?`))try{for(const B of p)await u("metrology",B);f([]),v(!1)}catch(B){console.error("Error bulk deleting:",B)}},he=()=>{p.length!==0&&console.log("Bulk edit for:",p)},ce=()=>{k(null),T(!0)},Ne=B=>{k(B),T(!0)},Ie=async B=>{window.confirm("Sigur vrei să ștergi acest element?")&&await u("metrology",B.id)},nt=async B=>{g?await n("metrology",g.id,B):await o("metrology",B),T(!1),k(null)},Fe=async B=>{try{const Q=A?`/api/approvals/${A.id}`:"/api/approvals";if((await fetch(Q,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).ok){q(!1),V(null);const ae=await(await fetch("/api/approvals")).json();I(ae)}}catch(Q){console.error("Error saving approval:",Q)}},Ve=async B=>{try{const Q=W?`/api/commissions/${W.id}`:"/api/commissions";if((await fetch(Q,{method:W?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).ok){H(!1),Y(null);const ae=await(await fetch("/api/commissions")).json();F(ae)}}catch(Q){console.error("Error saving commission:",Q)}},Qe=async B=>{try{const Q=be?`/api/software/${be.id}`:"/api/software";if((await fetch(Q,{method:be?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).ok){re(!1),Ee(null);const ae=await(await fetch("/api/software")).json();m(ae)}}catch(Q){console.error("Error saving software:",Q)}},jt=async B=>{if(window.confirm("Sigur vrei să ștergi această aprobare?"))try{if((await fetch(`/api/approvals/${B.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/approvals")).json();I(pe)}}catch(Q){console.error("Error deleting approval:",Q)}},Pt=async B=>{if(window.confirm("Sigur vrei să ștergi această comisie?"))try{if((await fetch(`/api/commissions/${B.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/commissions")).json();F(pe)}}catch(Q){console.error("Error deleting commission:",Q)}},Ft=async B=>{if(window.confirm("Sigur vrei să ștergi acest software?"))try{if((await fetch(`/api/software/${B.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/software")).json();m(pe)}}catch(Q){console.error("Error deleting software:",Q)}},Rt=async B=>{try{if((await fetch("/api/authorities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).ok){const pe=await(await fetch("/api/authorities")).json();M(pe),G(!1)}}catch(Q){console.error("Error saving authority:",Q)}},Ot=async B=>{if(window.confirm("Sigur vrei să ștergi această autoritate?"))try{if((await fetch(`/api/authorities/${B.id}`,{method:"DELETE"})).ok){const pe=await(await fetch("/api/authorities")).json();M(pe)}}catch(Q){console.error("Error deleting authority:",Q)}},Mt=[{key:"cvt_number",label:"NUMĂR CVT",sortable:!0,render:B=>e("button",{onClick:()=>{L(B),S(!0)},className:"text-cyan-600 hover:text-cyan-800 font-semibold hover:underline transition-colors",children:B.cvt_number})},{key:"cvt_type",label:"TIP CVT",sortable:!0},{key:"approval_type",label:"APROBARE DE TIP",sortable:!0},{key:"software",label:"SOFTWARE",sortable:!0},{key:"cvt_dates_combined",label:"DATE CVT & EXPIRARE",sortable:!0,render:B=>{const Q=B.cvt_date?new Date(B.cvt_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A",de=B.expiry_date?new Date(B.expiry_date).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A";let pe="N/A",j="text-green-600 bg-green-50";if(B.expiry_date){const ae=new Date,Gt=new Date(B.expiry_date)-ae,kt=Math.ceil(Gt/(1e3*60*60*24));kt<0?(j="text-red-600 bg-red-50",pe=`Expirat (${Math.abs(kt)} zile)`):kt<=30?(j="text-orange-600 bg-orange-50",pe=`${kt} zile`):(j="text-green-600 bg-green-50",pe=`${kt} zile`)}return t("div",{className:"space-y-2",children:[t("div",{className:"text-slate-600 text-sm space-y-1",children:[t("div",{children:["CVT: ",Q]}),t("div",{children:["Expirare: ",de]})]}),pe!=="N/A"&&e("div",{className:`text-sm ${j.split(" ")[0]}`,children:pe})]})}},{key:"issuing_authority",label:"AUTORITATEA EMITENTĂ",sortable:!0},{key:"cvtFile",label:"DOCUMENT CVT",sortable:!1,render:B=>e("div",{className:"flex items-center space-x-2",children:B.cvtFile?t(ie,{children:[e("button",{onClick:()=>window.open(`http://localhost:5001/api/cvt-pdf/${B.id}`,"_blank"),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Vizualizează documentul CVT",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>window.open(`http://localhost:5001/api/cvt-pdf/${B.id}`,"_blank"),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Descarcă documentul CVT",children:e(se,{className:"w-4 h-4"})})]}):e("span",{className:"text-slate-400 text-sm italic",children:"Nu există document"})})},{key:"created_by",label:"CREAT DE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-600 text-sm",children:new Date(B.created_at).toLocaleDateString("ro-RO")})}],$t=[{key:"name",label:"NUMELE",sortable:!0},{key:"provider",label:"FURNIZOR",sortable:!0},{key:"cabinet",label:"CABINET",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-600 text-sm",children:new Date(B.created_at).toLocaleDateString("ro-RO")})}],Bt=[{key:"name",label:"NUMELE",sortable:!0},{key:"serial_numbers",label:"NUMERELE DE SERIE",sortable:!1,render:B=>e("div",{className:"text-slate-800 font-medium text-sm",children:B.serial_numbers||"N/A"})},{key:"commission_date",label:"DATA COMISIEI",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.commission_date?new Date(B.commission_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"expiry_date",label:"DATA VALABILITĂȚII",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.expiry_date?new Date(B.expiry_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-600 text-sm",children:new Date(B.created_at).toLocaleDateString("ro-RO")})}],Ut=[{key:"name",label:"NUMELE",sortable:!0},{key:"provider",label:"FURNIZOR",sortable:!0},{key:"cabinet",label:"CABINET",sortable:!0},{key:"game_mix",label:"GAME MIX",sortable:!0},{key:"version",label:"VERSIUNEA",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-600 text-sm",children:new Date(B.created_at).toLocaleDateString("ro-RO")})}],qt=[{key:"name",label:"NUMELE",sortable:!0},{key:"address",label:"ADRESA",sortable:!0},{key:"price_initiala",label:"PREȚ INIȚIALĂ (LEI)",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.price_initiala?`${B.price_initiala} LEI`:"-"})},{key:"price_reparatie",label:"PREȚ REPARAȚIE (LEI)",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.price_reparatie?`${B.price_reparatie} LEI`:"-"})},{key:"price_periodica",label:"PREȚ PERIODICĂ (LEI)",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.price_periodica?`${B.price_periodica} LEI`:"-"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:B=>e("div",{className:"text-slate-800 font-medium text-base",children:B.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:B=>e("div",{className:"text-slate-600 text-sm",children:new Date(B.created_at).toLocaleDateString("ro-RO")})}];return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl shadow-lg shadow-cyan-500/25",children:e(Be,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Metrologie CVT"}),e("p",{className:"text-slate-600",children:"Gestionează aprobările, comisiile și software-ul pentru sloturi"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{h("metrology")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),_&&t(ie,{children:[t("button",{onClick:he,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:le,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:ce,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-lg",children:[t("button",{onClick:()=>C("approvals"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="approvals"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-slate-600 hover:text-green-600 hover:bg-green-50"}`,children:[e(et,{className:"w-4 h-4"}),e("span",{children:"Aprobări de Tip"})]}),t("button",{onClick:()=>C("commissions"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="commissions"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/25":"text-slate-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[e(Ye,{className:"w-4 h-4"}),e("span",{children:"Comisii"})]}),t("button",{onClick:()=>C("software"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="software"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white shadow-lg shadow-purple-500/25":"text-slate-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[e(_t,{className:"w-4 h-4"}),e("span",{children:"Software"})]}),t("button",{onClick:()=>C("authorities"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md transition-all ${N==="authorities"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/25":"text-slate-600 hover:text-orange-600 hover:bg-orange-50"}`,children:[e(et,{className:"w-4 h-4"}),e("span",{children:"Autoritatea Emitentă"})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută în metrologie...",value:d,onChange:B=>c(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),!N||N==="metrology"?e("div",{className:"card p-6",children:i?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):st.length===0?t("div",{className:"text-center py-12",children:[e(Be,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există înregistrări de metrologie"}),e("p",{className:"text-slate-500",children:"Adaugă prima înregistrare pentru a începe"})]}):e(we,{data:st,columns:Mt,onEdit:Ne,onDelete:Ie,searchTerm:d,selectedItems:p,onSelectAll:xt,onSelectItem:$})}):null,N==="approvals"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>C(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl shadow-lg shadow-green-500/25",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Aprobări de Tip"}),e("p",{className:"text-slate-600",children:"Gestionează aprobările de tip pentru sloturi"})]})]}),t("button",{onClick:()=>{V(null),q(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Aprobare"})]})]}),w.length===0?t("div",{className:"text-center py-12",children:[e(et,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există aprobări de tip"}),e("p",{className:"text-slate-500",children:"Adaugă prima aprobare pentru a începe"})]}):e(we,{data:w,columns:$t,onEdit:B=>{V(B),q(!0)},onDelete:jt})]})}),N==="commissions"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>C(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(Ye,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Comisii"}),e("p",{className:"text-slate-600",children:"Gestionează comisiile pentru sloturi"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>Ge(!0),className:"btn-secondary flex items-center space-x-2",children:[e(Le,{className:"w-4 h-4"}),e("span",{children:"Calendar ONJN"})]}),t("button",{onClick:()=>{Y(null),H(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Comisie"})]})]})]}),x.length===0?t("div",{className:"text-center py-12",children:[e(Ye,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există comisii"}),e("p",{className:"text-slate-500",children:"Adaugă prima comisie pentru a începe"})]}):e(we,{data:x,columns:Bt,onEdit:B=>{Y(B),H(!0)},onDelete:Pt})]})}),N==="software"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>C(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e(_t,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Software"}),e("p",{className:"text-slate-600",children:"Gestionează software-ul pentru sloturi"})]})]}),t("button",{onClick:()=>{Ee(null),re(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Software"})]})]}),y.length===0?t("div",{className:"text-center py-12",children:[e(_t,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există software"}),e("p",{className:"text-slate-500",children:"Adaugă primul software pentru a începe"})]}):e(we,{data:y,columns:Ut,onEdit:B=>{Ee(B),re(!0)},onDelete:Ft})]})}),N==="authorities"&&e("div",{className:"card p-6",children:t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>C(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Înapoi la Metrologie CVT",children:e(He,{className:"w-5 h-5 text-slate-600"})}),e("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl shadow-lg shadow-orange-500/25",children:e(et,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Autoritatea Emitentă"}),e("p",{className:"text-slate-600",children:"Gestionează autoritățile emitente pentru CVT"})]})]}),t("button",{onClick:()=>{Pe(null),G(!0)},className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Autoritate"})]})]}),E.length===0?t("div",{className:"text-center py-12",children:[e(et,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există autorități"}),e("p",{className:"text-slate-500",children:"Adaugă prima autoritate pentru a începe"})]}):e(we,{data:E,columns:qt,onEdit:B=>{Pe(B),G(!0)},onDelete:Ot})]})}),D&&e(Ci,{item:g,onClose:()=>T(!1),onSave:nt}),z&&e(Si,{item:U,onClose:()=>{S(!1),L(null)}}),O&&e(_i,{item:A,onClose:()=>q(!1),onSave:Fe}),J&&e(Ai,{item:W,onClose:()=>H(!1),onSave:Ve}),X&&e(Ei,{item:be,onClose:()=>re(!1),onSave:Qe}),R&&e(Di,{item:ve,onClose:()=>G(!1),onSave:Rt}),qe&&e(zi,{isOpen:qe,onClose:()=>Ge(!1)})]})})},Ii=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({serial_number:"",jackpot_name:"",jackpot_type:"Progressive",current_amount:0,max_amount:"",progress_percentage:0,status:"Active",winner:"",triggered_date:"",notes:""});b.useEffect(()=>{a&&i({serial_number:a.serial_number||"",jackpot_name:a.jackpot_name||"",jackpot_type:a.jackpot_type||"Progressive",current_amount:a.current_amount||0,max_amount:a.max_amount||"",progress_percentage:a.progress_percentage||0,status:a.status||"Active",winner:a.winner||"",triggered_date:a.triggered_date||"",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-yellow-800 to-amber-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/20 to-amber-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl shadow-lg",children:e(ut,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Jackpot":"Adaugă Jackpot Nou"}),e("p",{className:"text-yellow-100 text-sm font-medium",children:"Completează informațiile despre jackpot"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații de bază"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Numărul de serie *"}),e("input",{type:"text",name:"serial_number",value:s.serial_number,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Serial number slot",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Jackpot *"}),e("input",{type:"text",name:"jackpot_name",value:s.jackpot_name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"ex: Mega Jackpot",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip Jackpot"}),t("select",{name:"jackpot_type",value:s.jackpot_type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[e("option",{value:"Progressive",children:"Progresiv"}),e("option",{value:"Fixed",children:"Fix"}),e("option",{value:"Mystery",children:"Mystery"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[e("option",{value:"Active",children:"Activ"}),e("option",{value:"Triggered",children:"Declanșat"}),e("option",{value:"Reset",children:"Resetat"}),e("option",{value:"Maintenance",children:"Mentenanță"})]})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații financiare"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma curentă"}),e("input",{type:"number",step:"0.01",name:"current_amount",value:s.current_amount,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"0.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma maximă"}),e("input",{type:"number",step:"0.01",name:"max_amount",value:s.max_amount,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"1000000.00"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Progres (%)"}),e("input",{type:"number",step:"0.01",name:"progress_percentage",value:s.progress_percentage,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"0.00"})]})]})]}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2",children:"Informații câștigător"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Câștigător"}),e("input",{type:"text",name:"winner",value:s.winner,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Numele câștigătorului"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data declanșării"}),e("input",{type:"datetime-local",name:"triggered_date",value:s.triggered_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Note adiționale despre jackpot..."})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ut,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Jackpot"]})]})]})]})})]})})},Li=()=>{const{jackpots:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,u]=b.useState(""),[h,d]=b.useState([]),[c,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{d(x?k.map(F=>F.id):[])},_=(x,F)=>{d(F?[...h,x]:h.filter(y=>y!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("jackpots",x);d([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[C,D]=b.useState(!1),[T,g]=b.useState(null),k=a.filter(x=>{var F,y,m;return((F=x.name)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))||((y=x.game)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((m=x.location)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),z=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME JACKPOT",sortable:!0},{key:"game",label:"JOC",sortable:!0},{key:"amount",label:"SUMA",sortable:!0},{key:"location",label:"LOCAȚIE",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],S=x=>{g(x),D(!0)},U=async x=>{window.confirm("Sigur vrei să ștergi acest jackpot?")&&await i("jackpots",x)},L=()=>{g(null),D(!0)},w=async x=>{T?await s("jackpots",T.id,x):await r("jackpots",x),D(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl shadow-lg shadow-yellow-500/25",children:e(ut,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Jackpots"}),e("p",{className:"text-slate-600",children:"Gestionează jackpot-urile din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("jackpots")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),c&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Jackpot"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută jackpot-uri...",value:n,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):k.length===0?t("div",{className:"text-center py-12",children:[e(ut,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există jackpot-uri"}),e("p",{className:"text-slate-500",children:"Adaugă primul jackpot pentru a începe"})]}):e(we,{data:k,columns:z,onEdit:S,onDelete:U,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:_})}),C&&e(Ii,{item:T,onClose:()=>D(!1),onSave:w})]})})},ji=({item:a,onClose:l,onSave:r})=>{const{companies:s,locations:i,providers:o}=te(),[n,u]=b.useState({invoice_number:"",serial_numbers:"",buyer:"",seller:"",type:"Sale",amount:"",currency:"RON",rates:"",locations:[],pdf_file:null});b.useEffect(()=>{a&&u({invoice_number:a.invoice_number||"",serial_numbers:a.serial_number?typeof a.serial_number=="string"?JSON.parse(a.serial_number).join(`
`):a.serial_number.join(`
`):"",buyer:a.company||"",seller:a.seller||"",type:a.invoice_type||"Sale",amount:a.amount||"",currency:a.currency||"RON",rates:a.rates||"",locations:a.location?typeof a.location=="string"?JSON.parse(a.location):a.location:[],pdf_file:a.pdf_file||null})},[a]);const h=c=>{const{name:p,value:f,type:_,checked:v,files:N}=c.target;_==="checkbox"?p==="location"&&u(C=>({...C,locations:v?[...C.locations,f]:C.locations.filter(D=>D!==f)})):u(_==="file"?C=>({...C,[p]:N[0]||null}):C=>({...C,[p]:f}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-indigo-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(pl,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Factură":"Adaugă Factură Nouă"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre factură"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:c=>{c.preventDefault();const p=new FormData;Object.keys(n).forEach(f=>{f==="locations"?p.append(f,JSON.stringify(n[f])):f==="pdf_file"?n[f]&&p.append(f,n[f]):p.append(f,n[f])}),r(p)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Număr Factură *"}),e("input",{type:"text",name:"invoice_number",value:n.invoice_number,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: INV-2024-001",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Serii"}),e("textarea",{name:"serial_numbers",value:n.serial_numbers,onChange:h,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduceți seriile, câte una pe rând"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Cumpărător *"}),t("select",{name:"buyer",value:n.buyer,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează compania"}),s==null?void 0:s.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Vânzător *"}),t("select",{name:"seller",value:n.seller,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează furnizorul"}),o==null?void 0:o.map(c=>e("option",{value:c.name,children:c.name},c.id))]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:n.type,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e("option",{value:"Sale",children:"Vânzare"}),e("option",{value:"Rental",children:"Chirie"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Suma *"}),e("input",{type:"number",name:"amount",value:n.amount,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Valută"}),t("select",{name:"currency",value:n.currency,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"RON",children:"RON"}),e("option",{value:"EUR",children:"EUR"}),e("option",{value:"USD",children:"USD"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Rate (opțional)"}),e("input",{type:"text",name:"rates",value:n.rates,onChange:h,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ex: 3 rate de 1000 RON"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"PDF Factură *"}),e("input",{type:"file",name:"pdf_file",onChange:h,accept:".pdf",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),n.pdf_file&&t("p",{className:"text-sm text-green-600",children:["Fișier selectat: ",n.pdf_file.name]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Locații"}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i==null?void 0:i.map(c=>t("label",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",name:"location",value:c.name,checked:n.locations.includes(c.name),onChange:h,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e("span",{className:"text-sm text-slate-700",children:c.name})]},c.id))}),n.locations.length===i.length&&e("p",{className:"text-sm text-blue-600 font-medium",children:"Toate locațiile"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Factură"]})]})]})]})})]})})},Pi=()=>{const a=Ke(),{invoices:l,loading:r,createItem:s,updateItem:i,deleteItem:o,exportData:n}=te(),[u,h]=b.useState(""),[d,c]=b.useState([]),[p,f]=b.useState(!1);b.useEffect(()=>{f(d.length>0)},[d]);const _=F=>{c(F?z.map(y=>y.id):[])},v=(F,y)=>{c(y?[...d,F]:d.filter(m=>m!==F))},N=async()=>{if(d.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${d.length} elemente?`))try{for(const F of d)await o("invoices",F);c([]),f(!1)}catch(F){console.error("Error bulk deleting:",F)}},C=()=>{d.length!==0&&console.log("Bulk edit for:",d)},[D,T]=b.useState(!1),[g,k]=b.useState(null),z=l.filter(F=>{var y,m,E;return((y=F.invoice_number)==null?void 0:y.toLowerCase().includes(u.toLowerCase()))||((m=F.company)==null?void 0:m.toLowerCase().includes(u.toLowerCase()))||((E=F.status)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))}),S=[{key:"id",label:"#",sortable:!0},{key:"invoice_number",label:"NUMĂR FACTURĂ",sortable:!0,render:F=>e("button",{onClick:()=>a(`/invoices/${F.id}`),className:"text-blue-600 hover:text-blue-800 font-medium underline",children:F.invoice_number})},{key:"company",label:"COMPANIE",sortable:!0},{key:"amount",label:"SUMA",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:F=>e("div",{className:"text-slate-800 font-medium text-base",children:F.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:F=>e("div",{className:"text-slate-800 font-medium text-base",children:F.created_at?new Date(F.created_at).toLocaleDateString("ro-RO"):"N/A"})}],U=F=>{k(F),T(!0)},L=async F=>{window.confirm("Sigur vrei să ștergi această factură?")&&await o("invoices",F)},w=()=>{k(null),T(!0)},I=async F=>{g?await i("invoices",g.id,F):await s("invoices",F),T(!1),k(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl shadow-lg shadow-red-500/25",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Facturi"}),e("p",{className:"text-slate-600",children:"Gestionează facturile din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{n("invoices")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),p&&t(ie,{children:[t("button",{onClick:C,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:N,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:w,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Factură"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută facturi...",value:u,onChange:F=>h(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:r?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):z.length===0?t("div",{className:"text-center py-12",children:[e(ee,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există facturi"}),e("p",{className:"text-slate-500",children:"Adaugă prima factură pentru a începe"})]}):e(we,{data:z,columns:S,onEdit:U,onDelete:L,searchTerm:u,selectedItems:d,onSelectAll:_,onSelectItem:v})}),D&&e(ji,{item:g,onClose:()=>T(!1),onSave:I})]})})},Fi=()=>{const{id:a}=ra(),l=Ke(),{slots:r,companies:s,locations:i,providers:o,cabinets:n,gameMixes:u}=te(),[h,d]=b.useState(null),[c,p]=b.useState(!0);b.useEffect(()=>{f()},[a]);const f=async()=>{try{const D=await fetch(`/api/invoices/${a}`);if(D.ok){const T=await D.json();d(T)}}catch(D){console.error("Error fetching invoice:",D)}finally{p(!1)}},_=D=>r.find(T=>T.serial_number===D)||null,v=()=>{if(h!=null&&h.file_path){const D=document.createElement("a");D.href=h.file_path,D.download=`factura_${h.invoice_number}.pdf`,D.target="_blank",D.click()}};if(c)return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e("p",{className:"mt-4 text-slate-600",children:"Se încarcă..."})]})});if(!h)return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Factura nu a fost găsită"}),e("button",{onClick:()=>l("/invoices"),className:"btn-primary",children:"Înapoi la Facturi"})]})});const N=h.serial_number?typeof h.serial_number=="string"?JSON.parse(h.serial_number):h.serial_number:[],C=h.location?typeof h.location=="string"?(()=>{try{const D=JSON.parse(h.location);return typeof D=="string"?JSON.parse(D):D}catch{return[]}})():h.location:[];return e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-8",children:[e("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 mb-8 overflow-hidden",children:e("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>l("/invoices"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e(He,{className:"w-6 h-6 text-white"})}),e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(ee,{className:"w-8 h-8 text-white"})}),t("div",{children:[t("h1",{className:"text-3xl font-bold text-white mb-1",children:["Factura ",h.invoice_number]}),e("p",{className:"text-blue-100",children:"Detalii complete despre factură"})]})]}),t("button",{onClick:v,className:"btn-primary flex items-center space-x-2",children:[e(se,{className:"w-5 h-5"}),e("span",{children:"Descarcă PDF"})]})]})})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-1",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informații Factură"]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Număr Factură"}),e("p",{className:"text-slate-800 font-medium",children:h.invoice_number})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Cumpărător"}),e("p",{className:"text-slate-800",children:h.company})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Vânzător"}),e("p",{className:"text-slate-800 dark:text-slate-200",children:h.invoice_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Tip"}),e("p",{className:"text-slate-800 dark:text-slate-200",children:h.invoice_type})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Suma"}),t("p",{className:"text-slate-800 font-bold text-lg",children:[h.amount," ",h.currency]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),e("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${h.status==="Paid"?"bg-green-100 text-green-800":h.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:h.status})]}),h.description&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600",children:"Descriere"}),e("p",{className:"text-slate-800",children:h.description})]})]})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(je,{className:"w-5 h-5 mr-2 text-green-600"}),"Locații"]}),e("div",{className:"space-y-2",children:Array.isArray(C)&&C.length>0?C.map((D,T)=>t("div",{className:"flex items-center space-x-2",children:[e("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{className:"text-slate-700",children:D})]},T)):e("p",{className:"text-slate-500",children:"Toate locațiile"})})]})]}),t("div",{className:"lg:col-span-2",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-red-600"}),"PDF Factură"]}),e(bt,{pdfUrl:h.file_path,title:`PDF ${h.invoice_number}`,placeholder:"PDF-ul facturii nu este disponibil",placeholderSubtext:"Atașează PDF-ul facturii pentru vizualizare"})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[e(_e,{className:"w-5 h-5 mr-2 text-purple-600"}),"Serii Asociate (",N.length,")"]}),N.length>0?e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full",children:[e("thead",{className:"bg-slate-50 border-b border-slate-200",children:t("tr",{children:[e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Serial Number"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Locație"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Furnizor"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Cabinet"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Game Mix"}),e("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:"Status"})]})}),e("tbody",{className:"divide-y divide-slate-200",children:N.map((D,T)=>{const g=_(D);return t("tr",{className:"hover:bg-slate-50",children:[e("td",{className:"px-4 py-3 text-sm font-medium text-slate-900",children:D}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.location:"Necunoscută"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.provider:"Necunoscut"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.cabinet:"Necunoscut"}),e("td",{className:"px-4 py-3 text-sm text-slate-600",children:g?g.game_mix:"Necunoscut"}),e("td",{className:"px-4 py-3",children:g?e("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.status==="Active"?"bg-green-100 text-green-800":g.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:g.status}):e("span",{className:"text-slate-400",children:"N/A"})})]},T)})})]})}):t("div",{className:"text-center py-8 text-slate-500",children:[e(_e,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),e("p",{children:"Nu există serii asociate cu această factură"})]})]})]})]})]})})})},Ri=()=>{var D,T,g;const{id:a}=ra(),l=Ke(),{companies:r,loading:s,updateItem:i,refreshData:o}=te(),[n,u]=b.useState(null),[h,d]=b.useState(!1),[c,p]=b.useState(!1),[f,_]=b.useState({name:"",type:"Contract",file:null});b.useEffect(()=>{const k=r.find(z=>z.id===parseInt(a));k&&u(k)},[a,r]),b.useEffect(()=>{const k=r.find(z=>z.id===parseInt(a));k&&u(k)},[r,a]);const v=async k=>{if(k.preventDefault(),!(!f.file||!f.name)){p(!0);try{const z=new FormData;z.append("file",f.file),z.append("name",f.name),z.append("type",f.type),z.append("company_id",n.id);const S=await fetch("/api/companies/upload-document",{method:"POST",body:z});if(S.ok){const U=await S.json();u(U),d(!1),_({name:"",type:"Contract",file:null}),setTimeout(()=>{o()},500)}}catch(z){console.error("Error uploading document:",z)}finally{p(!1)}}},N=k=>{const z=k.createElement("a");z.href=k.file_path,z.download=k.name,z.target="_blank",z.click()},C=async k=>{if(window.confirm("Sigur vrei să ștergi acest document?"))try{const z=await fetch(`/api/companies/documents/${k}`,{method:"DELETE"});if(z.ok){const S=await z.json();u(S),setTimeout(()=>{o()},500)}}catch(z){console.error("Error deleting document:",z)}};return s?e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e("p",{className:"text-slate-600 dark:text-slate-300",children:"Se încarcă..."})]})}):n?t(oe,{children:[e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:t("div",{className:"container mx-auto px-4 py-8",children:[t("div",{className:"mb-8",children:[t("button",{onClick:()=>l("/companies"),className:"btn-secondary flex items-center space-x-2 mb-4",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Companii"})]}),e("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(fe,{className:"w-8 h-8 text-white"})}),t("div",{children:[e("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:n.name}),e("p",{className:"text-slate-600 dark:text-slate-300 text-lg",children:"Detalii complete despre companie"})]})]}),t("button",{onClick:()=>d(!0),className:"btn-primary flex items-center space-x-2",children:[e(ue,{className:"w-5 h-5"}),e("span",{children:"Atașează Document"})]})]})})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-1",children:[t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 mb-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informații Companie"]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Nume Companie"}),e("p",{className:"text-slate-800 dark:text-slate-200 font-medium",children:n.name})]}),n.cui&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"CUI"}),e("p",{className:"text-slate-800 dark:text-slate-200 font-medium",children:n.cui}),n.cuiFile&&t("div",{className:"mt-2 flex items-center space-x-2",children:[t("button",{onClick:()=>window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"),className:"inline-flex items-center px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors text-sm font-medium",title:"Previzualizează CUI",children:[e(ke,{className:"w-4 h-4 mr-1"}),"Vezi Document"]}),t("button",{onClick:()=>window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"),className:"inline-flex items-center px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",title:"Descarcă CUI",children:[e(se,{className:"w-4 h-4 mr-1"}),"Descarcă"]})]})]}),n.contact_person&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Persoană de Contact"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(vt,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.contact_person]})]}),n.phone&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Telefon"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(La,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.phone]})]}),n.email&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Email"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(ja,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.email]})]}),n.address&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Adresă"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(je,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),n.address]})]}),t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Data Creării"}),t("p",{className:"text-slate-800 dark:text-slate-200 font-medium flex items-center",children:[e(Le,{className:"w-4 h-4 mr-2 text-slate-500 dark:text-slate-400"}),new Date(n.created_at).toLocaleDateString("ro-RO")]})]}),n.status&&t("div",{children:[e("label",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 block mb-1",children:"Status"}),e("span",{className:`px-3 py-1.5 rounded-xl text-xs font-bold shadow-sm ${n.status==="Active"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800"}`,children:n.status})]})]})]}),n.notes&&t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-amber-600"}),"Note"]}),e("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:n.notes})]})]}),e("div",{className:"lg:col-span-2",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-red-600"}),"Documente Atașate"]}),n.documents&&n.documents.length>0||n.cuiFile?t("div",{className:"space-y-6",children:[(n.cuiFile||n.documents&&n.documents.length>0)&&t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Vizualizare Document"]}),e("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4 mb-4",children:e(bt,{pdfUrl:n.cui_file?`http://localhost:5001/api/pdf/${n.id}`:n.documents&&((D=n.documents[0])!=null&&D.file_path)?n.documents[0].file_path:null,title:n.cui_file?`CUI Document ${n.name}`:n.documents&&n.documents[0]?`PDF ${n.documents[0].name}`:"Document PDF",placeholder:"Nu există documente de afișat",placeholderSubtext:"Atașează primul document sau CUI pentru a începe"})}),t("div",{className:"flex items-center justify-between",children:[e("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.cuiFile?`Document: CUI ${n.name}`:`Document: ${(T=n.documents[0])==null?void 0:T.name} (${(g=n.documents[0])==null?void 0:g.type})`}),t("button",{onClick:()=>{n.cuiFile?window.open(`http://localhost:5001/api/pdf/${n.id}`,"_blank"):N(n.documents[0])},className:"btn-primary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Descarcă PDF"})]})]})]}),t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[t("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center",children:[e(ee,{className:"w-5 h-5 mr-2 text-green-600"}),"Toate Documentele (",n.cuiFile?1:0," + ",n.documents?n.documents.length:0,")"]}),t("div",{className:"space-y-4",children:[n.cuiFile&&e("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e(ee,{className:"w-5 h-5 text-blue-600"})}),t("div",{children:[t("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:["CUI ",n.name]}),t("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Document CUI • ",new Date(n.created_at).toLocaleDateString("ro-RO")]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>{const k=document.querySelector("iframe");k&&(k.src=n.cuiFile)},className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"Vezi în viewer",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>{const k=document.createElement("a");k.href=n.cuiFile,k.download=`CUI_${n.name||"company"}.pdf`,k.click()},className:"p-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",title:"Descarcă",children:e(se,{className:"w-4 h-4"})})]})]})}),n.documents&&n.documents.map((k,z)=>e("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e(ee,{className:"w-5 h-5 text-red-600"})}),t("div",{children:[e("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:k.name}),t("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[k.type," • ",new Date(k.uploaded_at).toLocaleDateString("ro-RO")]})]})]}),t("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>{const S=document.querySelector("iframe");S&&(S.src=k.file_path)},className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"Vezi în viewer",children:e(ke,{className:"w-4 h-4"})}),e("button",{onClick:()=>N(k),className:"p-2 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",title:"Descarcă",children:e(se,{className:"w-4 h-4"})}),e("button",{onClick:()=>C(k.id),className:"p-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-lg transition-colors",title:"Șterge",children:e(De,{className:"w-4 h-4"})})]})]})},z))]})]})]}):t("div",{className:"text-center py-12 text-slate-500",children:[e(ee,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),e("p",{className:"text-lg font-medium mb-2",children:"Nu există documente atașate"}),e("p",{className:"text-sm",children:"Atașează primul document sau CUI pentru a începe"})]})]})})]})]})}),h&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md mx-4",children:[e("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"Atașează Document"}),t("form",{onSubmit:v,className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nume Document"}),e("input",{type:"text",value:f.name,onChange:k=>_({...f,name:k.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ex: Contract de Colaborare",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Fișier PDF"}),e("input",{type:"file",accept:".pdf",onChange:k=>_({...f,file:k.target.files[0]}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t("div",{className:"flex space-x-3 pt-4",children:[e("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn-secondary",disabled:c,children:"Anulează"}),e("button",{type:"submit",className:"flex-1 btn-primary flex items-center justify-center space-x-2",disabled:c,children:c?t(ie,{children:[e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("span",{children:"Se încarcă..."})]}):t(ie,{children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Atașează"})]})})]})]})]})})]}):e(oe,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center",children:t("div",{className:"text-center",children:[e(fe,{className:"w-16 h-16 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),e("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Compania nu a fost găsită"}),e("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Compania pe care o căutați nu există în sistem."}),t("button",{onClick:()=>l("/companies"),className:"btn-primary flex items-center space-x-2 mx-auto",children:[e(He,{className:"w-4 h-4"}),e("span",{children:"Înapoi la Companii"})]})]})})})},Oi=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"",period:"",status:"Draft",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"",period:a.period||"",status:a.status||"Draft",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-indigo-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg",children:e(_e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Raport ONJN":"Adaugă Raport ONJN Nou"}),e("p",{className:"text-blue-100 text-sm font-medium",children:"Completează informațiile despre raportul ONJN"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Raport *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Numele raportului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează tipul"}),e("option",{value:"Monthly",children:"Lunar"}),e("option",{value:"Quarterly",children:"Trimestrial"}),e("option",{value:"Annual",children:"Anual"}),e("option",{value:"Special",children:"Special"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Perioada *"}),e("input",{type:"text",name:"period",value:s.period,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"ex: Ianuarie 2025",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[e("option",{value:"Draft",children:"Draft"}),e("option",{value:"Submitted",children:"Trimis"}),e("option",{value:"Approved",children:"Aprobat"}),e("option",{value:"Rejected",children:"Respins"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"px-6 py-3 text-slate-600 hover:text-slate-800 font-semibold transition-colors",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(ot,{className:"w-4 h-4"}),e("span",{children:a?"Actualizează":"Adaugă"})]})]})]})})]})})},Mi=()=>{const{onjnReports:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,u]=b.useState(""),[h,d]=b.useState([]),[c,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{d(x?k.map(F=>F.id):[])},_=(x,F)=>{d(F?[...h,x]:h.filter(y=>y!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("onjnReports",x);d([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[C,D]=b.useState(!1),[T,g]=b.useState(null),k=a.filter(x=>{var F,y,m;return((F=x.name)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))||((y=x.type)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((m=x.status)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),z=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME RAPORT",sortable:!0},{key:"type",label:"TIP",sortable:!0},{key:"period",label:"PERIOADA",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],S=x=>{g(x),D(!0)},U=async x=>{window.confirm("Sigur vrei să ștergi acest raport ONJN?")&&await i("onjnReports",x)},L=()=>{g(null),D(!0)},w=async x=>{T?await s("onjnReports",T.id,x):await r("onjnReports",x),D(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl shadow-lg shadow-blue-500/25",children:e(At,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Rapoarte ONJN"}),e("p",{className:"text-slate-600",children:"Generează și gestionează rapoartele ONJN"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("onjnReports")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),c&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Raport"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută rapoarte...",value:n,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):k.length===0?t("div",{className:"text-center py-12",children:[e(At,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există rapoarte ONJN"}),e("p",{className:"text-slate-500",children:"Adaugă primul raport pentru a începe"})]}):e(we,{data:k,columns:z,onEdit:S,onDelete:U,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:_})}),C&&e(Oi,{item:T,onClose:()=>D(!1),onSave:w})]})})},$i=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({name:"",type:"",status:"Valid",expiry_date:"",notes:""});b.useEffect(()=>{a&&i({name:a.name||"",type:a.type||"",status:a.status||"Valid",expiry_date:a.expiry_date||"",notes:a.notes||""})},[a]);const o=u=>{const{name:h,value:d}=u.target;i(c=>({...c,[h]:d}))};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-red-800 to-rose-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 to-rose-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-lg",children:e(Wa,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Document Legal":"Adaugă Document Legal Nou"}),e("p",{className:"text-red-100 text-sm font-medium",children:"Completează informațiile despre documentul legal"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:u=>{u.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Document *"}),e("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Numele documentului",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Tip *"}),t("select",{name:"type",value:s.type,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[e("option",{value:"",children:"Selectează tipul"}),e("option",{value:"License",children:"Licență"}),e("option",{value:"Permit",children:"Autorizație"}),e("option",{value:"Contract",children:"Contract"}),e("option",{value:"Certificate",children:"Certificat"}),e("option",{value:"Other",children:"Altele"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Data Expirării"}),e("input",{type:"date",name:"expiry_date",value:s.expiry_date,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[e("option",{value:"Valid",children:"Valid"}),e("option",{value:"Expired",children:"Expirat"}),e("option",{value:"Expiring Soon",children:"Expiră în curând"}),e("option",{value:"Invalid",children:"Invalid"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(Wa,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Document"]})]})]})]})})]})})},Bi=()=>{const{legalDocuments:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,u]=b.useState(""),[h,d]=b.useState([]),[c,p]=b.useState(!1);b.useEffect(()=>{p(h.length>0)},[h]);const f=x=>{d(x?k.map(F=>F.id):[])},_=(x,F)=>{d(F?[...h,x]:h.filter(y=>y!==x))},v=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} elemente?`))try{for(const x of h)await i("legalDocuments",x);d([]),p(!1)}catch(x){console.error("Error bulk deleting:",x)}},N=()=>{h.length!==0&&console.log("Bulk edit for:",h)},[C,D]=b.useState(!1),[T,g]=b.useState(null),k=a.filter(x=>{var F,y,m;return((F=x.name)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))||((y=x.type)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((m=x.status)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),z=[{key:"id",label:"#",sortable:!0},{key:"name",label:"NUME DOCUMENT",sortable:!0},{key:"type",label:"TIP",sortable:!0},{key:"status",label:"STATUS",sortable:!0},{key:"expiry_date",label:"DATA EXPIRARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.expiry_date?new Date(x.expiry_date).toLocaleDateString("ro-RO"):"N/A"})},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})},{key:"actions",label:"ACȚIUNI",sortable:!1}],S=x=>{g(x),D(!0)},U=async x=>{window.confirm("Sigur vrei să ștergi acest document legal?")&&await i("legalDocuments",x)},L=()=>{g(null),D(!0)},w=async x=>{T?await s("legalDocuments",T.id,x):await r("legalDocuments",x),D(!1),g(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-gray-500 to-slate-500 rounded-2xl shadow-lg shadow-gray-500/25",children:e(ee,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Documente Legale"}),e("p",{className:"text-slate-600",children:"Gestionează documentele legale din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("legalDocuments")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),c&&t(ie,{children:[t("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[e(Edit,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:v,className:"btn-danger flex items-center space-x-2",children:[e(Trash2,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Document"})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută documente...",value:n,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-500"})}):k.length===0?t("div",{className:"text-center py-12",children:[e(ee,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există documente legale"}),e("p",{className:"text-slate-500",children:"Adaugă primul document pentru a începe"})]}):e(we,{data:k,columns:z,onEdit:S,onDelete:U,searchTerm:n,selectedItems:h,onSelectAll:f,onSelectItem:_})}),C&&e($i,{item:T,onClose:()=>D(!1),onSave:w})]})})},Ui=({item:a,onClose:l,onSave:r})=>{const[s,i]=b.useState({username:"",full_name:"",email:"",role:"user",status:"active",notes:"",avatar:null,avatarPreview:null});b.useEffect(()=>{a&&i({username:a.username||"",full_name:a.full_name||"",email:a.email||"",role:a.role||"user",status:a.status||"active",notes:a.notes||"",avatar:a.avatar||null,avatarPreview:a.avatar||null})},[a]);const o=h=>{const{name:d,value:c}=h.target;i(p=>({...p,[d]:c}))},n=h=>{const d=h.target.files[0];if(d){const c=new FileReader;c.onload=p=>{i(f=>({...f,avatar:p.target.result,avatarPreview:p.target.result}))},c.readAsDataURL(d)}};return e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t("div",{className:"bg-white/90 dark:bg-slate-800/95 backdrop-blur-xl rounded-3xl w-full max-w-4xl overflow-hidden shadow-2xl shadow-slate-500/20 border border-white/30 dark:border-slate-700/50",children:[t("div",{className:"bg-gradient-to-r from-slate-800 via-indigo-800 to-blue-800 px-8 py-6 flex justify-between items-center relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-blue-600/20"}),t("div",{className:"relative z-10 flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-2xl shadow-lg",children:e(vt,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-3xl font-bold text-white mb-1",children:a?"Editează Utilizator":"Adaugă Utilizator Nou"}),e("p",{className:"text-indigo-100 text-sm font-medium",children:"Completează informațiile despre utilizator"})]})]}),e("button",{onClick:l,className:"relative z-10 text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-200 group",children:e(ne,{size:24,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),e("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:t("form",{onSubmit:h=>{h.preventDefault(),r(s)},className:"p-6 space-y-6",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Username *"}),e("input",{type:"text",name:"username",value:s.username,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Username",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Nume Complet *"}),e("input",{type:"text",name:"full_name",value:s.full_name,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Numele complet",required:!0})]}),t("div",{className:"space-y-2 md:col-span-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Avatar"}),t("div",{className:"flex items-center space-x-4",children:[s.avatarPreview?t("div",{className:"relative",children:[e("img",{src:s.avatarPreview,alt:"Avatar preview",className:"w-16 h-16 rounded-full object-cover border-2 border-slate-300"}),e("button",{type:"button",onClick:()=>i(h=>({...h,avatar:null,avatarPreview:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]}):e("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e(vt,{className:"w-8 h-8 text-slate-400"})}),t("div",{className:"flex-1",children:[e("input",{type:"file",accept:"image/*",onChange:n,className:"hidden",id:"avatar-upload"}),t("label",{htmlFor:"avatar-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors",children:[e(ue,{className:"w-4 h-4 mr-2"}),s.avatarPreview?"Schimbă Avatar":"Upload Avatar"]}),e("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG sau GIF (max 2MB)"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Email *"}),e("input",{type:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Adresa de email",required:!0})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Rol *"}),t("select",{name:"role",value:s.role,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",required:!0,children:[e("option",{value:"admin",children:"Administrator"}),e("option",{value:"manager",children:"Manager"}),e("option",{value:"user",children:"Utilizator"}),e("option",{value:"viewer",children:"Vizualizator"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Status *"}),t("select",{name:"status",value:s.status,onChange:o,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",required:!0,children:[e("option",{value:"active",children:"Activ"}),e("option",{value:"inactive",children:"Inactiv"}),e("option",{value:"suspended",children:"Suspendat"})]})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-semibold text-slate-700",children:"Note"}),e("textarea",{name:"notes",value:s.notes,onChange:o,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Note adiționale"})]}),t("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[e("button",{type:"button",onClick:l,className:"btn-secondary",children:"Anulează"}),t("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[e(vt,{className:"w-4 h-4"}),t("span",{children:[a?"Actualizează":"Creează"," Utilizator"]})]})]})]})})]})})},qi=()=>{const{users:a,loading:l,createItem:r,updateItem:s,deleteItem:i,exportData:o}=te(),[n,u]=b.useState(""),[h,d]=b.useState([]),[c,p]=b.useState(!1),[f,_]=b.useState(!1),[v,N]=b.useState(null);b.useEffect(()=>{p(h.length>0)},[h]);const C=x=>{d(x?k.map(F=>F.id):[])},D=(x,F)=>{d(F?[...h,x]:h.filter(y=>y!==x))},T=async()=>{if(h.length!==0&&window.confirm(`Ești sigur că vrei să ștergi ${h.length} utilizatori?`))try{for(const x of h)await i("users",x);d([]),p(!1)}catch(x){console.error("Error bulk deleting users:",x)}},g=()=>{h.length!==0&&console.log("Bulk edit for users:",h)},k=a.filter(x=>{var F,y,m,E;return((F=x.username)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))||((y=x.full_name)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((m=x.email)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))||((E=x.role)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))}),z=[{key:"full_name",label:"NUME COMPLET",sortable:!0,render:x=>t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-shrink-0",children:x.avatar?e("img",{src:x.avatar,alt:x.full_name||x.username,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200"}):e("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-semibold text-sm",children:(x.full_name||x.username||"U").charAt(0).toUpperCase()})}),t("div",{className:"min-w-0 flex-1",children:[e("p",{className:"text-sm font-medium text-slate-900 truncate",children:x.full_name||"N/A"}),t("p",{className:"text-sm text-slate-500 truncate",children:["@",x.username]})]})]})},{key:"email",label:"EMAIL",sortable:!0},{key:"role",label:"ROL",sortable:!0},{key:"created_by",label:"CREAT DE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_by||"N/A"})},{key:"created_at",label:"DATA CREARE",sortable:!0,render:x=>e("div",{className:"text-slate-800 font-medium text-base",children:x.created_at?new Date(x.created_at).toLocaleDateString("ro-RO"):"N/A"})}],S=x=>{N(x),_(!0)},U=async x=>{window.confirm("Sigur vrei să ștergi acest utilizator?")&&await i("users",x)},L=()=>{N(null),_(!0)},w=async x=>{v?await s("users",v.id,x):await r("users",x),_(!1),N(null)};return e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[e("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl shadow-lg shadow-purple-500/25",children:e($e,{className:"w-6 h-6 text-white"})}),t("div",{children:[e("h2",{className:"text-2xl font-bold text-slate-800",children:"Management Utilizatori"}),e("p",{className:"text-slate-600",children:"Gestionează utilizatorii din sistem"})]})]}),t("div",{className:"flex items-center space-x-3",children:[t("button",{onClick:()=>{o("users")},className:"btn-secondary flex items-center space-x-2",children:[e(se,{className:"w-4 h-4"}),e("span",{children:"Exportă"})]}),t("div",{className:"flex space-x-3",children:[c&&t(ie,{children:[t("button",{onClick:g,className:"btn-secondary flex items-center space-x-2",children:[e(Te,{className:"w-4 h-4"}),e("span",{children:"Bulk Edit"})]}),t("button",{onClick:T,className:"btn-danger flex items-center space-x-2",children:[e(De,{className:"w-4 h-4"}),e("span",{children:"Bulk Delete"})]})]}),t("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e(me,{className:"w-4 h-4"}),e("span",{children:"Adaugă Utilizator"})]})]})]})]})}),e("div",{className:"card p-6",children:t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"flex-1 relative",children:[e(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e("input",{type:"text",placeholder:"Caută utilizatori...",value:n,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t("button",{className:"btn-secondary flex items-center space-x-2",children:[e(ue,{className:"w-4 h-4"}),e("span",{children:"Importă"})]})]})}),e("div",{className:"card p-6",children:l?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):k.length===0?t("div",{className:"text-center py-12",children:[e($e,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Nu există utilizatori"}),e("p",{className:"text-slate-500",children:"Adaugă primul utilizator pentru a începe"})]}):e(we,{data:k,columns:z,onEdit:S,onDelete:U,searchTerm:n,selectedItems:h,onSelectAll:C,onSelectItem:D})}),f&&e(Ui,{item:v,onClose:()=>_(!1),onSave:w})]})})},Gi=()=>{var S,U,L,w,I,x,F,y,m,E,M,O,q,J,H,X,re,R,G,A,V,W,Y,be,Ee,ve,Pe,qe,Ge,st,xt,$,le,he,ce,Ne,Ie,nt,Fe,Ve,Qe,jt,Pt,Ft,Rt,Ot,Mt,$t,Bt,Ut,qt,pa,B,Q,de,pe;const[a,l]=b.useState("header"),[r,s]=b.useState({logo:{type:"upload",url:"",file:null},favicon:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},background:{type:"color",color:"#f1f5f9",imageUrl:"",imageFile:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System",loginTexts:{title:"Login",emailLabel:"Email",passwordLabel:"Password",buttonText:"Log In",forgotPassword:"Forgot Password?",termsText:"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement",joinText:"Got an invitation? Join Now",supportText:"Need help? Contact us at login-support@in.group"}});b.useEffect(()=>{const j=localStorage.getItem("appSettings");j&&s(JSON.parse(j))},[]);const i=j=>{s({...r,logo:{...r.logo,type:j}})},o=j=>{s({...r,logo:{...r.logo,url:j}})},n=j=>{const ae=j.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,logo:{...r.logo,file:ye.result}})},ye.readAsDataURL(ae)}},u=j=>{s({...r,favicon:{...r.favicon,type:j}})},h=j=>{s({...r,favicon:{...r.favicon,url:j}})},d=j=>{const ae=j.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,favicon:{...r.favicon,file:ye.result}});const Gt=document.querySelector("link[rel~='icon']");Gt&&(Gt.href=ye.result)},ye.readAsDataURL(ae)}},c=(j,ae)=>{s({...r,headerColor:{...r.headerColor,[j]:ae}})},p=j=>{s({...r,background:{...r.background,type:j}})},f=j=>{s({...r,background:{...r.background,color:j}}),document.body.style.backgroundColor=j},_=j=>{s({...r,background:{...r.background,imageUrl:j}})},v=j=>{const ae=j.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,background:{...r.background,imageFile:ye.result}}),document.body.style.backgroundImage=`url(${ye.result})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"},ye.readAsDataURL(ae)}},N=j=>{s({...r,loginImage:{...r.loginImage,type:j}})},C=j=>{s({...r,loginImage:{...r.loginImage,url:j}})},D=j=>{const ae=j.target.files[0];if(ae){const ye=new FileReader;ye.onloadend=()=>{s({...r,loginImage:{...r.loginImage,file:ye.result}})},ye.readAsDataURL(ae)}},T=(j,ae)=>{s({...r,loginButtonColor:{...r.loginButtonColor,[j]:ae}})},g=()=>{localStorage.setItem("appSettings",JSON.stringify(r)),z(),alert("Setările au fost salvate cu succes!")},k=()=>{window.confirm("Sigur doriți să resetați toate setările la valorile implicite?")&&(s({logo:{type:"upload",url:"",file:null},favicon:{type:"upload",url:"",file:null},headerColor:{primary:"#2563eb",secondary:"#4f46e5",useGradient:!0},background:{type:"color",color:"#f1f5f9",imageUrl:"",imageFile:null},loginImage:{type:"upload",url:"",file:null},loginButtonColor:{primary:"#FF7A00",secondary:"#FF9500",useGradient:!1},loginPageColor:{primary:"#FFFFFF",secondary:"#F5F5F5",useGradient:!1},loginCardColor:{primary:"#8B5CF6",secondary:"#A855F7",useGradient:!0},loginTextColor:{title:"#1e293b",labels:"#334155",text:"#64748b"},appTitle:"CASHPOT V7",appSubtitle:"Gaming Management System",loginTexts:{title:"Login",emailLabel:"Email",passwordLabel:"Password",buttonText:"Log In",forgotPassword:"Forgot Password?",termsText:"By clicking login you agree to the terms of the Club Membership Agreement and the Independent Partner Agreement",joinText:"Got an invitation? Join Now",supportText:"Need help? Contact us at login-support@in.group"}}),localStorage.removeItem("appSettings"),document.body.style.backgroundColor="#f1f5f9",document.body.style.backgroundImage="none",alert("Setările au fost resetate!"))},z=()=>{if(r.headerColor.useGradient){const ae=document.querySelector("header");ae&&(ae.style.background=`linear-gradient(to right, ${r.headerColor.primary}, ${r.headerColor.secondary})`)}else{const ae=document.querySelector("header");ae&&(ae.style.background=r.headerColor.primary)}if(r.background.type==="color")document.body.style.backgroundColor=r.background.color,document.body.style.backgroundImage="none";else if(r.background.type==="image"){const ae=r.background.imageFile||r.background.imageUrl;ae&&(document.body.style.backgroundImage=`url(${ae})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed")}const j=r.favicon.file||r.favicon.url;if(j){const ae=document.querySelector("link[rel~='icon']");ae&&(ae.href=j)}};return b.useEffect(()=>{z()},[r]),e(oe,{children:t("div",{className:"space-y-6",children:[e("div",{className:"card p-6",children:t("div",{className:"flex space-x-1 bg-slate-100 rounded-xl p-1",children:[e("button",{onClick:()=>l("header"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="header"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(bl,{size:20}),e("span",{children:"Header"})]})}),e("button",{onClick:()=>l("main"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="main"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(br,{size:20}),e("span",{children:"Pagina Principală"})]})}),e("button",{onClick:()=>l("login"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="login"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(xl,{size:20}),e("span",{children:"Login Page"})]})}),e("button",{onClick:()=>l("backup"),className:`flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-200 ${a==="backup"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:t("div",{className:"flex items-center justify-center space-x-2",children:[e(Et,{size:20}),e("span",{children:"Backup BD"})]})})]})}),a==="header"&&e("div",{className:"space-y-6",children:t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-blue-600"}),e("span",{children:"Logo Aplicație"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>i("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.logo.type==="upload"?"bg-blue-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>i("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.logo.type==="link"?"bg-blue-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),r.logo.type==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Logo"}),e("input",{type:"file",accept:"image/*",onChange:n,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/30 dark:file:text-blue-300 dark:hover:file:bg-blue-800/40"}),r.logo.file&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.logo.file,alt:"Logo Preview",className:"h-16 object-contain"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Logo"}),e("input",{type:"text",value:r.logo.url,onChange:j=>o(j.target.value),className:"input-field",placeholder:"https://example.com/logo.png"}),r.logo.url&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.logo.url,alt:"Logo Preview",className:"h-16 object-contain"})})]})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-purple-600"}),e("span",{children:"Culoare Header"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"gradientToggle",checked:r.headerColor.useGradient,onChange:j=>c("useGradient",j.target.checked),className:"form-checkbox rounded text-purple-600"}),e("label",{htmlFor:"gradientToggle",className:"text-sm font-semibold text-slate-700",children:"Folosește Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.headerColor.primary,onChange:j=>c("primary",j.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.headerColor.primary,onChange:j=>c("primary",j.target.value),className:"input-field flex-1",placeholder:"#2563eb"})]})]}),r.headerColor.useGradient&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.headerColor.secondary,onChange:j=>c("secondary",j.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.headerColor.secondary,onChange:j=>c("secondary",j.target.value),className:"input-field flex-1",placeholder:"#4f46e5"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:r.headerColor.useGradient?`linear-gradient(to right, ${r.headerColor.primary}, ${r.headerColor.secondary})`:r.headerColor.primary},children:e("p",{className:"text-white font-bold text-center",children:"Preview Header"})})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-teal-600"}),e("span",{children:"Texte Header"})]}),e("div",{className:"space-y-4",children:t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Titlu Aplicație"}),e("input",{type:"text",value:r.appTitle,onChange:j=>s({...r,appTitle:j.target.value}),className:"input-field",placeholder:"CASHPOT V7"}),e("p",{className:"text-xs text-slate-500",children:"Textul afișat în header"})]})})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-green-600"}),e("span",{children:"Favicon"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>u("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.favicon.type==="upload"?"bg-green-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>u("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${r.favicon.type==="link"?"bg-green-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),r.favicon.type==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Favicon"}),e("input",{type:"file",accept:"image/*,.ico",onChange:d,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100 dark:file:bg-green-900/30 dark:file:text-green-300 dark:hover:file:bg-green-800/40"}),r.favicon.file&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.favicon.file,alt:"Favicon Preview",className:"h-8 w-8 object-contain"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Favicon"}),e("input",{type:"text",value:r.favicon.url,onChange:j=>h(j.target.value),className:"input-field",placeholder:"https://example.com/favicon.ico"}),r.favicon.url&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.favicon.url,alt:"Favicon Preview",className:"h-8 w-8 object-contain"})})]})]})]})]})}),a==="main"&&e("div",{className:"space-y-6",children:t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-orange-600"}),e("span",{children:"Fundal Pagină"})]}),t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>p("color"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-all ${r.background.type==="color"?"bg-orange-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Culoare"}),e("button",{onClick:()=>p("image"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-all ${r.background.type==="image"?"bg-orange-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Imagine"})]}),r.background.type==="color"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Fundal"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:r.background.color,onChange:j=>f(j.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:r.background.color,onChange:j=>f(j.target.value),className:"input-field flex-1",placeholder:"#f1f5f9"})]})]}):t("div",{className:"space-y-4",children:[t("div",{className:"flex space-x-4",children:[t("button",{onClick:()=>s({...r,background:{...r.background,imageType:"upload"}}),className:"flex-1 py-2 px-3 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 font-semibold",children:[e(ue,{className:"w-4 h-4 inline mr-1"}),"Upload"]}),t("button",{onClick:()=>s({...r,background:{...r.background,imageType:"link"}}),className:"flex-1 py-2 px-3 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 font-semibold",children:[e(Vt,{className:"w-4 h-4 inline mr-1"}),"Link"]})]}),r.background.imageType==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Imagine"}),e("input",{type:"file",accept:"image/*",onChange:v,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100 dark:file:bg-orange-900/30 dark:file:text-orange-300 dark:hover:file:bg-orange-800/40"})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Imagine"}),e("input",{type:"text",value:r.background.imageUrl,onChange:j=>_(j.target.value),className:"input-field",placeholder:"https://example.com/background.jpg"})]})]})]})]})}),a==="login"&&t("div",{className:"space-y-6",children:[t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-teal-600"}),e("span",{children:"Texte Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Titlu Login"}),e("input",{type:"text",value:((S=r.loginTexts)==null?void 0:S.title)||"Login",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},title:j.target.value}}),className:"input-field",placeholder:"Login"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Etichetă Email"}),e("input",{type:"text",value:((U=r.loginTexts)==null?void 0:U.emailLabel)||"Email",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},emailLabel:j.target.value}}),className:"input-field",placeholder:"Email"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Etichetă Parolă"}),e("input",{type:"text",value:((L=r.loginTexts)==null?void 0:L.passwordLabel)||"Password",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},passwordLabel:j.target.value}}),className:"input-field",placeholder:"Password"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Buton"}),e("input",{type:"text",value:((w=r.loginTexts)==null?void 0:w.buttonText)||"Log In",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},buttonText:j.target.value}}),className:"input-field",placeholder:"Log In"})]}),t("div",{className:"space-y-2 lg:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:'Text "Forgot Password"'}),e("input",{type:"text",value:((I=r.loginTexts)==null?void 0:I.forgotPassword)||"Forgot Password?",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},forgotPassword:j.target.value}}),className:"input-field",placeholder:"Forgot Password?"})]}),t("div",{className:"space-y-2 lg:col-span-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Termeni"}),e("textarea",{value:((x=r.loginTexts)==null?void 0:x.termsText)||"",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},termsText:j.target.value}}),className:"input-field min-h-[60px] resize-none",placeholder:"By clicking login you agree to the terms..."})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:'Text "Join Now"'}),e("input",{type:"text",value:((F=r.loginTexts)==null?void 0:F.joinText)||"Got an invitation? Join Now",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},joinText:j.target.value}}),className:"input-field",placeholder:"Got an invitation? Join Now"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"block text-sm font-bold text-slate-700",children:"Text Support"}),e("input",{type:"text",value:((y=r.loginTexts)==null?void 0:y.supportText)||"Need help? Contact us at...",onChange:j=>s({...r,loginTexts:{...r.loginTexts||{},supportText:j.target.value}}),className:"input-field",placeholder:"Need help? Contact us at..."})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-pink-600"}),e("span",{children:"Culori Text Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Titlu"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((m=r.loginTextColor)==null?void 0:m.title)||"#1e293b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},title:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((E=r.loginTextColor)==null?void 0:E.title)||"#1e293b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},title:j.target.value}}),className:"input-field flex-1",placeholder:"#1e293b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-bold text-2xl text-center",style:{color:((M=r.loginTextColor)==null?void 0:M.title)||"#1e293b"},children:"Login"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Etichete"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((O=r.loginTextColor)==null?void 0:O.labels)||"#334155",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((q=r.loginTextColor)==null?void 0:q.labels)||"#334155",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:j.target.value}}),className:"input-field flex-1",placeholder:"#334155"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-semibold text-sm",style:{color:((J=r.loginTextColor)==null?void 0:J.labels)||"#334155"},children:"Email *"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Text Secundar"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((H=r.loginTextColor)==null?void 0:H.text)||"#64748b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},text:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((X=r.loginTextColor)==null?void 0:X.text)||"#64748b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},text:j.target.value}}),className:"input-field flex-1",placeholder:"#64748b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"text-xs text-center",style:{color:((re=r.loginTextColor)==null?void 0:re.text)||"#64748b"},children:"Terms & Support"})})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-indigo-600"}),e("span",{children:"Culori Fundal Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Fundal Formular"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginPageGradient",checked:((R=r.loginPageColor)==null?void 0:R.useGradient)||!1,onChange:j=>s({...r,loginPageColor:{...r.loginPageColor,useGradient:j.target.checked}}),className:"form-checkbox rounded text-indigo-600"}),e("label",{htmlFor:"loginPageGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((G=r.loginPageColor)==null?void 0:G.primary)||"#FFFFFF",onChange:j=>s({...r,loginPageColor:{...r.loginPageColor,primary:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((A=r.loginPageColor)==null?void 0:A.primary)||"#FFFFFF",onChange:j=>s({...r,loginPageColor:{...r.loginPageColor,primary:j.target.value}}),className:"input-field flex-1"})]})]}),((V=r.loginPageColor)==null?void 0:V.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((W=r.loginPageColor)==null?void 0:W.secondary)||"#F5F5F5",onChange:j=>s({...r,loginPageColor:{...r.loginPageColor,secondary:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Y=r.loginPageColor)==null?void 0:Y.secondary)||"#F5F5F5",onChange:j=>s({...r,loginPageColor:{...r.loginPageColor,secondary:j.target.value}}),className:"input-field flex-1"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:(be=r.loginPageColor)!=null&&be.useGradient?`linear-gradient(to right, ${r.loginPageColor.primary}, ${r.loginPageColor.secondary})`:((Ee=r.loginPageColor)==null?void 0:Ee.primary)||"#FFFFFF"},children:e("p",{className:"text-slate-800 font-bold text-center",children:"Preview Fundal"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Card Sub Logo"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginCardGradient",checked:((ve=r.loginCardColor)==null?void 0:ve.useGradient)||!1,onChange:j=>s({...r,loginCardColor:{...r.loginCardColor,useGradient:j.target.checked}}),className:"form-checkbox rounded text-purple-600"}),e("label",{htmlFor:"loginCardGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((Pe=r.loginCardColor)==null?void 0:Pe.primary)||"#8B5CF6",onChange:j=>s({...r,loginCardColor:{...r.loginCardColor,primary:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((qe=r.loginCardColor)==null?void 0:qe.primary)||"#8B5CF6",onChange:j=>s({...r,loginCardColor:{...r.loginCardColor,primary:j.target.value}}),className:"input-field flex-1",placeholder:"#8B5CF6"})]})]}),((Ge=r.loginCardColor)==null?void 0:Ge.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((st=r.loginCardColor)==null?void 0:st.secondary)||"#A855F7",onChange:j=>s({...r,loginCardColor:{...r.loginCardColor,secondary:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((xt=r.loginCardColor)==null?void 0:xt.secondary)||"#A855F7",onChange:j=>s({...r,loginCardColor:{...r.loginCardColor,secondary:j.target.value}}),className:"input-field flex-1",placeholder:"#A855F7"})]})]}),e("div",{className:"rounded-2xl shadow-2xl p-8",style:{background:($=r.loginCardColor)!=null&&$.useGradient?`linear-gradient(to right, ${r.loginCardColor.primary}, ${r.loginCardColor.secondary})`:((le=r.loginCardColor)==null?void 0:le.primary)||"#8B5CF6"},children:e("p",{className:"text-white font-bold text-2xl text-center",children:"Login"})})]})]})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-orange-600"}),e("span",{children:"Culoare Buton Login"})]}),e("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Buton"}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"loginButtonGradient",checked:((he=r.loginButtonColor)==null?void 0:he.useGradient)||!1,onChange:j=>T("useGradient",j.target.checked),className:"form-checkbox rounded text-indigo-600"}),e("label",{htmlFor:"loginButtonGradient",className:"text-sm font-semibold text-slate-700",children:"Gradient"})]}),t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Primară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((ce=r.loginButtonColor)==null?void 0:ce.primary)||"#FF7A00",onChange:j=>T("primary",j.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Ne=r.loginButtonColor)==null?void 0:Ne.primary)||"#FF7A00",onChange:j=>T("primary",j.target.value),className:"input-field flex-1"})]})]}),((Ie=r.loginButtonColor)==null?void 0:Ie.useGradient)&&t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Culoare Secundară"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((nt=r.loginButtonColor)==null?void 0:nt.secondary)||"#FF9500",onChange:j=>T("secondary",j.target.value),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Fe=r.loginButtonColor)==null?void 0:Fe.secondary)||"#FF9500",onChange:j=>T("secondary",j.target.value),className:"input-field flex-1"})]})]}),e("div",{className:"p-4 rounded-lg",style:{background:(Ve=r.loginButtonColor)!=null&&Ve.useGradient?`linear-gradient(to right, ${r.loginButtonColor.primary}, ${r.loginButtonColor.secondary})`:((Qe=r.loginButtonColor)==null?void 0:Qe.primary)||"#FF7A00"},children:e("p",{className:"text-white font-bold text-center",children:"Preview Button"})})]})})]}),t("div",{className:"card p-6 space-y-6",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(dt,{className:"w-5 h-5 text-pink-600"}),e("span",{children:"Culori Text Login"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Titlu"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((jt=r.loginTextColor)==null?void 0:jt.title)||"#1e293b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},title:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Pt=r.loginTextColor)==null?void 0:Pt.title)||"#1e293b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},title:j.target.value}}),className:"input-field flex-1",placeholder:"#1e293b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-bold text-2xl text-center",style:{color:((Ft=r.loginTextColor)==null?void 0:Ft.title)||"#1e293b"},children:"Login"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Culoare Etichete"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:((Rt=r.loginTextColor)==null?void 0:Rt.labels)||"#334155",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Ot=r.loginTextColor)==null?void 0:Ot.labels)||"#334155",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},labels:j.target.value}}),className:"input-field flex-1",placeholder:"#334155"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"font-semibold text-sm text-center",style:{color:((Mt=r.loginTextColor)==null?void 0:Mt.labels)||"#334155"},children:"Email *"})})]}),t("div",{className:"space-y-4",children:[e("h4",{className:"font-bold text-slate-700",children:"Text Secundar"}),t("div",{className:"flex items-center space-x-3",children:[e("input",{type:"color",value:(($t=r.loginTextColor)==null?void 0:$t.text)||"#64748b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},text:j.target.value}}),className:"h-12 w-20 rounded-lg border-2 border-slate-200 cursor-pointer"}),e("input",{type:"text",value:((Bt=r.loginTextColor)==null?void 0:Bt.text)||"#64748b",onChange:j=>s({...r,loginTextColor:{...r.loginTextColor||{},text:j.target.value}}),className:"input-field flex-1",placeholder:"#64748b"})]}),e("div",{className:"p-4 rounded-lg bg-slate-50",children:e("p",{className:"text-xs text-center",style:{color:((Ut=r.loginTextColor)==null?void 0:Ut.text)||"#64748b"},children:"Terms"})})]})]})]}),t("div",{className:"card p-6 space-y-4",children:[t("h3",{className:"text-xl font-bold text-slate-800 flex items-center space-x-2 border-b border-slate-200 pb-4",children:[e(St,{className:"w-5 h-5 text-indigo-600"}),e("span",{children:"Imagine Fundal Login"})]}),t("div",{className:"flex space-x-4 mb-4",children:[t("button",{onClick:()=>N("upload"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${((qt=r.loginImage)==null?void 0:qt.type)==="upload"?"bg-indigo-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e(ue,{className:"w-4 h-4 inline mr-2"}),"Upload"]}),t("button",{onClick:()=>N("link"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${((pa=r.loginImage)==null?void 0:pa.type)==="link"?"bg-indigo-500 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e(Vt,{className:"w-4 h-4 inline mr-2"}),"Link"]})]}),((B=r.loginImage)==null?void 0:B.type)==="upload"?t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Încarcă Imagine"}),e("input",{type:"file",accept:"image/*",onChange:D,className:"input-field file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/30 dark:file:text-indigo-300 dark:hover:file:bg-indigo-800/40"}),((Q=r.loginImage)==null?void 0:Q.file)&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.loginImage.file,alt:"Login Preview",className:"h-32 w-full object-cover rounded"})})]}):t("div",{children:[e("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"URL Imagine"}),e("input",{type:"text",value:((de=r.loginImage)==null?void 0:de.url)||"",onChange:j=>C(j.target.value),className:"input-field",placeholder:"https://example.com/login-bg.jpg"}),((pe=r.loginImage)==null?void 0:pe.url)&&e("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:e("img",{src:r.loginImage.url,alt:"Login Preview",className:"h-32 w-full object-cover rounded"})})]})]})]}),a==="backup"&&e(Qr,{compact:!1}),a!=="backup"&&e("div",{className:"card p-6",children:t("div",{className:"flex justify-end space-x-4",children:[t("button",{onClick:k,className:"btn-secondary flex items-center space-x-2",children:[e(at,{size:18}),e("span",{children:"Resetează"})]}),t("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[e(ot,{size:18}),e("span",{children:"Salvează Setări"})]})]})})]})})};function Vi(){return e(Vn,{children:e(Jn,{children:e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:t(al,{children:[e(xe,{path:"/login",element:e(Hn,{})}),e(xe,{path:"/",element:e(va,{to:"/login",replace:!0})}),e(xe,{path:"/dashboard",element:e(ei,{})}),e(xe,{path:"/companies",element:e(ai,{})}),e(xe,{path:"/companies/:id",element:e(Ri,{})}),e(xe,{path:"/locations",element:e(oi,{})}),e(xe,{path:"/providers",element:e(di,{})}),e(xe,{path:"/cabinets",element:e(hi,{})}),e(xe,{path:"/game-mixes",element:e(xi,{})}),e(xe,{path:"/games/:gameId",element:e(gi,{})}),e(xe,{path:"/slots",element:e(vi,{})}),e(xe,{path:"/slots/history",element:e(yi,{})}),e(xe,{path:"/slots/:id",element:e(Ni,{})}),e(xe,{path:"/warehouse",element:e(ki,{})}),e(xe,{path:"/metrology",element:e(Ti,{})}),e(xe,{path:"/jackpots",element:e(Li,{})}),e(xe,{path:"/invoices",element:e(Pi,{})}),e(xe,{path:"/invoices/:id",element:e(Fi,{})}),e(xe,{path:"/onjn-reports",element:e(Mi,{})}),e(xe,{path:"/legal-documents",element:e(Bi,{})}),e(xe,{path:"/users",element:e(qi,{})}),e(xe,{path:"/settings",element:e(Gi,{})}),e(xe,{path:"*",element:e(va,{to:"/login",replace:!0})})]})})})})}Ca.createRoot(document.getElementById("root")).render(e(fa.StrictMode,{children:e(us,{children:t(rl,{children:[e(Vi,{}),e(ds,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
